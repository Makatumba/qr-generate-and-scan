var tx=Object.create;var eu=Object.defineProperty,nx=Object.defineProperties,rx=Object.getOwnPropertyDescriptor,ix=Object.getOwnPropertyDescriptors,ox=Object.getOwnPropertyNames,xp=Object.getOwnPropertySymbols,sx=Object.getPrototypeOf,Ep=Object.prototype.hasOwnProperty,ax=Object.prototype.propertyIsEnumerable;var vp=(t,e,n)=>e in t?eu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q=(t,e)=>{for(var n in e||={})Ep.call(e,n)&&vp(t,n,e[n]);if(xp)for(var n of xp(e))ax.call(e,n)&&vp(t,n,e[n]);return t},be=(t,e)=>nx(t,ix(e));var je=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var cx=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of ox(e))!Ep.call(t,a)&&a!==n&&eu(t,a,{get:()=>e[a],enumerable:!(r=rx(e,a))||r.enumerable});return t};var Ip=(t,e,n)=>(n=t!=null?tx(sx(t)):{},cx(e||!t||!t.__esModule?eu(n,"default",{value:t,enumerable:!0}):n,t));var tu=(t,e,n)=>new Promise((r,a)=>{var l=C=>{try{g(n.next(C))}catch(y){a(y)}},h=C=>{try{g(n.throw(C))}catch(y){a(y)}},g=C=>C.done?r(C.value):Promise.resolve(C.value).then(l,h);g((n=n.apply(t,e)).next())});var ky=je((L4,Py)=>{"use strict";Py.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var Nr=je(hi=>{"use strict";var gh,MS=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];hi.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};hi.getSymbolTotalCodewords=function(e){return MS[e]};hi.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};hi.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');gh=e};hi.isKanjiModeEnabled=function(){return typeof gh<"u"};hi.toSJIS=function(e){return gh(e)}});var pl=je(un=>{"use strict";un.L={bit:1};un.M={bit:0};un.Q={bit:3};un.H={bit:2};function _S(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return un.L;case"m":case"medium":return un.M;case"q":case"quartile":return un.Q;case"h":case"high":return un.H;default:throw new Error("Unknown EC Level: "+t)}}un.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};un.from=function(e,n){if(un.isValid(e))return e;try{return _S(e)}catch{return n}}});var Uy=je((k4,Vy)=>{"use strict";function By(){this.buffer=[],this.length=0}By.prototype={get:function(t){let e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};Vy.exports=By});var Hy=je((B4,jy)=>{"use strict";function zs(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}zs.prototype.set=function(t,e,n,r){let a=t*this.size+e;this.data[a]=n,r&&(this.reservedBit[a]=!0)};zs.prototype.get=function(t,e){return this.data[t*this.size+e]};zs.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};zs.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};jy.exports=zs});var zy=je(gl=>{"use strict";var NS=Nr().getSymbolSize;gl.getRowColCoords=function(e){if(e===1)return[];let n=Math.floor(e/7)+2,r=NS(e),a=r===145?26:Math.ceil((r-13)/(2*n-2))*2,l=[r-7];for(let h=1;h<n-1;h++)l[h]=l[h-1]-a;return l.push(6),l.reverse()};gl.getPositions=function(e){let n=[],r=gl.getRowColCoords(e),a=r.length;for(let l=0;l<a;l++)for(let h=0;h<a;h++)l===0&&h===0||l===0&&h===a-1||l===a-1&&h===0||n.push([r[l],r[h]]);return n}});var $y=je(Wy=>{"use strict";var RS=Nr().getSymbolSize,Gy=7;Wy.getPositions=function(e){let n=RS(e);return[[0,0],[n-Gy,0],[0,n-Gy]]}});var Yy=je(Ze=>{"use strict";Ze.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var pi={N1:3,N2:3,N3:40,N4:10};Ze.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};Ze.from=function(e){return Ze.isValid(e)?parseInt(e,10):void 0};Ze.getPenaltyN1=function(e){let n=e.size,r=0,a=0,l=0,h=null,g=null;for(let C=0;C<n;C++){a=l=0,h=g=null;for(let y=0;y<n;y++){let E=e.get(C,y);E===h?a++:(a>=5&&(r+=pi.N1+(a-5)),h=E,a=1),E=e.get(y,C),E===g?l++:(l>=5&&(r+=pi.N1+(l-5)),g=E,l=1)}a>=5&&(r+=pi.N1+(a-5)),l>=5&&(r+=pi.N1+(l-5))}return r};Ze.getPenaltyN2=function(e){let n=e.size,r=0;for(let a=0;a<n-1;a++)for(let l=0;l<n-1;l++){let h=e.get(a,l)+e.get(a,l+1)+e.get(a+1,l)+e.get(a+1,l+1);(h===4||h===0)&&r++}return r*pi.N2};Ze.getPenaltyN3=function(e){let n=e.size,r=0,a=0,l=0;for(let h=0;h<n;h++){a=l=0;for(let g=0;g<n;g++)a=a<<1&2047|e.get(h,g),g>=10&&(a===1488||a===93)&&r++,l=l<<1&2047|e.get(g,h),g>=10&&(l===1488||l===93)&&r++}return r*pi.N3};Ze.getPenaltyN4=function(e){let n=0,r=e.data.length;for(let l=0;l<r;l++)n+=e.data[l];return Math.abs(Math.ceil(n*100/r/5)-10)*pi.N4};function OS(t,e,n){switch(t){case Ze.Patterns.PATTERN000:return(e+n)%2===0;case Ze.Patterns.PATTERN001:return e%2===0;case Ze.Patterns.PATTERN010:return n%3===0;case Ze.Patterns.PATTERN011:return(e+n)%3===0;case Ze.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2===0;case Ze.Patterns.PATTERN101:return e*n%2+e*n%3===0;case Ze.Patterns.PATTERN110:return(e*n%2+e*n%3)%2===0;case Ze.Patterns.PATTERN111:return(e*n%3+(e+n)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}Ze.applyMask=function(e,n){let r=n.size;for(let a=0;a<r;a++)for(let l=0;l<r;l++)n.isReserved(l,a)||n.xor(l,a,OS(e,l,a))};Ze.getBestMask=function(e,n){let r=Object.keys(Ze.Patterns).length,a=0,l=1/0;for(let h=0;h<r;h++){n(h),Ze.applyMask(h,e);let g=Ze.getPenaltyN1(e)+Ze.getPenaltyN2(e)+Ze.getPenaltyN3(e)+Ze.getPenaltyN4(e);Ze.applyMask(h,e),g<l&&(l=g,a=h)}return a}});var yh=je(mh=>{"use strict";var Rr=pl(),ml=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],yl=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];mh.getBlocksCount=function(e,n){switch(n){case Rr.L:return ml[(e-1)*4+0];case Rr.M:return ml[(e-1)*4+1];case Rr.Q:return ml[(e-1)*4+2];case Rr.H:return ml[(e-1)*4+3];default:return}};mh.getTotalCodewordsCount=function(e,n){switch(n){case Rr.L:return yl[(e-1)*4+0];case Rr.M:return yl[(e-1)*4+1];case Rr.Q:return yl[(e-1)*4+2];case Rr.H:return yl[(e-1)*4+3];default:return}}});var qy=je(Cl=>{"use strict";var Gs=new Uint8Array(512),wl=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)Gs[n]=e,wl[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)Gs[n]=Gs[n-255]})();Cl.log=function(e){if(e<1)throw new Error("log("+e+")");return wl[e]};Cl.exp=function(e){return Gs[e]};Cl.mul=function(e,n){return e===0||n===0?0:Gs[wl[e]+wl[n]]}});var Zy=je(Ws=>{"use strict";var wh=qy();Ws.mul=function(e,n){let r=new Uint8Array(e.length+n.length-1);for(let a=0;a<e.length;a++)for(let l=0;l<n.length;l++)r[a+l]^=wh.mul(e[a],n[l]);return r};Ws.mod=function(e,n){let r=new Uint8Array(e);for(;r.length-n.length>=0;){let a=r[0];for(let h=0;h<n.length;h++)r[h]^=wh.mul(n[h],a);let l=0;for(;l<r.length&&r[l]===0;)l++;r=r.slice(l)}return r};Ws.generateECPolynomial=function(e){let n=new Uint8Array([1]);for(let r=0;r<e;r++)n=Ws.mul(n,new Uint8Array([1,wh.exp(r)]));return n}});var Ky=je((W4,Qy)=>{"use strict";var Xy=Zy();function Ch(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Ch.prototype.initialize=function(e){this.degree=e,this.genPoly=Xy.generateECPolynomial(this.degree)};Ch.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let n=new Uint8Array(e.length+this.degree);n.set(e);let r=Xy.mod(n,this.genPoly),a=this.degree-r.length;if(a>0){let l=new Uint8Array(this.degree);return l.set(r,a),l}return r};Qy.exports=Ch});var xh=je(Jy=>{"use strict";Jy.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var vh=je(nr=>{"use strict";var ew="[0-9]+",LS="[A-Z $%*+\\-./:]+",$s="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";$s=$s.replace(/u/g,"\\u");var FS="(?:(?![A-Z0-9 $%*+\\-./:]|"+$s+`)(?:.|[\r
]))+`;nr.KANJI=new RegExp($s,"g");nr.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");nr.BYTE=new RegExp(FS,"g");nr.NUMERIC=new RegExp(ew,"g");nr.ALPHANUMERIC=new RegExp(LS,"g");var PS=new RegExp("^"+$s+"$"),kS=new RegExp("^"+ew+"$"),BS=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");nr.testKanji=function(e){return PS.test(e)};nr.testNumeric=function(e){return kS.test(e)};nr.testAlphanumeric=function(e){return BS.test(e)}});var Or=je(lt=>{"use strict";var VS=xh(),Eh=vh();lt.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};lt.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};lt.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};lt.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};lt.MIXED={bit:-1};lt.getCharCountIndicator=function(e,n){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!VS.isValid(n))throw new Error("Invalid version: "+n);return n>=1&&n<10?e.ccBits[0]:n<27?e.ccBits[1]:e.ccBits[2]};lt.getBestModeForData=function(e){return Eh.testNumeric(e)?lt.NUMERIC:Eh.testAlphanumeric(e)?lt.ALPHANUMERIC:Eh.testKanji(e)?lt.KANJI:lt.BYTE};lt.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};lt.isValid=function(e){return e&&e.bit&&e.ccBits};function US(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return lt.NUMERIC;case"alphanumeric":return lt.ALPHANUMERIC;case"kanji":return lt.KANJI;case"byte":return lt.BYTE;default:throw new Error("Unknown mode: "+t)}}lt.from=function(e,n){if(lt.isValid(e))return e;try{return US(e)}catch{return n}}});var ow=je(gi=>{"use strict";var xl=Nr(),jS=yh(),tw=pl(),Lr=Or(),Ih=xh(),rw=7973,nw=xl.getBCHDigit(rw);function HS(t,e,n){for(let r=1;r<=40;r++)if(e<=gi.getCapacity(r,n,t))return r}function iw(t,e){return Lr.getCharCountIndicator(t,e)+4}function zS(t,e){let n=0;return t.forEach(function(r){let a=iw(r.mode,e);n+=a+r.getBitsLength()}),n}function GS(t,e){for(let n=1;n<=40;n++)if(zS(t,n)<=gi.getCapacity(n,e,Lr.MIXED))return n}gi.from=function(e,n){return Ih.isValid(e)?parseInt(e,10):n};gi.getCapacity=function(e,n,r){if(!Ih.isValid(e))throw new Error("Invalid QR Code version");typeof r>"u"&&(r=Lr.BYTE);let a=xl.getSymbolTotalCodewords(e),l=jS.getTotalCodewordsCount(e,n),h=(a-l)*8;if(r===Lr.MIXED)return h;let g=h-iw(r,e);switch(r){case Lr.NUMERIC:return Math.floor(g/10*3);case Lr.ALPHANUMERIC:return Math.floor(g/11*2);case Lr.KANJI:return Math.floor(g/13);case Lr.BYTE:default:return Math.floor(g/8)}};gi.getBestVersionForData=function(e,n){let r,a=tw.from(n,tw.M);if(Array.isArray(e)){if(e.length>1)return GS(e,a);if(e.length===0)return 1;r=e[0]}else r=e;return HS(r.mode,r.getLength(),a)};gi.getEncodedBits=function(e){if(!Ih.isValid(e)||e<7)throw new Error("Invalid QR Code version");let n=e<<12;for(;xl.getBCHDigit(n)-nw>=0;)n^=rw<<xl.getBCHDigit(n)-nw;return e<<12|n}});var lw=je(cw=>{"use strict";var Dh=Nr(),aw=1335,WS=21522,sw=Dh.getBCHDigit(aw);cw.getEncodedBits=function(e,n){let r=e.bit<<3|n,a=r<<10;for(;Dh.getBCHDigit(a)-sw>=0;)a^=aw<<Dh.getBCHDigit(a)-sw;return(r<<10|a)^WS}});var dw=je((Q4,uw)=>{"use strict";var $S=Or();function Do(t){this.mode=$S.NUMERIC,this.data=t.toString()}Do.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Do.prototype.getLength=function(){return this.data.length};Do.prototype.getBitsLength=function(){return Do.getBitsLength(this.data.length)};Do.prototype.write=function(e){let n,r,a;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),a=parseInt(r,10),e.put(a,10);let l=this.data.length-n;l>0&&(r=this.data.substr(n),a=parseInt(r,10),e.put(a,l*3+1))};uw.exports=Do});var hw=je((K4,fw)=>{"use strict";var YS=Or(),Ah=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ao(t){this.mode=YS.ALPHANUMERIC,this.data=t}Ao.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Ao.prototype.getLength=function(){return this.data.length};Ao.prototype.getBitsLength=function(){return Ao.getBitsLength(this.data.length)};Ao.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=Ah.indexOf(this.data[n])*45;r+=Ah.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(Ah.indexOf(this.data[n]),6)};fw.exports=Ao});var gw=je((J4,pw)=>{"use strict";var qS=Or();function bo(t){this.mode=qS.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}bo.getBitsLength=function(e){return e*8};bo.prototype.getLength=function(){return this.data.length};bo.prototype.getBitsLength=function(){return bo.getBitsLength(this.data.length)};bo.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};pw.exports=bo});var yw=je((eL,mw)=>{"use strict";var ZS=Or(),XS=Nr();function So(t){this.mode=ZS.KANJI,this.data=t}So.getBitsLength=function(e){return e*13};So.prototype.getLength=function(){return this.data.length};So.prototype.getBitsLength=function(){return So.getBitsLength(this.data.length)};So.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=XS.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};mw.exports=So});var ww=je((tL,bh)=>{"use strict";var Ys={single_source_shortest_paths:function(t,e,n){var r={},a={};a[e]=0;var l=Ys.PriorityQueue.make();l.push(e,0);for(var h,g,C,y,E,b,N,M,U;!l.empty();){h=l.pop(),g=h.value,y=h.cost,E=t[g]||{};for(C in E)E.hasOwnProperty(C)&&(b=E[C],N=y+b,M=a[C],U=typeof a[C]>"u",(U||M>N)&&(a[C]=N,l.push(C,N),r[C]=g))}if(typeof n<"u"&&typeof a[n]>"u"){var Y=["Could not find a path from ",e," to ",n,"."].join("");throw new Error(Y)}return r},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],r=e,a;r;)n.push(r),a=t[r],r=t[r];return n.reverse(),n},find_path:function(t,e,n){var r=Ys.single_source_shortest_paths(t,e,n);return Ys.extract_shortest_path_from_predecessor_list(r,n)},PriorityQueue:{make:function(t){var e=Ys.PriorityQueue,n={},r;t=t||{};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n.queue=[],n.sorter=t.sorter||e.default_sorter,n},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var n={value:t,cost:e};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof bh<"u"&&(bh.exports=Ys)});var bw=je(To=>{"use strict";var Be=Or(),vw=dw(),Ew=hw(),Iw=gw(),Dw=yw(),qs=vh(),vl=Nr(),QS=ww();function Cw(t){return unescape(encodeURIComponent(t)).length}function Zs(t,e,n){let r=[],a;for(;(a=t.exec(n))!==null;)r.push({data:a[0],index:a.index,mode:e,length:a[0].length});return r}function Aw(t){let e=Zs(qs.NUMERIC,Be.NUMERIC,t),n=Zs(qs.ALPHANUMERIC,Be.ALPHANUMERIC,t),r,a;return vl.isKanjiModeEnabled()?(r=Zs(qs.BYTE,Be.BYTE,t),a=Zs(qs.KANJI,Be.KANJI,t)):(r=Zs(qs.BYTE_KANJI,Be.BYTE,t),a=[]),e.concat(n,r,a).sort(function(h,g){return h.index-g.index}).map(function(h){return{data:h.data,mode:h.mode,length:h.length}})}function Sh(t,e){switch(e){case Be.NUMERIC:return vw.getBitsLength(t);case Be.ALPHANUMERIC:return Ew.getBitsLength(t);case Be.KANJI:return Dw.getBitsLength(t);case Be.BYTE:return Iw.getBitsLength(t)}}function KS(t){return t.reduce(function(e,n){let r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===n.mode?(e[e.length-1].data+=n.data,e):(e.push(n),e)},[])}function JS(t){let e=[];for(let n=0;n<t.length;n++){let r=t[n];switch(r.mode){case Be.NUMERIC:e.push([r,{data:r.data,mode:Be.ALPHANUMERIC,length:r.length},{data:r.data,mode:Be.BYTE,length:r.length}]);break;case Be.ALPHANUMERIC:e.push([r,{data:r.data,mode:Be.BYTE,length:r.length}]);break;case Be.KANJI:e.push([r,{data:r.data,mode:Be.BYTE,length:Cw(r.data)}]);break;case Be.BYTE:e.push([{data:r.data,mode:Be.BYTE,length:Cw(r.data)}])}}return e}function eT(t,e){let n={},r={start:{}},a=["start"];for(let l=0;l<t.length;l++){let h=t[l],g=[];for(let C=0;C<h.length;C++){let y=h[C],E=""+l+C;g.push(E),n[E]={node:y,lastCount:0},r[E]={};for(let b=0;b<a.length;b++){let N=a[b];n[N]&&n[N].node.mode===y.mode?(r[N][E]=Sh(n[N].lastCount+y.length,y.mode)-Sh(n[N].lastCount,y.mode),n[N].lastCount+=y.length):(n[N]&&(n[N].lastCount=y.length),r[N][E]=Sh(y.length,y.mode)+4+Be.getCharCountIndicator(y.mode,e))}}a=g}for(let l=0;l<a.length;l++)r[a[l]].end=0;return{map:r,table:n}}function xw(t,e){let n,r=Be.getBestModeForData(t);if(n=Be.from(e,r),n!==Be.BYTE&&n.bit<r.bit)throw new Error('"'+t+'" cannot be encoded with mode '+Be.toString(n)+`.
 Suggested mode is: `+Be.toString(r));switch(n===Be.KANJI&&!vl.isKanjiModeEnabled()&&(n=Be.BYTE),n){case Be.NUMERIC:return new vw(t);case Be.ALPHANUMERIC:return new Ew(t);case Be.KANJI:return new Dw(t);case Be.BYTE:return new Iw(t)}}To.fromArray=function(e){return e.reduce(function(n,r){return typeof r=="string"?n.push(xw(r,null)):r.data&&n.push(xw(r.data,r.mode)),n},[])};To.fromString=function(e,n){let r=Aw(e,vl.isKanjiModeEnabled()),a=JS(r),l=eT(a,n),h=QS.find_path(l.map,"start","end"),g=[];for(let C=1;C<h.length-1;C++)g.push(l.table[h[C]].node);return To.fromArray(KS(g))};To.rawSplit=function(e){return To.fromArray(Aw(e,vl.isKanjiModeEnabled()))}});var Tw=je(Sw=>{"use strict";var Il=Nr(),Th=pl(),tT=Uy(),nT=Hy(),rT=zy(),iT=$y(),Nh=Yy(),Rh=yh(),oT=Ky(),El=ow(),sT=lw(),aT=Or(),Mh=bw();function cT(t,e){let n=t.size,r=iT.getPositions(e);for(let a=0;a<r.length;a++){let l=r[a][0],h=r[a][1];for(let g=-1;g<=7;g++)if(!(l+g<=-1||n<=l+g))for(let C=-1;C<=7;C++)h+C<=-1||n<=h+C||(g>=0&&g<=6&&(C===0||C===6)||C>=0&&C<=6&&(g===0||g===6)||g>=2&&g<=4&&C>=2&&C<=4?t.set(l+g,h+C,!0,!0):t.set(l+g,h+C,!1,!0))}}function lT(t){let e=t.size;for(let n=8;n<e-8;n++){let r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function uT(t,e){let n=rT.getPositions(e);for(let r=0;r<n.length;r++){let a=n[r][0],l=n[r][1];for(let h=-2;h<=2;h++)for(let g=-2;g<=2;g++)h===-2||h===2||g===-2||g===2||h===0&&g===0?t.set(a+h,l+g,!0,!0):t.set(a+h,l+g,!1,!0)}}function dT(t,e){let n=t.size,r=El.getEncodedBits(e),a,l,h;for(let g=0;g<18;g++)a=Math.floor(g/3),l=g%3+n-8-3,h=(r>>g&1)===1,t.set(a,l,h,!0),t.set(l,a,h,!0)}function _h(t,e,n){let r=t.size,a=sT.getEncodedBits(e,n),l,h;for(l=0;l<15;l++)h=(a>>l&1)===1,l<6?t.set(l,8,h,!0):l<8?t.set(l+1,8,h,!0):t.set(r-15+l,8,h,!0),l<8?t.set(8,r-l-1,h,!0):l<9?t.set(8,15-l-1+1,h,!0):t.set(8,15-l-1,h,!0);t.set(r-8,8,1,!0)}function fT(t,e){let n=t.size,r=-1,a=n-1,l=7,h=0;for(let g=n-1;g>0;g-=2)for(g===6&&g--;;){for(let C=0;C<2;C++)if(!t.isReserved(a,g-C)){let y=!1;h<e.length&&(y=(e[h]>>>l&1)===1),t.set(a,g-C,y),l--,l===-1&&(h++,l=7)}if(a+=r,a<0||n<=a){a-=r,r=-r;break}}}function hT(t,e,n){let r=new tT;n.forEach(function(C){r.put(C.mode.bit,4),r.put(C.getLength(),aT.getCharCountIndicator(C.mode,t)),C.write(r)});let a=Il.getSymbolTotalCodewords(t),l=Rh.getTotalCodewordsCount(t,e),h=(a-l)*8;for(r.getLengthInBits()+4<=h&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);let g=(h-r.getLengthInBits())/8;for(let C=0;C<g;C++)r.put(C%2?17:236,8);return pT(r,t,e)}function pT(t,e,n){let r=Il.getSymbolTotalCodewords(e),a=Rh.getTotalCodewordsCount(e,n),l=r-a,h=Rh.getBlocksCount(e,n),g=r%h,C=h-g,y=Math.floor(r/h),E=Math.floor(l/h),b=E+1,N=y-E,M=new oT(N),U=0,Y=new Array(h),W=new Array(h),H=0,ee=new Uint8Array(t.buffer);for(let V=0;V<h;V++){let zt=V<C?E:b;Y[V]=ee.slice(U,U+zt),W[V]=M.encode(Y[V]),U+=zt,H=Math.max(H,zt)}let Ue=new Uint8Array(r),oe=0,B,K;for(B=0;B<H;B++)for(K=0;K<h;K++)B<Y[K].length&&(Ue[oe++]=Y[K][B]);for(B=0;B<N;B++)for(K=0;K<h;K++)Ue[oe++]=W[K][B];return Ue}function gT(t,e,n,r){let a;if(Array.isArray(t))a=Mh.fromArray(t);else if(typeof t=="string"){let y=e;if(!y){let E=Mh.rawSplit(t);y=El.getBestVersionForData(E,n)}a=Mh.fromString(t,y||40)}else throw new Error("Invalid data");let l=El.getBestVersionForData(a,n);if(!l)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=l;else if(e<l)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+l+`.
`);let h=hT(e,n,a),g=Il.getSymbolSize(e),C=new nT(g);return cT(C,e),lT(C),uT(C,e),_h(C,n,0),e>=7&&dT(C,e),fT(C,h),isNaN(r)&&(r=Nh.getBestMask(C,_h.bind(null,C,n))),Nh.applyMask(r,C),_h(C,n,r),{modules:C,version:e,errorCorrectionLevel:n,maskPattern:r,segments:a}}Sw.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=Th.M,a,l;return typeof n<"u"&&(r=Th.from(n.errorCorrectionLevel,Th.M),a=El.from(n.version),l=Nh.from(n.maskPattern),n.toSJISFunc&&Il.setToSJISFunction(n.toSJISFunc)),gT(e,a,r,l)}});var Oh=je(mi=>{"use strict";function Mw(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+t);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(r){return[r,r]}))),e.length===6&&e.push("F","F");let n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:n&255,hex:"#"+e.slice(0,6).join("")}}mi.getOptions=function(e){e||(e={}),e.color||(e.color={});let n=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,a=e.scale||4;return{width:r,scale:r?4:a,margin:n,color:{dark:Mw(e.color.dark||"#000000ff"),light:Mw(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};mi.getScale=function(e,n){return n.width&&n.width>=e+n.margin*2?n.width/(e+n.margin*2):n.scale};mi.getImageWidth=function(e,n){let r=mi.getScale(e,n);return Math.floor((e+n.margin*2)*r)};mi.qrToImageData=function(e,n,r){let a=n.modules.size,l=n.modules.data,h=mi.getScale(a,r),g=Math.floor((a+r.margin*2)*h),C=r.margin*h,y=[r.color.light,r.color.dark];for(let E=0;E<g;E++)for(let b=0;b<g;b++){let N=(E*g+b)*4,M=r.color.light;if(E>=C&&b>=C&&E<g-C&&b<g-C){let U=Math.floor((E-C)/h),Y=Math.floor((b-C)/h);M=y[l[U*a+Y]?1:0]}e[N++]=M.r,e[N++]=M.g,e[N++]=M.b,e[N]=M.a}}});var _w=je(Dl=>{"use strict";var Lh=Oh();function mT(t,e,n){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px"}function yT(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Dl.render=function(e,n,r){let a=r,l=n;typeof a>"u"&&(!n||!n.getContext)&&(a=n,n=void 0),n||(l=yT()),a=Lh.getOptions(a);let h=Lh.getImageWidth(e.modules.size,a),g=l.getContext("2d"),C=g.createImageData(h,h);return Lh.qrToImageData(C.data,e,a),mT(g,l,h),g.putImageData(C,0,0),l};Dl.renderToDataURL=function(e,n,r){let a=r;typeof a>"u"&&(!n||!n.getContext)&&(a=n,n=void 0),a||(a={});let l=Dl.render(e,n,a),h=a.type||"image/png",g=a.rendererOpts||{};return l.toDataURL(h,g.quality)}});var Ow=je(Rw=>{"use strict";var wT=Oh();function Nw(t,e){let n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function Fh(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function CT(t,e,n){let r="",a=0,l=!1,h=0;for(let g=0;g<t.length;g++){let C=Math.floor(g%e),y=Math.floor(g/e);!C&&!l&&(l=!0),t[g]?(h++,g>0&&C>0&&t[g-1]||(r+=l?Fh("M",C+n,.5+y+n):Fh("m",a,0),a=0,l=!1),C+1<e&&t[g+1]||(r+=Fh("h",h),h=0)):a++}return r}Rw.render=function(e,n,r){let a=wT.getOptions(n),l=e.modules.size,h=e.modules.data,g=l+a.margin*2,C=a.color.light.a?"<path "+Nw(a.color.light,"fill")+' d="M0 0h'+g+"v"+g+'H0z"/>':"",y="<path "+Nw(a.color.dark,"stroke")+' d="'+CT(h,l,a.margin)+'"/>',E='viewBox="0 0 '+g+" "+g+'"',N='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+E+' shape-rendering="crispEdges">'+C+y+`</svg>
`;return typeof r=="function"&&r(null,N),N}});var Fw=je(Xs=>{"use strict";var xT=ky(),Ph=Tw(),Lw=_w(),vT=Ow();function kh(t,e,n,r,a){let l=[].slice.call(arguments,1),h=l.length,g=typeof l[h-1]=="function";if(!g&&!xT())throw new Error("Callback required as last argument");if(g){if(h<2)throw new Error("Too few arguments provided");h===2?(a=n,n=e,e=r=void 0):h===3&&(e.getContext&&typeof a>"u"?(a=r,r=void 0):(a=r,r=n,n=e,e=void 0))}else{if(h<1)throw new Error("Too few arguments provided");return h===1?(n=e,e=r=void 0):h===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(C,y){try{let E=Ph.create(n,r);C(t(E,e,r))}catch(E){y(E)}})}try{let C=Ph.create(n,r);a(null,t(C,e,r))}catch(C){a(C)}}Xs.create=Ph.create;Xs.toCanvas=kh.bind(null,Lw.render);Xs.toDataURL=kh.bind(null,Lw.renderToDataURL);Xs.toString=kh.bind(null,function(t,e,n){return vT.render(t,n)})});var zw=je((Tl,Hw)=>{"use strict";(function(t,e){typeof Tl=="object"&&typeof Hw<"u"?e(Tl):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.ZXing={}))})(Tl,function(t){"use strict";function e(w){return w==null}var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,i){w.__proto__=i}||function(w,i){for(var o in i)i.hasOwnProperty(o)&&(w[o]=i[o])};function r(w,i){n(w,i);function o(){this.constructor=w}w.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}function a(w,i){var o=Object.setPrototypeOf;o?o(w,i):w.__proto__=i}function l(w,i){i===void 0&&(i=w.constructor);var o=Error.captureStackTrace;o&&o(w,i)}var h=function(w){r(i,w);function i(o){var s=this.constructor,c=w.call(this,o)||this;return Object.defineProperty(c,"name",{value:s.name,enumerable:!1}),a(c,s.prototype),l(c),c}return i}(Error);let g=(()=>{class w extends h{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}return w.kind="Exception",w})(),C=(()=>{class w extends g{}return w.kind="ArgumentException",w})(),y=(()=>{class w extends g{}return w.kind="IllegalArgumentException",w})();class E{constructor(i){if(this.binarizer=i,i===null)throw new y("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,o){return this.binarizer.getBlackRow(i,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,o,s,c){let u=this.binarizer.getLuminanceSource().crop(i,o,s,c);return new E(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){let i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new E(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){let i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new E(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}let b=(()=>{class w extends g{static getChecksumInstance(){return new w}}return w.kind="ChecksumException",w})();class N{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class M{static arraycopy(i,o,s,c,u){for(;u--;)s[c++]=i[o++]}static currentTimeMillis(){return Date.now()}}let U=(()=>{class w extends g{}return w.kind="IndexOutOfBoundsException",w})(),Y=(()=>{class w extends U{constructor(o=void 0,s=void 0){super(s),this.index=o,this.message=s}}return w.kind="ArrayIndexOutOfBoundsException",w})();class W{static fill(i,o){for(let s=0,c=i.length;s<c;s++)i[s]=o}static fillWithin(i,o,s,c){W.rangeCheck(i.length,o,s);for(let u=o;u<s;u++)i[u]=c}static rangeCheck(i,o,s){if(o>s)throw new y("fromIndex("+o+") > toIndex("+s+")");if(o<0)throw new Y(o);if(s>i)throw new Y(s)}static asList(...i){return i}static create(i,o,s){return Array.from({length:i}).map(u=>Array.from({length:o}).fill(s))}static createInt32Array(i,o,s){return Array.from({length:i}).map(u=>Int32Array.from({length:o}).fill(s))}static equals(i,o){if(!i||!o||!i.length||!o.length||i.length!==o.length)return!1;for(let s=0,c=i.length;s<c;s++)if(i[s]!==o[s])return!1;return!0}static hashCode(i){if(i===null)return 0;let o=1;for(let s of i)o=31*o+s;return o}static fillUint8Array(i,o){for(let s=0;s!==i.length;s++)i[s]=o}static copyOf(i,o){return i.slice(0,o)}static copyOfUint8Array(i,o){if(i.length<=o){let s=new Uint8Array(o);return s.set(i),s}return i.slice(0,o)}static copyOfRange(i,o,s){let c=s-o,u=new Int32Array(c);return M.arraycopy(i,o,u,0,c),u}static binarySearch(i,o,s){s===void 0&&(s=W.numberComparator);let c=0,u=i.length-1;for(;c<=u;){let d=u+c>>1,f=s(o,i[d]);if(f>0)c=d+1;else if(f<0)u=d-1;else return d}return-c-1}static numberComparator(i,o){return i-o}}class H{static numberOfTrailingZeros(i){let o;if(i===0)return 32;let s=31;return o=i<<16,o!==0&&(s-=16,i=o),o=i<<8,o!==0&&(s-=8,i=o),o=i<<4,o!==0&&(s-=4,i=o),o=i<<2,o!==0&&(s-=2,i=o),s-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let o=1;return i>>>16||(o+=16,i<<=16),i>>>24||(o+=8,i<<=8),i>>>28||(o+=4,i<<=4),i>>>30||(o+=2,i<<=2),o-=i>>>31,o}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,o){return Math.trunc(i/o)}static parseInt(i,o=void 0){return parseInt(i,o)}}H.MIN_VALUE_32_BITS=-2147483648,H.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ee{constructor(i,o){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,o==null?this.bits=ee.makeArray(i):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){let o=ee.makeArray(i);M.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){let o=this.size;if(i>=o)return o;let s=this.bits,c=Math.floor(i/32),u=s[c];u&=~((1<<(i&31))-1);let d=s.length;for(;u===0;){if(++c===d)return o;u=s[c]}let f=c*32+H.numberOfTrailingZeros(u);return f>o?o:f}getNextUnset(i){let o=this.size;if(i>=o)return o;let s=this.bits,c=Math.floor(i/32),u=~s[c];u&=~((1<<(i&31))-1);let d=s.length;for(;u===0;){if(++c===d)return o;u=~s[c]}let f=c*32+H.numberOfTrailingZeros(u);return f>o?o:f}setBulk(i,o){this.bits[Math.floor(i/32)]=o}setRange(i,o){if(o<i||i<0||o>this.size)throw new y;if(o===i)return;o--;let s=Math.floor(i/32),c=Math.floor(o/32),u=this.bits;for(let d=s;d<=c;d++){let f=d>s?0:i&31,m=(2<<(d<c?31:o&31))-(1<<f);u[d]|=m}}clear(){let i=this.bits.length,o=this.bits;for(let s=0;s<i;s++)o[s]=0}isRange(i,o,s){if(o<i||i<0||o>this.size)throw new y;if(o===i)return!0;o--;let c=Math.floor(i/32),u=Math.floor(o/32),d=this.bits;for(let f=c;f<=u;f++){let p=f>c?0:i&31,x=(2<<(f<u?31:o&31))-(1<<p)&4294967295;if((d[f]&x)!==(s?x:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,o){if(o<0||o>32)throw new y("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let s=o;s>0;s--)this.appendBit((i>>s-1&1)===1)}appendBitArray(i){let o=i.size;this.ensureCapacity(this.size+o);for(let s=0;s<o;s++)this.appendBit(i.get(s))}xor(i){if(this.size!==i.size)throw new y("Sizes don't match");let o=this.bits;for(let s=0,c=o.length;s<c;s++)o[s]^=i.bits[s]}toBytes(i,o,s,c){for(let u=0;u<c;u++){let d=0;for(let f=0;f<8;f++)this.get(i)&&(d|=1<<7-f),i++;o[s+u]=d}}getBitArray(){return this.bits}reverse(){let i=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),s=o+1,c=this.bits;for(let u=0;u<s;u++){let d=c[u];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,i[o-u]=d}if(this.size!==s*32){let u=s*32-this.size,d=i[0]>>>u;for(let f=1;f<s;f++){let p=i[f];d|=p<<32-u,i[f-1]=d,d=p>>>u}i[s-1]=d}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof ee))return!1;let o=i;return this.size===o.size&&W.equals(this.bits,o.bits)}hashCode(){return 31*this.size+W.hashCode(this.bits)}toString(){let i="";for(let o=0,s=this.size;o<s;o++)o&7||(i+=" "),i+=this.get(o)?"X":".";return i}clone(){return new ee(this.size,this.bits.slice())}}var Ue=function(w){return w[w.OTHER=0]="OTHER",w[w.PURE_BARCODE=1]="PURE_BARCODE",w[w.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",w[w.TRY_HARDER=3]="TRY_HARDER",w[w.CHARACTER_SET=4]="CHARACTER_SET",w[w.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",w[w.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",w[w.ASSUME_GS1=7]="ASSUME_GS1",w[w.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",w[w.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",w[w.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS",w}(Ue||{}),oe=Ue;let B=(()=>{class w extends g{static getFormatInstance(){return new w}}return w.kind="FormatException",w})();var K=function(w){return w[w.Cp437=0]="Cp437",w[w.ISO8859_1=1]="ISO8859_1",w[w.ISO8859_2=2]="ISO8859_2",w[w.ISO8859_3=3]="ISO8859_3",w[w.ISO8859_4=4]="ISO8859_4",w[w.ISO8859_5=5]="ISO8859_5",w[w.ISO8859_6=6]="ISO8859_6",w[w.ISO8859_7=7]="ISO8859_7",w[w.ISO8859_8=8]="ISO8859_8",w[w.ISO8859_9=9]="ISO8859_9",w[w.ISO8859_10=10]="ISO8859_10",w[w.ISO8859_11=11]="ISO8859_11",w[w.ISO8859_13=12]="ISO8859_13",w[w.ISO8859_14=13]="ISO8859_14",w[w.ISO8859_15=14]="ISO8859_15",w[w.ISO8859_16=15]="ISO8859_16",w[w.SJIS=16]="SJIS",w[w.Cp1250=17]="Cp1250",w[w.Cp1251=18]="Cp1251",w[w.Cp1252=19]="Cp1252",w[w.Cp1256=20]="Cp1256",w[w.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",w[w.UTF8=22]="UTF8",w[w.ASCII=23]="ASCII",w[w.Big5=24]="Big5",w[w.GB18030=25]="GB18030",w[w.EUC_KR=26]="EUC_KR",w}(K||{});class V{constructor(i,o,s,...c){this.valueIdentifier=i,this.name=s,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=c,V.VALUE_IDENTIFIER_TO_ECI.set(i,this),V.NAME_TO_ECI.set(s,this);let u=this.values;for(let d=0,f=u.length;d!==f;d++){let p=u[d];V.VALUES_TO_ECI.set(p,this)}for(let d of c)V.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new B("incorect value");let o=V.VALUES_TO_ECI.get(i);if(o===void 0)throw new B("incorect value");return o}static getCharacterSetECIByName(i){let o=V.NAME_TO_ECI.get(i);if(o===void 0)throw new B("incorect value");return o}equals(i){if(!(i instanceof V))return!1;let o=i;return this.getName()===o.getName()}}V.VALUE_IDENTIFIER_TO_ECI=new Map,V.VALUES_TO_ECI=new Map,V.NAME_TO_ECI=new Map,V.Cp437=new V(K.Cp437,Int32Array.from([0,2]),"Cp437"),V.ISO8859_1=new V(K.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),V.ISO8859_2=new V(K.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),V.ISO8859_3=new V(K.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),V.ISO8859_4=new V(K.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),V.ISO8859_5=new V(K.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),V.ISO8859_6=new V(K.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),V.ISO8859_7=new V(K.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),V.ISO8859_8=new V(K.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),V.ISO8859_9=new V(K.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),V.ISO8859_10=new V(K.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),V.ISO8859_11=new V(K.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),V.ISO8859_13=new V(K.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),V.ISO8859_14=new V(K.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),V.ISO8859_15=new V(K.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),V.ISO8859_16=new V(K.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),V.SJIS=new V(K.SJIS,20,"SJIS","Shift_JIS"),V.Cp1250=new V(K.Cp1250,21,"Cp1250","windows-1250"),V.Cp1251=new V(K.Cp1251,22,"Cp1251","windows-1251"),V.Cp1252=new V(K.Cp1252,23,"Cp1252","windows-1252"),V.Cp1256=new V(K.Cp1256,24,"Cp1256","windows-1256"),V.UnicodeBigUnmarked=new V(K.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),V.UTF8=new V(K.UTF8,26,"UTF8","UTF-8"),V.ASCII=new V(K.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),V.Big5=new V(K.Big5,28,"Big5"),V.GB18030=new V(K.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),V.EUC_KR=new V(K.EUC_KR,30,"EUC_KR","EUC-KR");let zt=(()=>{class w extends g{}return w.kind="UnsupportedOperationException",w})();class bt{static decode(i,o){let s=this.encodingName(o);return this.customDecoder?this.customDecoder(i,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(i,s):new TextDecoder(s).decode(i)}static shouldDecodeOnFallback(i){return!bt.isBrowser()&&i==="ISO-8859-1"}static encode(i,o){let s=this.encodingName(o);return this.customEncoder?this.customEncoder(i,s):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof V?i:V.getCharacterSetECIByName(i)}static decodeFallback(i,o){let s=this.encodingCharacterSet(o);if(bt.isDecodeFallbackSupported(s)){let c="";for(let u=0,d=i.length;u<d;u++){let f=i[u].toString(16);f.length<2&&(f="0"+f),c+="%"+f}return decodeURIComponent(c)}if(s.equals(V.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new zt(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(V.UTF8)||i.equals(V.ISO8859_1)||i.equals(V.ASCII)}static encodeFallback(i){let s=btoa(unescape(encodeURIComponent(i))).split(""),c=[];for(let u=0;u<s.length;u++)c.push(s[u].charCodeAt(0));return new Uint8Array(c)}}class ce{static castAsNonUtf8Char(i,o=null){let s=o?o.getName():this.ISO88591;return bt.decode(new Uint8Array([i]),s)}static guessEncoding(i,o){if(o!=null&&o.get(oe.CHARACTER_SET)!==void 0)return o.get(oe.CHARACTER_SET).toString();let s=i.length,c=!0,u=!0,d=!0,f=0,p=0,m=0,x=0,v=0,I=0,A=0,S=0,T=0,_=0,O=0,j=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let G=0;G<s&&(c||u||d);G++){let F=i[G]&255;d&&(f>0?F&128?f--:d=!1:F&128&&(F&64?(f++,F&32?(f++,F&16?(f++,F&8?d=!1:x++):m++):p++):d=!1)),c&&(F>127&&F<160?c=!1:F>159&&(F<192||F===215||F===247)&&O++),u&&(v>0?F<64||F===127||F>252?u=!1:v--:F===128||F===160||F>239?u=!1:F>160&&F<224?(I++,S=0,A++,A>T&&(T=A)):F>127?(v++,A=0,S++,S>_&&(_=S)):(A=0,S=0))}return d&&f>0&&(d=!1),u&&v>0&&(u=!1),d&&(j||p+m+x>0)?ce.UTF8:u&&(ce.ASSUME_SHIFT_JIS||T>=3||_>=3)?ce.SHIFT_JIS:c&&u?T===2&&I===2||O*10>=s?ce.SHIFT_JIS:ce.ISO88591:c?ce.ISO88591:u?ce.SHIFT_JIS:d?ce.UTF8:ce.PLATFORM_DEFAULT_ENCODING}static format(i,...o){let s=-1;function c(d,f,p,m,x,v){if(d==="%%")return"%";if(o[++s]===void 0)return;d=m?parseInt(m.substr(1)):void 0;let I=x?parseInt(x.substr(1)):void 0,A;switch(v){case"s":A=o[s];break;case"c":A=o[s][0];break;case"f":A=parseFloat(o[s]).toFixed(d);break;case"p":A=parseFloat(o[s]).toPrecision(d);break;case"e":A=parseFloat(o[s]).toExponential(d);break;case"x":A=parseInt(o[s]).toString(I||16);break;case"d":A=parseFloat(parseInt(o[s],I||10).toPrecision(d)).toFixed(0);break}A=typeof A=="object"?JSON.stringify(A):(+A).toString(I);let S=parseInt(p),T=p&&p[0]+""=="0"?"0":" ";for(;A.length<S;)A=f!==void 0?A+T:T+A;return A}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(u,c)}static getBytes(i,o){return bt.encode(i,o)}static getCharCode(i,o=0){return i.charCodeAt(o)}static getCharAt(i){return String.fromCharCode(i)}}ce.SHIFT_JIS=V.SJIS.getName(),ce.GB2312="GB2312",ce.ISO88591=V.ISO8859_1.getName(),ce.EUC_JP="EUC_JP",ce.UTF8=V.UTF8.getName(),ce.PLATFORM_DEFAULT_ENCODING=ce.UTF8,ce.ASSUME_SHIFT_JIS=!1;class He{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=ce.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,o,s){for(let c=o;o<o+s;c++)this.append(i[c]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+1)}substring(i,o){return this.value.substring(i,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+o.length)}}class ht{constructor(i,o,s,c){if(this.width=i,this.height=o,this.rowSize=s,this.bits=c,o==null&&(o=i),this.height=o,i<1||o<1)throw new y("Both dimensions must be greater than 0");s==null&&(s=Math.floor((i+31)/32)),this.rowSize=s,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){let o=i.length,s=i[0].length,c=new ht(s,o);for(let u=0;u<o;u++){let d=i[u];for(let f=0;f<s;f++)d[f]&&c.set(f,u)}return c}static parseFromString(i,o,s){if(i===null)throw new y("stringRepresentation cannot be null");let c=new Array(i.length),u=0,d=0,f=-1,p=0,m=0;for(;m<i.length;)if(i.charAt(m)===`
`||i.charAt(m)==="\r"){if(u>d){if(f===-1)f=u-d;else if(u-d!==f)throw new y("row lengths do not match");d=u,p++}m++}else if(i.substring(m,m+o.length)===o)m+=o.length,c[u]=!0,u++;else if(i.substring(m,m+s.length)===s)m+=s.length,c[u]=!1,u++;else throw new y("illegal character encountered: "+i.substring(m));if(u>d){if(f===-1)f=u-d;else if(u-d!==f)throw new y("row lengths do not match");p++}let x=new ht(f,p);for(let v=0;v<u;v++)c[v]&&x.set(Math.floor(v%f),Math.floor(v/f));return x}get(i,o){let s=o*this.rowSize+Math.floor(i/32);return(this.bits[s]>>>(i&31)&1)!==0}set(i,o){let s=o*this.rowSize+Math.floor(i/32);this.bits[s]|=1<<(i&31)&4294967295}unset(i,o){let s=o*this.rowSize+Math.floor(i/32);this.bits[s]&=~(1<<(i&31)&4294967295)}flip(i,o){let s=o*this.rowSize+Math.floor(i/32);this.bits[s]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new y("input matrix dimensions do not match");let o=new ee(Math.floor(this.width/32)+1),s=this.rowSize,c=this.bits;for(let u=0,d=this.height;u<d;u++){let f=u*s,p=i.getRow(u,o).getBitArray();for(let m=0;m<s;m++)c[f+m]^=p[m]}}clear(){let i=this.bits,o=i.length;for(let s=0;s<o;s++)i[s]=0}setRegion(i,o,s,c){if(o<0||i<0)throw new y("Left and top must be nonnegative");if(c<1||s<1)throw new y("Height and width must be at least 1");let u=i+s,d=o+c;if(d>this.height||u>this.width)throw new y("The region must fit inside the matrix");let f=this.rowSize,p=this.bits;for(let m=o;m<d;m++){let x=m*f;for(let v=i;v<u;v++)p[x+Math.floor(v/32)]|=1<<(v&31)&4294967295}}getRow(i,o){o==null||o.getSize()<this.width?o=new ee(this.width):o.clear();let s=this.rowSize,c=this.bits,u=i*s;for(let d=0;d<s;d++)o.setBulk(d*32,c[u+d]);return o}setRow(i,o){M.arraycopy(o.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){let i=this.getWidth(),o=this.getHeight(),s=new ee(i),c=new ee(i);for(let u=0,d=Math.floor((o+1)/2);u<d;u++)s=this.getRow(u,s),c=this.getRow(o-1-u,c),s.reverse(),c.reverse(),this.setRow(u,c),this.setRow(o-1-u,s)}getEnclosingRectangle(){let i=this.width,o=this.height,s=this.rowSize,c=this.bits,u=i,d=o,f=-1,p=-1;for(let m=0;m<o;m++)for(let x=0;x<s;x++){let v=c[m*s+x];if(v!==0){if(m<d&&(d=m),m>p&&(p=m),x*32<u){let I=0;for(;!(v<<31-I&4294967295);)I++;x*32+I<u&&(u=x*32+I)}if(x*32+31>f){let I=31;for(;!(v>>>I);)I--;x*32+I>f&&(f=x*32+I)}}}return f<u||p<d?null:Int32Array.from([u,d,f-u+1,p-d+1])}getTopLeftOnBit(){let i=this.rowSize,o=this.bits,s=0;for(;s<o.length&&o[s]===0;)s++;if(s===o.length)return null;let c=s/i,u=s%i*32,d=o[s],f=0;for(;!(d<<31-f&4294967295);)f++;return u+=f,Int32Array.from([u,c])}getBottomRightOnBit(){let i=this.rowSize,o=this.bits,s=o.length-1;for(;s>=0&&o[s]===0;)s--;if(s<0)return null;let c=Math.floor(s/i),u=Math.floor(s%i)*32,d=o[s],f=31;for(;!(d>>>f);)f--;return u+=f,Int32Array.from([u,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof ht))return!1;let o=i;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&W.equals(this.bits,o.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+W.hashCode(this.bits),i}toString(i="X ",o="  ",s=`
`){return this.buildToString(i,o,s)}buildToString(i,o,s){let c=new He;for(let u=0,d=this.height;u<d;u++){for(let f=0,p=this.width;f<p;f++)c.append(this.get(f,u)?i:o);c.append(s)}return c.toString()}clone(){return new ht(this.width,this.height,this.rowSize,this.bits.slice())}}let P=(()=>{class w extends g{static getNotFoundInstance(){return new w}}return w.kind="NotFoundException",w})();class pt extends N{constructor(i){super(i),this.luminances=pt.EMPTY,this.buckets=new Int32Array(pt.LUMINANCE_BUCKETS)}getBlackRow(i,o){let s=this.getLuminanceSource(),c=s.getWidth();o==null||o.getSize()<c?o=new ee(c):o.clear(),this.initArrays(c);let u=s.getRow(i,this.luminances),d=this.buckets;for(let p=0;p<c;p++)d[(u[p]&255)>>pt.LUMINANCE_SHIFT]++;let f=pt.estimateBlackPoint(d);if(c<3)for(let p=0;p<c;p++)(u[p]&255)<f&&o.set(p);else{let p=u[0]&255,m=u[1]&255;for(let x=1;x<c-1;x++){let v=u[x+1]&255;(m*4-p-v)/2<f&&o.set(x),p=m,m=v}}return o}getBlackMatrix(){let i=this.getLuminanceSource(),o=i.getWidth(),s=i.getHeight(),c=new ht(o,s);this.initArrays(o);let u=this.buckets;for(let p=1;p<5;p++){let m=Math.floor(s*p/5),x=i.getRow(m,this.luminances),v=Math.floor(o*4/5);for(let I=Math.floor(o/5);I<v;I++){let A=x[I]&255;u[A>>pt.LUMINANCE_SHIFT]++}}let d=pt.estimateBlackPoint(u),f=i.getMatrix();for(let p=0;p<s;p++){let m=p*o;for(let x=0;x<o;x++)(f[m+x]&255)<d&&c.set(x,p)}return c}createBinarizer(i){return new pt(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));let o=this.buckets;for(let s=0;s<pt.LUMINANCE_BUCKETS;s++)o[s]=0}static estimateBlackPoint(i){let o=i.length,s=0,c=0,u=0;for(let x=0;x<o;x++)i[x]>u&&(c=x,u=i[x]),i[x]>s&&(s=i[x]);let d=0,f=0;for(let x=0;x<o;x++){let v=x-c,I=i[x]*v*v;I>f&&(d=x,f=I)}if(c>d){let x=c;c=d,d=x}if(d-c<=o/16)throw new P;let p=d-1,m=-1;for(let x=d-1;x>c;x--){let v=x-c,I=v*v*(d-x)*(s-i[x]);I>m&&(p=x,m=I)}return p<<pt.LUMINANCE_SHIFT}}pt.LUMINANCE_BITS=5,pt.LUMINANCE_SHIFT=8-pt.LUMINANCE_BITS,pt.LUMINANCE_BUCKETS=1<<pt.LUMINANCE_BITS,pt.EMPTY=Uint8ClampedArray.from([0]);class ge extends pt{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;let i=this.getLuminanceSource(),o=i.getWidth(),s=i.getHeight();if(o>=ge.MINIMUM_DIMENSION&&s>=ge.MINIMUM_DIMENSION){let c=i.getMatrix(),u=o>>ge.BLOCK_SIZE_POWER;o&ge.BLOCK_SIZE_MASK&&u++;let d=s>>ge.BLOCK_SIZE_POWER;s&ge.BLOCK_SIZE_MASK&&d++;let f=ge.calculateBlackPoints(c,u,d,o,s),p=new ht(o,s);ge.calculateThresholdForBlock(c,u,d,o,s,f,p),this.matrix=p}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new ge(i)}static calculateThresholdForBlock(i,o,s,c,u,d,f){let p=u-ge.BLOCK_SIZE,m=c-ge.BLOCK_SIZE;for(let x=0;x<s;x++){let v=x<<ge.BLOCK_SIZE_POWER;v>p&&(v=p);let I=ge.cap(x,2,s-3);for(let A=0;A<o;A++){let S=A<<ge.BLOCK_SIZE_POWER;S>m&&(S=m);let T=ge.cap(A,2,o-3),_=0;for(let j=-2;j<=2;j++){let G=d[I+j];_+=G[T-2]+G[T-1]+G[T]+G[T+1]+G[T+2]}let O=_/25;ge.thresholdBlock(i,S,v,O,c,f)}}}static cap(i,o,s){return i<o?o:i>s?s:i}static thresholdBlock(i,o,s,c,u,d){for(let f=0,p=s*u+o;f<ge.BLOCK_SIZE;f++,p+=u)for(let m=0;m<ge.BLOCK_SIZE;m++)(i[p+m]&255)<=c&&d.set(o+m,s+f)}static calculateBlackPoints(i,o,s,c,u){let d=u-ge.BLOCK_SIZE,f=c-ge.BLOCK_SIZE,p=new Array(s);for(let m=0;m<s;m++){p[m]=new Int32Array(o);let x=m<<ge.BLOCK_SIZE_POWER;x>d&&(x=d);for(let v=0;v<o;v++){let I=v<<ge.BLOCK_SIZE_POWER;I>f&&(I=f);let A=0,S=255,T=0;for(let O=0,j=x*c+I;O<ge.BLOCK_SIZE;O++,j+=c){for(let G=0;G<ge.BLOCK_SIZE;G++){let F=i[j+G]&255;A+=F,F<S&&(S=F),F>T&&(T=F)}if(T-S>ge.MIN_DYNAMIC_RANGE)for(O++,j+=c;O<ge.BLOCK_SIZE;O++,j+=c)for(let G=0;G<ge.BLOCK_SIZE;G++)A+=i[j+G]&255}let _=A>>ge.BLOCK_SIZE_POWER*2;if(T-S<=ge.MIN_DYNAMIC_RANGE&&(_=S/2,m>0&&v>0)){let O=(p[m-1][v]+2*p[m][v-1]+p[m-1][v-1])/4;S<O&&(_=O)}p[m][v]=_}}return p}}ge.BLOCK_SIZE_POWER=3,ge.BLOCK_SIZE=1<<ge.BLOCK_SIZE_POWER,ge.BLOCK_SIZE_MASK=ge.BLOCK_SIZE-1,ge.MINIMUM_DIMENSION=ge.BLOCK_SIZE*5,ge.MIN_DYNAMIC_RANGE=24;class _o{constructor(i,o){this.width=i,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,o,s,c){throw new zt("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new zt("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new zt("This luminance source does not support rotation by 45 degrees.")}toString(){let i=new Uint8ClampedArray(this.width),o=new He;for(let s=0;s<this.height;s++){let c=this.getRow(s,i);for(let u=0;u<this.width;u++){let d=c[u]&255,f;d<64?f="#":d<128?f="+":d<192?f=".":f=" ",o.append(f)}o.append(`
`)}return o.toString()}}class ir extends _o{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,o){let s=this.delegate.getRow(i,o),c=this.getWidth();for(let u=0;u<c;u++)s[u]=255-(s[u]&255);return s}getMatrix(){let i=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(o);for(let c=0;c<o;c++)s[c]=255-(i[c]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(i,o,s,c){return new ir(this.delegate.crop(i,o,s,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ir(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ir(this.delegate.rotateCounterClockwise45())}}class or extends _o{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=or.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){let o=i.getContext("2d").getImageData(0,0,i.width,i.height);return or.toGrayscaleBuffer(o.data,i.width,i.height)}static toGrayscaleBuffer(i,o,s){let c=new Uint8ClampedArray(o*s);for(let u=0,d=0,f=i.length;u<f;u+=4,d++){let p;if(i[u+3]===0)p=255;else{let x=i[u],v=i[u+1],I=i[u+2];p=306*x+601*v+117*I+512>>10}c[d]=p}return c}getRow(i,o){if(i<0||i>=this.getHeight())throw new y("Requested row is outside the image: "+i);let s=this.getWidth(),c=i*s;return o===null?o=this.buffer.slice(c,c+s):(o.length<s&&(o=new Uint8ClampedArray(s)),o.set(this.buffer.slice(c,c+s))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,o,s,c){return super.crop(i,o,s,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){let i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){let o=this.getTempCanvasElement(),s=o.getContext("2d"),c=i*or.DEGREE_TO_RADIANS,u=this.canvas.width,d=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(c))*u+Math.abs(Math.sin(c))*d),p=Math.ceil(Math.abs(Math.sin(c))*u+Math.abs(Math.cos(c))*d);return o.width=f,o.height=p,s.translate(f/2,p/2),s.rotate(c),s.drawImage(this.canvas,u/-2,d/-2),this.buffer=or.makeBufferFromCanvasImageData(o),this}invert(){return new ir(this)}}or.DEGREE_TO_RADIANS=Math.PI/180;class Yh{constructor(i,o,s){this.deviceId=i,this.label=o,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var _t=(globalThis||global||self||window||void 0)&&(globalThis||global||self||window||void 0).__awaiter||function(w,i,o,s){function c(u){return u instanceof o?u:new o(function(d){d(u)})}return new(o||(o=Promise))(function(u,d){function f(x){try{m(s.next(x))}catch(v){d(v)}}function p(x){try{m(s.throw(x))}catch(v){d(v)}}function m(x){x.done?u(x.value):c(x.value).then(f,p)}m((s=s.apply(w,i||[])).next())})};class Pr{constructor(i,o=500,s){this.reader=i,this.timeBetweenScansMillis=o,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return _t(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");let i=yield navigator.mediaDevices.enumerateDevices(),o=[];for(let s of i){let c=s.kind==="video"?"videoinput":s.kind;if(c!=="videoinput")continue;let u=s.deviceId||s.id,d=s.label||`Video device ${o.length+1}`,f=s.groupId,p={deviceId:u,label:d,kind:c,groupId:f};o.push(p)}return o})}getVideoInputDevices(){return _t(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new Yh(o.deviceId,o.label))})}findDeviceById(i){return _t(this,void 0,void 0,function*(){let o=yield this.listVideoInputDevices();return o?o.find(s=>s.deviceId===i):null})}decodeFromInputVideoDevice(i,o){return _t(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,o)})}decodeOnceFromVideoDevice(i,o){return _t(this,void 0,void 0,function*(){this.reset();let s;i?s={deviceId:{exact:i}}:s={facingMode:"environment"};let c={video:s};return yield this.decodeOnceFromConstraints(c,o)})}decodeOnceFromConstraints(i,o){return _t(this,void 0,void 0,function*(){let s=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(s,o)})}decodeOnceFromStream(i,o){return _t(this,void 0,void 0,function*(){this.reset();let s=yield this.attachStreamToVideo(i,o);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(i,o,s){return _t(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,o,s)})}decodeFromVideoDevice(i,o,s){return _t(this,void 0,void 0,function*(){let c;i?c={deviceId:{exact:i}}:c={facingMode:"environment"};let u={video:c};return yield this.decodeFromConstraints(u,o,s)})}decodeFromConstraints(i,o,s){return _t(this,void 0,void 0,function*(){let c=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(c,o,s)})}decodeFromStream(i,o,s){return _t(this,void 0,void 0,function*(){this.reset();let c=yield this.attachStreamToVideo(i,o);return yield this.decodeContinuously(c,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,o){return _t(this,void 0,void 0,function*(){let s=this.prepareVideoElement(o);return this.addVideoSource(s,i),this.videoElement=s,this.stream=i,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(i){return new Promise((o,s)=>this.playVideoOnLoad(i,()=>o()))}playVideoOnLoad(i,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",o),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return _t(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,o){let s=document.getElementById(i);if(!s)throw new C(`element with id '${i}' not found`);if(s.nodeName.toLowerCase()!==o.toLowerCase())throw new C(`element with id '${i}' must be an ${o} element`);return s}decodeFromImage(i,o){if(!i&&!o)throw new C("either imageElement with a src set or an url must be provided");return o&&!i?this.decodeFromImageUrl(o):this.decodeFromImageElement(i)}decodeFromVideo(i,o){if(!i&&!o)throw new C("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,o,s){if(i===void 0&&o===void 0)throw new C("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrlContinuously(o,s):this.decodeFromVideoElementContinuously(i,s)}decodeFromImageElement(i){if(!i)throw new C("An image element must be provided.");this.reset();let o=this.prepareImageElement(i);this.imageElement=o;let s;return this.isImageLoaded(o)?s=this.decodeOnce(o,!1,!0):s=this._decodeOnLoadImage(o),s}decodeFromVideoElement(i){let o=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(i,o){let s=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(s,o)}_decodeFromVideoElementSetup(i){if(!i)throw new C("A video element must be provided.");this.reset();let o=this.prepareVideoElement(i);return this.videoElement=o,o}decodeFromImageUrl(i){if(!i)throw new C("An URL must be provided.");this.reset();let o=this.prepareImageElement();this.imageElement=o;let s=this._decodeOnLoadImage(o);return o.src=i,s}decodeFromVideoUrl(i){if(!i)throw new C("An URL must be provided.");this.reset();let o=this.prepareVideoElement(),s=this.decodeFromVideoElement(o);return o.src=i,s}decodeFromVideoUrlContinuously(i,o){if(!i)throw new C("An URL must be provided.");this.reset();let s=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(s,o);return s.src=i,c}_decodeOnLoadImage(i){return new Promise((o,s)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(o,s),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return _t(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,o){return _t(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,o)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let o;return typeof i>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(o=i),o}prepareVideoElement(i){let o;return!i&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(o=i),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(i,o=!0,s=!0){this._stopAsyncDecode=!1;let c=(u,d)=>{if(this._stopAsyncDecode){d(new P("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{let f=this.decode(i);u(f)}catch(f){let p=o&&f instanceof P,x=(f instanceof b||f instanceof B)&&s;if(p||x)return setTimeout(c,this._timeBetweenDecodingAttempts,u,d);d(f)}};return new Promise((u,d)=>c(u,d))}decodeContinuously(i,o){this._stopContinuousDecode=!1;let s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{let c=this.decode(i);o(c,null),setTimeout(s,this.timeBetweenScansMillis)}catch(c){o(null,c);let u=c instanceof b||c instanceof B,d=c instanceof P;(u||d)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(i){let o=this.createBinaryBitmap(i);return this.decodeBitmap(o)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,o,s){o||(o={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(i,o,s=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(i){let o=this.getCaptureCanvasContext(i);this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);let s=this.getCaptureCanvas(i),c=new or(s),u=new ge(c);return new E(u)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){let s=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){let o=this.createCaptureCanvas(i);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;let o=document.createElement("canvas"),s,c;return typeof i<"u"&&(i instanceof HTMLVideoElement?(s=i.videoWidth,c=i.videoHeight):i instanceof HTMLImageElement&&(s=i.naturalWidth||i.width,c=i.naturalHeight||i.height)),o.style.width=s+"px",o.style.height=c+"px",o.width=s,o.height=c,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,o){try{i.srcObject=o}catch{i.src=URL.createObjectURL(o)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class Nt{constructor(i,o,s=o==null?0:8*o.length,c,u,d=M.currentTimeMillis()){this.text=i,this.rawBytes=o,this.numBits=s,this.resultPoints=c,this.format=u,this.timestamp=d,this.text=i,this.rawBytes=o,s==null?this.numBits=o==null?0:8*o.length:this.numBits=s,this.resultPoints=c,this.format=u,this.resultMetadata=null,d==null?this.timestamp=M.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,o)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){let o=this.resultPoints;if(o===null)this.resultPoints=i;else if(i!==null&&i.length>0){let s=new Array(o.length+i.length);M.arraycopy(o,0,s,0,o.length),M.arraycopy(i,0,s,o.length,i.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var qh=function(w){return w[w.AZTEC=0]="AZTEC",w[w.CODABAR=1]="CODABAR",w[w.CODE_39=2]="CODE_39",w[w.CODE_93=3]="CODE_93",w[w.CODE_128=4]="CODE_128",w[w.DATA_MATRIX=5]="DATA_MATRIX",w[w.EAN_8=6]="EAN_8",w[w.EAN_13=7]="EAN_13",w[w.ITF=8]="ITF",w[w.MAXICODE=9]="MAXICODE",w[w.PDF_417=10]="PDF_417",w[w.QR_CODE=11]="QR_CODE",w[w.RSS_14=12]="RSS_14",w[w.RSS_EXPANDED=13]="RSS_EXPANDED",w[w.UPC_A=14]="UPC_A",w[w.UPC_E=15]="UPC_E",w[w.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",w}(qh||{}),ne=qh,Zh=function(w){return w[w.OTHER=0]="OTHER",w[w.ORIENTATION=1]="ORIENTATION",w[w.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",w[w.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",w[w.ISSUE_NUMBER=4]="ISSUE_NUMBER",w[w.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",w[w.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",w[w.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",w[w.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",w[w.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",w[w.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",w}(Zh||{}),gt=Zh;class No{constructor(i,o,s,c,u=-1,d=-1){this.rawBytes=i,this.text=o,this.byteSegments=s,this.ecLevel=c,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=d,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ro{exp(i){return this.expTable[i]}log(i){if(i===0)throw new y;return this.logTable[i]}static addOrSubtract(i,o){return i^o}}class Ft{constructor(i,o){if(o.length===0)throw new y;this.field=i;let s=o.length;if(s>1&&o[0]===0){let c=1;for(;c<s&&o[c]===0;)c++;c===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-c),M.arraycopy(o,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);let o=this.coefficients,s;if(i===1){s=0;for(let d=0,f=o.length;d!==f;d++){let p=o[d];s=Ro.addOrSubtract(s,p)}return s}s=o[0];let c=o.length,u=this.field;for(let d=1;d<c;d++)s=Ro.addOrSubtract(u.multiply(i,s),o[d]);return s}addOrSubtract(i){if(!this.field.equals(i.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,s=i.coefficients;if(o.length>s.length){let d=o;o=s,s=d}let c=new Int32Array(s.length),u=s.length-o.length;M.arraycopy(s,0,c,0,u);for(let d=u;d<s.length;d++)c[d]=Ro.addOrSubtract(o[d-u],s[d]);return new Ft(this.field,c)}multiply(i){if(!this.field.equals(i.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();let o=this.coefficients,s=o.length,c=i.coefficients,u=c.length,d=new Int32Array(s+u-1),f=this.field;for(let p=0;p<s;p++){let m=o[p];for(let x=0;x<u;x++)d[p+x]=Ro.addOrSubtract(d[p+x],f.multiply(m,c[x]))}return new Ft(f,d)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;let o=this.coefficients.length,s=this.field,c=new Int32Array(o),u=this.coefficients;for(let d=0;d<o;d++)c[d]=s.multiply(u[d],i);return new Ft(s,c)}multiplyByMonomial(i,o){if(i<0)throw new y;if(o===0)return this.field.getZero();let s=this.coefficients,c=s.length,u=new Int32Array(c+i),d=this.field;for(let f=0;f<c;f++)u[f]=d.multiply(s[f],o);return new Ft(d,u)}divide(i){if(!this.field.equals(i.field))throw new y("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new y("Divide by 0");let o=this.field,s=o.getZero(),c=this,u=i.getCoefficient(i.getDegree()),d=o.inverse(u);for(;c.getDegree()>=i.getDegree()&&!c.isZero();){let f=c.getDegree()-i.getDegree(),p=o.multiply(c.getCoefficient(c.getDegree()),d),m=i.multiplyByMonomial(f,p),x=o.buildMonomial(f,p);s=s.addOrSubtract(x),c=c.addOrSubtract(m)}return[s,c]}toString(){let i="";for(let o=this.getDegree();o>=0;o--){let s=this.getCoefficient(o);if(s!==0){if(s<0?(i+=" - ",s=-s):i.length>0&&(i+=" + "),o===0||s!==1){let c=this.field.log(s);c===0?i+="1":c===1?i+="a":(i+="a^",i+=c)}o!==0&&(o===1?i+="x":(i+="x^",i+=o))}}return i}}let Nl=(()=>{class w extends g{}return w.kind="ArithmeticException",w})();class Re extends Ro{constructor(i,o,s){super(),this.primitive=i,this.size=o,this.generatorBase=s;let c=new Int32Array(o),u=1;for(let f=0;f<o;f++)c[f]=u,u*=2,u>=o&&(u^=i,u&=o-1);this.expTable=c;let d=new Int32Array(o);for(let f=0;f<o-1;f++)d[c[f]]=f;this.logTable=d,this.zero=new Ft(this,Int32Array.from([0])),this.one=new Ft(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new y;if(o===0)return this.zero;let s=new Int32Array(i+1);return s[0]=o,new Ft(this,s)}inverse(i){if(i===0)throw new Nl;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+H.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}Re.AZTEC_DATA_12=new Re(4201,4096,1),Re.AZTEC_DATA_10=new Re(1033,1024,1),Re.AZTEC_DATA_6=new Re(67,64,1),Re.AZTEC_PARAM=new Re(19,16,1),Re.QR_CODE_FIELD_256=new Re(285,256,0),Re.DATA_MATRIX_FIELD_256=new Re(301,256,1),Re.AZTEC_DATA_8=Re.DATA_MATRIX_FIELD_256,Re.MAXICODE_FIELD_64=Re.AZTEC_DATA_6;let Oo=(()=>{class w extends g{}return w.kind="ReedSolomonException",w})(),jn=(()=>{class w extends g{}return w.kind="IllegalStateException",w})();class Lo{constructor(i){this.field=i}decode(i,o){let s=this.field,c=new Ft(s,i),u=new Int32Array(o),d=!0;for(let A=0;A<o;A++){let S=c.evaluateAt(s.exp(A+s.getGeneratorBase()));u[u.length-1-A]=S,S!==0&&(d=!1)}if(d)return;let f=new Ft(s,u),p=this.runEuclideanAlgorithm(s.buildMonomial(o,1),f,o),m=p[0],x=p[1],v=this.findErrorLocations(m),I=this.findErrorMagnitudes(x,v);for(let A=0;A<v.length;A++){let S=i.length-1-s.log(v[A]);if(S<0)throw new Oo("Bad error location");i[S]=Re.addOrSubtract(i[S],I[A])}}runEuclideanAlgorithm(i,o,s){if(i.getDegree()<o.getDegree()){let A=i;i=o,o=A}let c=this.field,u=i,d=o,f=c.getZero(),p=c.getOne();for(;d.getDegree()>=(s/2|0);){let A=u,S=f;if(u=d,f=p,u.isZero())throw new Oo("r_{i-1} was zero");d=A;let T=c.getZero(),_=u.getCoefficient(u.getDegree()),O=c.inverse(_);for(;d.getDegree()>=u.getDegree()&&!d.isZero();){let j=d.getDegree()-u.getDegree(),G=c.multiply(d.getCoefficient(d.getDegree()),O);T=T.addOrSubtract(c.buildMonomial(j,G)),d=d.addOrSubtract(u.multiplyByMonomial(j,G))}if(p=T.multiply(f).addOrSubtract(S),d.getDegree()>=u.getDegree())throw new jn("Division algorithm failed to reduce polynomial?")}let m=p.getCoefficient(0);if(m===0)throw new Oo("sigmaTilde(0) was zero");let x=c.inverse(m),v=p.multiplyScalar(x),I=d.multiplyScalar(x);return[v,I]}findErrorLocations(i){let o=i.getDegree();if(o===1)return Int32Array.from([i.getCoefficient(1)]);let s=new Int32Array(o),c=0,u=this.field;for(let d=1;d<u.getSize()&&c<o;d++)i.evaluateAt(d)===0&&(s[c]=u.inverse(d),c++);if(c!==o)throw new Oo("Error locator degree does not match number of roots");return s}findErrorMagnitudes(i,o){let s=o.length,c=new Int32Array(s),u=this.field;for(let d=0;d<s;d++){let f=u.inverse(o[d]),p=1;for(let m=0;m<s;m++)if(d!==m){let x=u.multiply(o[m],f),v=x&1?x&-2:x|1;p=u.multiply(p,v)}c[d]=u.multiply(i.evaluateAt(f),u.inverse(p)),u.getGeneratorBase()!==0&&(c[d]=u.multiply(c[d],f))}return c}}var St=function(w){return w[w.UPPER=0]="UPPER",w[w.LOWER=1]="LOWER",w[w.MIXED=2]="MIXED",w[w.DIGIT=3]="DIGIT",w[w.PUNCT=4]="PUNCT",w[w.BINARY=5]="BINARY",w}(St||{});let Rl=(()=>{class w{decode(o){this.ddata=o;let s=o.getBits(),c=this.extractBits(s),u=this.correctBits(c),d=w.convertBoolArrayToByteArray(u),f=w.getEncodedData(u),p=new No(d,f,null,null);return p.setNumBits(u.length),p}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let s=o.length,c=St.UPPER,u=St.UPPER,d="",f=0;for(;f<s;)if(u===St.BINARY){if(s-f<5)break;let p=w.readCode(o,f,5);if(f+=5,p===0){if(s-f<11)break;p=w.readCode(o,f,11)+31,f+=11}for(let m=0;m<p;m++){if(s-f<8){f=s;break}let x=w.readCode(o,f,8);d+=ce.castAsNonUtf8Char(x),f+=8}u=c}else{let p=u===St.DIGIT?4:5;if(s-f<p)break;let m=w.readCode(o,f,p);f+=p;let x=w.getCharacter(u,m);x.startsWith("CTRL_")?(c=u,u=w.getTable(x.charAt(5)),x.charAt(6)==="L"&&(c=u)):(d+=x,u=c)}return d}static getTable(o){switch(o){case"L":return St.LOWER;case"P":return St.PUNCT;case"M":return St.MIXED;case"D":return St.DIGIT;case"B":return St.BINARY;case"U":default:return St.UPPER}}static getCharacter(o,s){switch(o){case St.UPPER:return w.UPPER_TABLE[s];case St.LOWER:return w.LOWER_TABLE[s];case St.MIXED:return w.MIXED_TABLE[s];case St.PUNCT:return w.PUNCT_TABLE[s];case St.DIGIT:return w.DIGIT_TABLE[s];default:throw new jn("Bad table")}}correctBits(o){let s,c;this.ddata.getNbLayers()<=2?(c=6,s=Re.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,s=Re.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,s=Re.AZTEC_DATA_10):(c=12,s=Re.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),d=o.length/c;if(d<u)throw new B;let f=o.length%c,p=new Int32Array(d);for(let A=0;A<d;A++,f+=c)p[A]=w.readCode(o,f,c);try{new Lo(s).decode(p,d-u)}catch(A){throw new B(A)}let m=(1<<c)-1,x=0;for(let A=0;A<u;A++){let S=p[A];if(S===0||S===m)throw new B;(S===1||S===m-1)&&x++}let v=new Array(u*c-x),I=0;for(let A=0;A<u;A++){let S=p[A];if(S===1||S===m-1)v.fill(S>1,I,I+c-1),I+=c-1;else for(let T=c-1;T>=0;--T)v[I++]=(S&1<<T)!==0}return v}extractBits(o){let s=this.ddata.isCompact(),c=this.ddata.getNbLayers(),u=(s?11:14)+c*4,d=new Int32Array(u),f=new Array(this.totalBitsInLayer(c,s));if(s)for(let p=0;p<d.length;p++)d[p]=p;else{let p=u+1+2*H.truncDivision(H.truncDivision(u,2)-1,15),m=u/2,x=H.truncDivision(p,2);for(let v=0;v<m;v++){let I=v+H.truncDivision(v,15);d[m-v-1]=x-I-1,d[m+v]=x+I+1}}for(let p=0,m=0;p<c;p++){let x=(c-p)*4+(s?9:12),v=p*2,I=u-1-v;for(let A=0;A<x;A++){let S=A*2;for(let T=0;T<2;T++)f[m+S+T]=o.get(d[v+T],d[v+A]),f[m+2*x+S+T]=o.get(d[v+A],d[I-T]),f[m+4*x+S+T]=o.get(d[I-T],d[I-A]),f[m+6*x+S+T]=o.get(d[I-A],d[v+T])}m+=x*8}return f}static readCode(o,s,c){let u=0;for(let d=s;d<s+c;d++)u<<=1,o[d]&&(u|=1);return u}static readByte(o,s){let c=o.length-s;return c>=8?w.readCode(o,s,8):w.readCode(o,s,c)<<8-c}static convertBoolArrayToByteArray(o){let s=new Uint8Array((o.length+7)/8);for(let c=0;c<s.length;c++)s[c]=w.readByte(o,8*c);return s}totalBitsInLayer(o,s){return((s?88:112)+16*o)*o}}return w.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],w.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],w.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],w.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],w.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],w})();class Me{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,o,s,c){let u=i-s,d=o-c;return Math.sqrt(u*u+d*d)}static sum(i){let o=0;for(let s=0,c=i.length;s!==c;s++){let u=i[s];o+=u}return o}}class Qs{static floatToIntBits(i){return i}}Qs.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Q{constructor(i,o){this.x=i,this.y=o}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof Q){let o=i;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Qs.floatToIntBits(this.x)+Qs.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){let o=this.distance(i[0],i[1]),s=this.distance(i[1],i[2]),c=this.distance(i[0],i[2]),u,d,f;if(s>=o&&s>=c?(d=i[0],u=i[1],f=i[2]):c>=s&&c>=o?(d=i[1],u=i[0],f=i[2]):(d=i[2],u=i[0],f=i[1]),this.crossProductZ(u,d,f)<0){let p=u;u=f,f=p}i[0]=u,i[1]=d,i[2]=f}static distance(i,o){return Me.distance(i.x,i.y,o.x,o.y)}static crossProductZ(i,o,s){let c=o.x,u=o.y;return(s.x-c)*(i.y-u)-(s.y-u)*(i.x-c)}}class Ks{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Xh extends Ks{constructor(i,o,s,c,u){super(i,o),this.compact=s,this.nbDatablocks=c,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}let Js=(()=>{class w{constructor(o,s,c,u){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),s==null&&(s=w.INIT_SIZE),c==null&&(c=o.getWidth()/2|0),u==null&&(u=o.getHeight()/2|0);let d=s/2|0;if(this.leftInit=c-d,this.rightInit=c+d,this.upInit=u-d,this.downInit=u+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new P}detect(){let o=this.leftInit,s=this.rightInit,c=this.upInit,u=this.downInit,d=!1,f=!0,p=!1,m=!1,x=!1,v=!1,I=!1,A=this.width,S=this.height;for(;f;){f=!1;let T=!0;for(;(T||!m)&&s<A;)T=this.containsBlackPoint(c,u,s,!1),T?(s++,f=!0,m=!0):m||s++;if(s>=A){d=!0;break}let _=!0;for(;(_||!x)&&u<S;)_=this.containsBlackPoint(o,s,u,!0),_?(u++,f=!0,x=!0):x||u++;if(u>=S){d=!0;break}let O=!0;for(;(O||!v)&&o>=0;)O=this.containsBlackPoint(c,u,o,!1),O?(o--,f=!0,v=!0):v||o--;if(o<0){d=!0;break}let j=!0;for(;(j||!I)&&c>=0;)j=this.containsBlackPoint(o,s,c,!0),j?(c--,f=!0,I=!0):I||c--;if(c<0){d=!0;break}f&&(p=!0)}if(!d&&p){let T=s-o,_=null;for(let F=1;_===null&&F<T;F++)_=this.getBlackPointOnSegment(o,u-F,o+F,u);if(_==null)throw new P;let O=null;for(let F=1;O===null&&F<T;F++)O=this.getBlackPointOnSegment(o,c+F,o+F,c);if(O==null)throw new P;let j=null;for(let F=1;j===null&&F<T;F++)j=this.getBlackPointOnSegment(s,c+F,s-F,c);if(j==null)throw new P;let G=null;for(let F=1;G===null&&F<T;F++)G=this.getBlackPointOnSegment(s,u-F,s-F,u);if(G==null)throw new P;return this.centerEdges(G,_,j,O)}else throw new P}getBlackPointOnSegment(o,s,c,u){let d=Me.round(Me.distance(o,s,c,u)),f=(c-o)/d,p=(u-s)/d,m=this.image;for(let x=0;x<d;x++){let v=Me.round(o+x*f),I=Me.round(s+x*p);if(m.get(v,I))return new Q(v,I)}return null}centerEdges(o,s,c,u){let d=o.getX(),f=o.getY(),p=s.getX(),m=s.getY(),x=c.getX(),v=c.getY(),I=u.getX(),A=u.getY(),S=w.CORR;return d<this.width/2?[new Q(I-S,A+S),new Q(p+S,m+S),new Q(x-S,v-S),new Q(d+S,f-S)]:[new Q(I+S,A+S),new Q(p+S,m-S),new Q(x-S,v+S),new Q(d-S,f-S)]}containsBlackPoint(o,s,c,u){let d=this.image;if(u){for(let f=o;f<=s;f++)if(d.get(f,c))return!0}else for(let f=o;f<=s;f++)if(d.get(c,f))return!0;return!1}}return w.INIT_SIZE=10,w.CORR=1,w})();class Ol{static checkAndNudgePoints(i,o){let s=i.getWidth(),c=i.getHeight(),u=!0;for(let d=0;d<o.length&&u;d+=2){let f=Math.floor(o[d]),p=Math.floor(o[d+1]);if(f<-1||f>s||p<-1||p>c)throw new P;u=!1,f===-1?(o[d]=0,u=!0):f===s&&(o[d]=s-1,u=!0),p===-1?(o[d+1]=0,u=!0):p===c&&(o[d+1]=c-1,u=!0)}u=!0;for(let d=o.length-2;d>=0&&u;d-=2){let f=Math.floor(o[d]),p=Math.floor(o[d+1]);if(f<-1||f>s||p<-1||p>c)throw new P;u=!1,f===-1?(o[d]=0,u=!0):f===s&&(o[d]=s-1,u=!0),p===-1?(o[d+1]=0,u=!0):p===c&&(o[d+1]=c-1,u=!0)}}}class hn{constructor(i,o,s,c,u,d,f,p,m){this.a11=i,this.a21=o,this.a31=s,this.a12=c,this.a22=u,this.a32=d,this.a13=f,this.a23=p,this.a33=m}static quadrilateralToQuadrilateral(i,o,s,c,u,d,f,p,m,x,v,I,A,S,T,_){let O=hn.quadrilateralToSquare(i,o,s,c,u,d,f,p);return hn.squareToQuadrilateral(m,x,v,I,A,S,T,_).times(O)}transformPoints(i){let o=i.length,s=this.a11,c=this.a12,u=this.a13,d=this.a21,f=this.a22,p=this.a23,m=this.a31,x=this.a32,v=this.a33;for(let I=0;I<o;I+=2){let A=i[I],S=i[I+1],T=u*A+p*S+v;i[I]=(s*A+d*S+m)/T,i[I+1]=(c*A+f*S+x)/T}}transformPointsWithValues(i,o){let s=this.a11,c=this.a12,u=this.a13,d=this.a21,f=this.a22,p=this.a23,m=this.a31,x=this.a32,v=this.a33,I=i.length;for(let A=0;A<I;A++){let S=i[A],T=o[A],_=u*S+p*T+v;i[A]=(s*S+d*T+m)/_,o[A]=(c*S+f*T+x)/_}}static squareToQuadrilateral(i,o,s,c,u,d,f,p){let m=i-s+u-f,x=o-c+d-p;if(m===0&&x===0)return new hn(s-i,u-s,i,c-o,d-c,o,0,0,1);{let v=s-u,I=f-u,A=c-d,S=p-d,T=v*S-I*A,_=(m*S-I*x)/T,O=(v*x-m*A)/T;return new hn(s-i+_*s,f-i+O*f,i,c-o+_*c,p-o+O*p,o,_,O,1)}}static quadrilateralToSquare(i,o,s,c,u,d,f,p){return hn.squareToQuadrilateral(i,o,s,c,u,d,f,p).buildAdjoint()}buildAdjoint(){return new hn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new hn(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class Qh extends Ol{sampleGrid(i,o,s,c,u,d,f,p,m,x,v,I,A,S,T,_,O,j,G){let F=hn.quadrilateralToQuadrilateral(c,u,d,f,p,m,x,v,I,A,S,T,_,O,j,G);return this.sampleGridWithTransform(i,o,s,F)}sampleGridWithTransform(i,o,s,c){if(o<=0||s<=0)throw new P;let u=new ht(o,s),d=new Float32Array(2*o);for(let f=0;f<s;f++){let p=d.length,m=f+.5;for(let x=0;x<p;x+=2)d[x]=x/2+.5,d[x+1]=m;c.transformPoints(d),Ol.checkAndNudgePoints(i,d);try{for(let x=0;x<p;x+=2)i.get(Math.floor(d[x]),Math.floor(d[x+1]))&&u.set(x/2,f)}catch{throw new P}}return u}}class sr{static setGridSampler(i){sr.gridSampler=i}static getInstance(){return sr.gridSampler}}sr.gridSampler=new Qh;class Rt{constructor(i,o){this.x=i,this.y=o}toResultPoint(){return new Q(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Kh{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let o=this.getMatrixCenter(),s=this.getBullsEyeCorners(o);if(i){let d=s[0];s[0]=s[2],s[2]=d}this.extractParameters(s);let c=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),u=this.getMatrixCornerPoints(s);return new Xh(c,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new P;let o=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(i[0],i[1],o),this.sampleLine(i[1],i[2],o),this.sampleLine(i[2],i[3],o),this.sampleLine(i[3],i[0],o)]);this.shift=this.getRotation(s,o);let c=0;for(let d=0;d<4;d++){let f=s[(this.shift+d)%4];this.compact?(c<<=7,c+=f>>1&127):(c<<=10,c+=(f>>2&992)+(f>>1&31))}let u=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(i,o){let s=0;i.forEach((c,u,d)=>{let f=(c>>o-2<<1)+(c&1);s=(s<<3)+f}),s=((s&1)<<11)+(s>>1);for(let c=0;c<4;c++)if(H.bitCount(s^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new P}getCorrectedParameterData(i,o){let s,c;o?(s=7,c=2):(s=10,c=4);let u=s-c,d=new Int32Array(s);for(let p=s-1;p>=0;--p)d[p]=i&15,i>>=4;try{new Lo(Re.AZTEC_PARAM).decode(d,u)}catch{throw new P}let f=0;for(let p=0;p<c;p++)f=(f<<4)+d[p];return f}getBullsEyeCorners(i){let o=i,s=i,c=i,u=i,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let v=this.getFirstDifferent(o,d,1,-1),I=this.getFirstDifferent(s,d,1,1),A=this.getFirstDifferent(c,d,-1,1),S=this.getFirstDifferent(u,d,-1,-1);if(this.nbCenterLayers>2){let T=this.distancePoint(S,v)*this.nbCenterLayers/(this.distancePoint(u,o)*(this.nbCenterLayers+2));if(T<.75||T>1.25||!this.isWhiteOrBlackRectangle(v,I,A,S))break}o=v,s=I,c=A,u=S,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new P;this.compact=this.nbCenterLayers===5;let f=new Q(o.getX()+.5,o.getY()-.5),p=new Q(s.getX()+.5,s.getY()+.5),m=new Q(c.getX()-.5,c.getY()+.5),x=new Q(u.getX()-.5,u.getY()-.5);return this.expandSquare([f,p,m,x],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,o,s,c;try{let f=new Js(this.image).detect();i=f[0],o=f[1],s=f[2],c=f[3]}catch{let p=this.image.getWidth()/2,m=this.image.getHeight()/2;i=this.getFirstDifferent(new Rt(p+7,m-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Rt(p+7,m+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new Rt(p-7,m+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new Rt(p-7,m-7),!1,-1,-1).toResultPoint()}let u=Me.round((i.getX()+c.getX()+o.getX()+s.getX())/4),d=Me.round((i.getY()+c.getY()+o.getY()+s.getY())/4);try{let f=new Js(this.image,15,u,d).detect();i=f[0],o=f[1],s=f[2],c=f[3]}catch{i=this.getFirstDifferent(new Rt(u+7,d-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Rt(u+7,d+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new Rt(u-7,d+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new Rt(u-7,d-7),!1,-1,-1).toResultPoint()}return u=Me.round((i.getX()+c.getX()+o.getX()+s.getX())/4),d=Me.round((i.getY()+c.getY()+o.getY()+s.getY())/4),new Rt(u,d)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,o,s,c,u){let d=sr.getInstance(),f=this.getDimension(),p=f/2-this.nbCenterLayers,m=f/2+this.nbCenterLayers;return d.sampleGrid(i,f,f,p,p,m,p,m,m,p,m,o.getX(),o.getY(),s.getX(),s.getY(),c.getX(),c.getY(),u.getX(),u.getY())}sampleLine(i,o,s){let c=0,u=this.distanceResultPoint(i,o),d=u/s,f=i.getX(),p=i.getY(),m=d*(o.getX()-i.getX())/u,x=d*(o.getY()-i.getY())/u;for(let v=0;v<s;v++)this.image.get(Me.round(f+v*m),Me.round(p+v*x))&&(c|=1<<s-v-1);return c}isWhiteOrBlackRectangle(i,o,s,c){let u=3;i=new Rt(i.getX()-u,i.getY()+u),o=new Rt(o.getX()-u,o.getY()-u),s=new Rt(s.getX()+u,s.getY()-u),c=new Rt(c.getX()+u,c.getY()+u);let d=this.getColor(c,i);if(d===0)return!1;let f=this.getColor(i,o);return f!==d||(f=this.getColor(o,s),f!==d)?!1:(f=this.getColor(s,c),f===d)}getColor(i,o){let s=this.distancePoint(i,o),c=(o.getX()-i.getX())/s,u=(o.getY()-i.getY())/s,d=0,f=i.getX(),p=i.getY(),m=this.image.get(i.getX(),i.getY()),x=Math.ceil(s);for(let I=0;I<x;I++)f+=c,p+=u,this.image.get(Me.round(f),Me.round(p))!==m&&d++;let v=d/s;return v>.1&&v<.9?0:v<=.1===m?1:-1}getFirstDifferent(i,o,s,c){let u=i.getX()+s,d=i.getY()+c;for(;this.isValid(u,d)&&this.image.get(u,d)===o;)u+=s,d+=c;for(u-=s,d-=c;this.isValid(u,d)&&this.image.get(u,d)===o;)u+=s;for(u-=s;this.isValid(u,d)&&this.image.get(u,d)===o;)d+=c;return d-=c,new Rt(u,d)}expandSquare(i,o,s){let c=s/(2*o),u=i[0].getX()-i[2].getX(),d=i[0].getY()-i[2].getY(),f=(i[0].getX()+i[2].getX())/2,p=(i[0].getY()+i[2].getY())/2,m=new Q(f+c*u,p+c*d),x=new Q(f-c*u,p-c*d);u=i[1].getX()-i[3].getX(),d=i[1].getY()-i[3].getY(),f=(i[1].getX()+i[3].getX())/2,p=(i[1].getY()+i[3].getY())/2;let v=new Q(f+c*u,p+c*d),I=new Q(f-c*u,p-c*d);return[m,v,x,I]}isValid(i,o){return i>=0&&i<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(i){let o=Me.round(i.getX()),s=Me.round(i.getY());return this.isValid(o,s)}distancePoint(i,o){return Me.distance(i.getX(),i.getY(),o.getX(),o.getY())}distanceResultPoint(i,o){return Me.distance(i.getX(),i.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(H.truncDivision(this.nbLayers-4,8)+1)+15}}class ea{decode(i,o=null){let s=null,c=new Kh(i.getBlackMatrix()),u=null,d=null;try{let x=c.detectMirror(!1);u=x.getPoints(),this.reportFoundResultPoints(o,u),d=new Rl().decode(x)}catch(x){s=x}if(d==null)try{let x=c.detectMirror(!0);u=x.getPoints(),this.reportFoundResultPoints(o,u),d=new Rl().decode(x)}catch(x){throw s??x}let f=new Nt(d.getText(),d.getRawBytes(),d.getNumBits(),u,ne.AZTEC,M.currentTimeMillis()),p=d.getByteSegments();p!=null&&f.putMetadata(gt.BYTE_SEGMENTS,p);let m=d.getECLevel();return m!=null&&f.putMetadata(gt.ERROR_CORRECTION_LEVEL,m),f}reportFoundResultPoints(i,o){if(i!=null){let s=i.get(oe.NEED_RESULT_POINT_CALLBACK);s!=null&&o.forEach((c,u,d)=>{s.foundPossibleResultPoint(c)})}}reset(){}}class gC extends Pr{constructor(i=500){super(new ea,i)}}class ot{decode(i,o){try{return this.doDecode(i,o)}catch{if(o&&o.get(oe.TRY_HARDER)===!0&&i.isRotateSupported()){let u=i.rotateCounterClockwise(),d=this.doDecode(u,o),f=d.getResultMetadata(),p=270;f!==null&&f.get(gt.ORIENTATION)===!0&&(p=p+f.get(gt.ORIENTATION)%360),d.putMetadata(gt.ORIENTATION,p);let m=d.getResultPoints();if(m!==null){let x=u.getHeight();for(let v=0;v<m.length;v++)m[v]=new Q(x-m[v].getY()-1,m[v].getX())}return d}else throw new P}}reset(){}doDecode(i,o){let s=i.getWidth(),c=i.getHeight(),u=new ee(s),d=o&&o.get(oe.TRY_HARDER)===!0,f=Math.max(1,c>>(d?8:5)),p;d?p=c:p=15;let m=Math.trunc(c/2);for(let x=0;x<p;x++){let v=Math.trunc((x+1)/2),I=(x&1)===0,A=m+f*(I?v:-v);if(A<0||A>=c)break;try{u=i.getBlackRow(A,u)}catch{continue}for(let S=0;S<2;S++){if(S===1&&(u.reverse(),o&&o.get(oe.NEED_RESULT_POINT_CALLBACK)===!0)){let T=new Map;o.forEach((_,O)=>T.set(O,_)),T.delete(oe.NEED_RESULT_POINT_CALLBACK),o=T}try{let T=this.decodeRow(A,u,o);if(S===1){T.putMetadata(gt.ORIENTATION,180);let _=T.getResultPoints();_!==null&&(_[0]=new Q(s-_[0].getX()-1,_[0].getY()),_[1]=new Q(s-_[1].getX()-1,_[1].getY()))}return T}catch{}}}throw new P}static recordPattern(i,o,s){let c=s.length;for(let m=0;m<c;m++)s[m]=0;let u=i.getSize();if(o>=u)throw new P;let d=!i.get(o),f=0,p=o;for(;p<u;){if(i.get(p)!==d)s[f]++;else{if(++f===c)break;s[f]=1,d=!d}p++}if(!(f===c||f===c-1&&p===u))throw new P}static recordPatternInReverse(i,o,s){let c=s.length,u=i.get(o);for(;o>0&&c>=0;)i.get(--o)!==u&&(c--,u=!u);if(c>=0)throw new P;ot.recordPattern(i,o+1,s)}static patternMatchVariance(i,o,s){let c=i.length,u=0,d=0;for(let m=0;m<c;m++)u+=i[m],d+=o[m];if(u<d)return Number.POSITIVE_INFINITY;let f=u/d;s*=f;let p=0;for(let m=0;m<c;m++){let x=i[m],v=o[m]*f,I=x>v?x-v:v-x;if(I>s)return Number.POSITIVE_INFINITY;p+=I}return p/u}}class z extends ot{static findStartPattern(i){let o=i.getSize(),s=i.getNextSet(0),c=0,u=Int32Array.from([0,0,0,0,0,0]),d=s,f=!1,p=6;for(let m=s;m<o;m++)if(i.get(m)!==f)u[c]++;else{if(c===p-1){let x=z.MAX_AVG_VARIANCE,v=-1;for(let I=z.CODE_START_A;I<=z.CODE_START_C;I++){let A=ot.patternMatchVariance(u,z.CODE_PATTERNS[I],z.MAX_INDIVIDUAL_VARIANCE);A<x&&(x=A,v=I)}if(v>=0&&i.isRange(Math.max(0,d-(m-d)/2),d,!1))return Int32Array.from([d,m,v]);d+=u[0]+u[1],u=u.slice(2,u.length-1),u[c-1]=0,u[c]=0,c--}else c++;u[c]=1,f=!f}throw new P}static decodeCode(i,o,s){ot.recordPattern(i,s,o);let c=z.MAX_AVG_VARIANCE,u=-1;for(let d=0;d<z.CODE_PATTERNS.length;d++){let f=z.CODE_PATTERNS[d],p=this.patternMatchVariance(o,f,z.MAX_INDIVIDUAL_VARIANCE);p<c&&(c=p,u=d)}if(u>=0)return u;throw new P}decodeRow(i,o,s){let c=s&&s.get(oe.ASSUME_GS1)===!0,u=z.findStartPattern(o),d=u[2],f=0,p=new Uint8Array(20);p[f++]=d;let m;switch(d){case z.CODE_START_A:m=z.CODE_CODE_A;break;case z.CODE_START_B:m=z.CODE_CODE_B;break;case z.CODE_START_C:m=z.CODE_CODE_C;break;default:throw new B}let x=!1,v=!1,I="",A=u[0],S=u[1],T=Int32Array.from([0,0,0,0,0,0]),_=0,O=0,j=d,G=0,F=!0,xe=!1,fe=!1;for(;!x;){let Di=v;switch(v=!1,_=O,O=z.decodeCode(o,T,S),p[f++]=O,O!==z.CODE_STOP&&(F=!0),O!==z.CODE_STOP&&(G++,j+=G*O),A=S,S+=T.reduce((JC,ex)=>JC+ex,0),O){case z.CODE_START_A:case z.CODE_START_B:case z.CODE_START_C:throw new B}switch(m){case z.CODE_CODE_A:if(O<64)fe===xe?I+=String.fromCharCode(32+O):I+=String.fromCharCode(32+O+128),fe=!1;else if(O<96)fe===xe?I+=String.fromCharCode(O-64):I+=String.fromCharCode(O+64),fe=!1;else switch(O!==z.CODE_STOP&&(F=!1),O){case z.CODE_FNC_1:c&&(I.length===0?I+="]C1":I+="");break;case z.CODE_FNC_2:case z.CODE_FNC_3:break;case z.CODE_FNC_4_A:!xe&&fe?(xe=!0,fe=!1):xe&&fe?(xe=!1,fe=!1):fe=!0;break;case z.CODE_SHIFT:v=!0,m=z.CODE_CODE_B;break;case z.CODE_CODE_B:m=z.CODE_CODE_B;break;case z.CODE_CODE_C:m=z.CODE_CODE_C;break;case z.CODE_STOP:x=!0;break}break;case z.CODE_CODE_B:if(O<96)fe===xe?I+=String.fromCharCode(32+O):I+=String.fromCharCode(32+O+128),fe=!1;else switch(O!==z.CODE_STOP&&(F=!1),O){case z.CODE_FNC_1:c&&(I.length===0?I+="]C1":I+="");break;case z.CODE_FNC_2:case z.CODE_FNC_3:break;case z.CODE_FNC_4_B:!xe&&fe?(xe=!0,fe=!1):xe&&fe?(xe=!1,fe=!1):fe=!0;break;case z.CODE_SHIFT:v=!0,m=z.CODE_CODE_A;break;case z.CODE_CODE_A:m=z.CODE_CODE_A;break;case z.CODE_CODE_C:m=z.CODE_CODE_C;break;case z.CODE_STOP:x=!0;break}break;case z.CODE_CODE_C:if(O<100)O<10&&(I+="0"),I+=O;else switch(O!==z.CODE_STOP&&(F=!1),O){case z.CODE_FNC_1:c&&(I.length===0?I+="]C1":I+="");break;case z.CODE_CODE_A:m=z.CODE_CODE_A;break;case z.CODE_CODE_B:m=z.CODE_CODE_B;break;case z.CODE_STOP:x=!0;break}break}Di&&(m=m===z.CODE_CODE_A?z.CODE_CODE_B:z.CODE_CODE_A)}let kt=S-A;if(S=o.getNextUnset(S),!o.isRange(S,Math.min(o.getSize(),S+(S-A)/2),!1))throw new P;if(j-=G*_,j%103!==_)throw new b;let wn=I.length;if(wn===0)throw new P;wn>0&&F&&(m===z.CODE_CODE_C?I=I.substring(0,wn-2):I=I.substring(0,wn-1));let Bt=(u[1]+u[0])/2,We=A+kt/2,vt=p.length,Gt=new Uint8Array(vt);for(let Di=0;Di<vt;Di++)Gt[Di]=p[Di];let Ii=[new Q(Bt,i),new Q(We,i)];return new Nt(I,Gt,0,Ii,ne.CODE_128,new Date().getTime())}}z.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],z.MAX_AVG_VARIANCE=.25,z.MAX_INDIVIDUAL_VARIANCE=.7,z.CODE_SHIFT=98,z.CODE_CODE_C=99,z.CODE_CODE_B=100,z.CODE_CODE_A=101,z.CODE_FNC_1=102,z.CODE_FNC_2=97,z.CODE_FNC_3=96,z.CODE_FNC_4_A=101,z.CODE_FNC_4_B=100,z.CODE_START_A=103,z.CODE_START_B=104,z.CODE_START_C=105,z.CODE_STOP=106;let Ll=(()=>{class w extends ot{constructor(o=!1,s=!1){super(),this.usingCheckDigit=o,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,s,c){let u=this.counters;u.fill(0),this.decodeRowResult="";let d=w.findAsteriskPattern(s,u),f=s.getNextSet(d[1]),p=s.getSize(),m,x;do{w.recordPattern(s,f,u);let _=w.toNarrowWidePattern(u);if(_<0)throw new P;m=w.patternToChar(_),this.decodeRowResult+=m,x=f;for(let O of u)f+=O;f=s.getNextSet(f)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let v=0;for(let _ of u)v+=_;let I=f-x-v;if(f!==p&&I*2<v)throw new P;if(this.usingCheckDigit){let _=this.decodeRowResult.length-1,O=0;for(let j=0;j<_;j++)O+=w.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(j));if(this.decodeRowResult.charAt(_)!==w.ALPHABET_STRING.charAt(O%43))throw new b;this.decodeRowResult=this.decodeRowResult.substring(0,_)}if(this.decodeRowResult.length===0)throw new P;let A;this.extendedMode?A=w.decodeExtended(this.decodeRowResult):A=this.decodeRowResult;let S=(d[1]+d[0])/2,T=x+v/2;return new Nt(A,null,0,[new Q(S,o),new Q(T,o)],ne.CODE_39,new Date().getTime())}static findAsteriskPattern(o,s){let c=o.getSize(),u=o.getNextSet(0),d=0,f=u,p=!1,m=s.length;for(let x=u;x<c;x++)if(o.get(x)!==p)s[d]++;else{if(d===m-1){if(this.toNarrowWidePattern(s)===w.ASTERISK_ENCODING&&o.isRange(Math.max(0,f-Math.floor((x-f)/2)),f,!1))return[f,x];f+=s[0]+s[1],s.copyWithin(0,2,2+d-1),s[d-1]=0,s[d]=0,d--}else d++;s[d]=1,p=!p}throw new P}static toNarrowWidePattern(o){let s=o.length,c=0,u;do{let d=2147483647;for(let m of o)m<d&&m>c&&(d=m);c=d,u=0;let f=0,p=0;for(let m=0;m<s;m++){let x=o[m];x>c&&(p|=1<<s-1-m,u++,f+=x)}if(u===3){for(let m=0;m<s&&u>0;m++){let x=o[m];if(x>c&&(u--,x*2>=f))return-1}return p}}while(u>3);return-1}static patternToChar(o){for(let s=0;s<w.CHARACTER_ENCODINGS.length;s++)if(w.CHARACTER_ENCODINGS[s]===o)return w.ALPHABET_STRING.charAt(s);if(o===w.ASTERISK_ENCODING)return"*";throw new P}static decodeExtended(o){let s=o.length,c="";for(let u=0;u<s;u++){let d=o.charAt(u);if(d==="+"||d==="$"||d==="%"||d==="/"){let f=o.charAt(u+1),p="\0";switch(d){case"+":if(f>="A"&&f<="Z")p=String.fromCharCode(f.charCodeAt(0)+32);else throw new B;break;case"$":if(f>="A"&&f<="Z")p=String.fromCharCode(f.charCodeAt(0)-64);else throw new B;break;case"%":if(f>="A"&&f<="E")p=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")p=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")p=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")p=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")p="\0";else if(f==="V")p="@";else if(f==="W")p="`";else if(f==="X"||f==="Y"||f==="Z")p="\x7F";else throw new B;break;case"/":if(f>="A"&&f<="O")p=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")p=":";else throw new B;break}c+=p,u++}else c+=d}return c}}return w.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",w.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],w.ASTERISK_ENCODING=148,w})();class ze extends ot{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,o,s){let c=this.decodeStart(o),u=this.decodeEnd(o),d=new He;ze.decodeMiddle(o,c[1],u[0],d);let f=d.toString(),p=null;s!=null&&(p=s.get(oe.ALLOWED_LENGTHS)),p==null&&(p=ze.DEFAULT_ALLOWED_LENGTHS);let m=f.length,x=!1,v=0;for(let S of p){if(m===S){x=!0;break}S>v&&(v=S)}if(!x&&m>v&&(x=!0),!x)throw new B;let I=[new Q(c[1],i),new Q(u[0],i)];return new Nt(f,null,0,I,ne.ITF,new Date().getTime())}static decodeMiddle(i,o,s,c){let u=new Int32Array(10),d=new Int32Array(5),f=new Int32Array(5);for(u.fill(0),d.fill(0),f.fill(0);o<s;){ot.recordPattern(i,o,u);for(let m=0;m<5;m++){let x=2*m;d[m]=u[x],f[m]=u[x+1]}let p=ze.decodeDigit(d);c.append(p.toString()),p=this.decodeDigit(f),c.append(p.toString()),u.forEach(function(m){o+=m})}}decodeStart(i){let o=ze.skipWhiteSpace(i),s=ze.findGuardPattern(i,o,ze.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(i,s[0]),s}validateQuietZone(i,o){let s=this.narrowLineWidth*10;s=s<o?s:o;for(let c=o-1;s>0&&c>=0&&!i.get(c);c--)s--;if(s!==0)throw new P}static skipWhiteSpace(i){let o=i.getSize(),s=i.getNextSet(0);if(s===o)throw new P;return s}decodeEnd(i){i.reverse();try{let o=ze.skipWhiteSpace(i),s;try{s=ze.findGuardPattern(i,o,ze.END_PATTERN_REVERSED[0])}catch(u){u instanceof P&&(s=ze.findGuardPattern(i,o,ze.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,s[0]);let c=s[0];return s[0]=i.getSize()-s[1],s[1]=i.getSize()-c,s}finally{i.reverse()}}static findGuardPattern(i,o,s){let c=s.length,u=new Int32Array(c),d=i.getSize(),f=!1,p=0,m=o;u.fill(0);for(let x=o;x<d;x++)if(i.get(x)!==f)u[p]++;else{if(p===c-1){if(ot.patternMatchVariance(u,s,ze.MAX_INDIVIDUAL_VARIANCE)<ze.MAX_AVG_VARIANCE)return[m,x];m+=u[0]+u[1],M.arraycopy(u,2,u,0,p-1),u[p-1]=0,u[p]=0,p--}else p++;u[p]=1,f=!f}throw new P}static decodeDigit(i){let o=ze.MAX_AVG_VARIANCE,s=-1,c=ze.PATTERNS.length;for(let u=0;u<c;u++){let d=ze.PATTERNS[u],f=ot.patternMatchVariance(i,d,ze.MAX_INDIVIDUAL_VARIANCE);f<o?(o=f,s=u):f===o&&(s=-1)}if(s>=0)return s%10;throw new P}}ze.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ze.MAX_AVG_VARIANCE=.38,ze.MAX_INDIVIDUAL_VARIANCE=.5,ze.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ze.START_PATTERN=Int32Array.from([1,1,1,1]),ze.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Je extends ot{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let o=!1,s,c=0,u=Int32Array.from([0,0,0]);for(;!o;){u=Int32Array.from([0,0,0]),s=Je.findGuardPattern(i,c,!1,this.START_END_PATTERN,u);let d=s[0];c=s[1];let f=d-(c-d);f>=0&&(o=i.isRange(f,d,!1))}return s}static checkChecksum(i){return Je.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let s=parseInt(i.charAt(o-1),10);return Je.getStandardUPCEANChecksum(i.substring(0,o-1))===s}static getStandardUPCEANChecksum(i){let o=i.length,s=0;for(let c=o-1;c>=0;c-=2){let u=i.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new B;s+=u}s*=3;for(let c=o-2;c>=0;c-=2){let u=i.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new B;s+=u}return(1e3-s)%10}static decodeEnd(i,o){return Je.findGuardPattern(i,o,!1,Je.START_END_PATTERN,new Int32Array(Je.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,o,s,c){return this.findGuardPattern(i,o,s,c,new Int32Array(c.length))}static findGuardPattern(i,o,s,c,u){let d=i.getSize();o=s?i.getNextUnset(o):i.getNextSet(o);let f=0,p=o,m=c.length,x=s;for(let v=o;v<d;v++)if(i.get(v)!==x)u[f]++;else{if(f===m-1){if(ot.patternMatchVariance(u,c,Je.MAX_INDIVIDUAL_VARIANCE)<Je.MAX_AVG_VARIANCE)return Int32Array.from([p,v]);p+=u[0]+u[1];let I=u.slice(2,u.length-1);for(let A=0;A<f-1;A++)u[A]=I[A];u[f-1]=0,u[f]=0,f--}else f++;u[f]=1,x=!x}throw new P}static decodeDigit(i,o,s,c){this.recordPattern(i,s,o);let u=this.MAX_AVG_VARIANCE,d=-1,f=c.length;for(let p=0;p<f;p++){let m=c[p],x=ot.patternMatchVariance(o,m,Je.MAX_INDIVIDUAL_VARIANCE);x<u&&(u=x,d=p)}if(d>=0)return d;throw new P}}Je.MAX_AVG_VARIANCE=.48,Je.MAX_INDIVIDUAL_VARIANCE=.7,Je.START_END_PATTERN=Int32Array.from([1,1,1]),Je.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Je.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Je.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Fo{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,s){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(o,s,c),d=c.toString(),f=Fo.parseExtensionString(d),p=[new Q((s[0]+s[1])/2,i),new Q(u,i)],m=new Nt(d,null,0,p,ne.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&m.putAllMetadata(f),m}decodeMiddle(i,o,s){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),d=o[1],f=0;for(let m=0;m<5&&d<u;m++){let x=Je.decodeDigit(i,c,d,Je.L_AND_G_PATTERNS);s+=String.fromCharCode(48+x%10);for(let v of c)d+=v;x>=10&&(f|=1<<4-m),m!==4&&(d=i.getNextSet(d),d=i.getNextUnset(d))}if(s.length!==5)throw new P;let p=this.determineCheckDigit(f);if(Fo.extensionChecksum(s.toString())!==p)throw new P;return d}static extensionChecksum(i){let o=i.length,s=0;for(let c=o-2;c>=0;c-=2)s+=i.charAt(c).charCodeAt(0)-48;s*=3;for(let c=o-1;c>=0;c-=2)s+=i.charAt(c).charCodeAt(0)-48;return s*=3,s%10}determineCheckDigit(i){for(let o=0;o<10;o++)if(i===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new P}static parseExtensionString(i){if(i.length!==5)return null;let o=Fo.parseExtension5String(i);return o==null?null:new Map([[gt.SUGGESTED_PRICE,o]])}static parseExtension5String(i){let o;switch(i.charAt(0)){case"0":o="\xA3";break;case"5":o="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let s=parseInt(i.substring(1)),c=(s/100).toString(),u=s%100,d=u<10?"0"+u:u.toString();return o+c+"."+d}}class Fl{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,s){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(o,s,c),d=c.toString(),f=Fl.parseExtensionString(d),p=[new Q((s[0]+s[1])/2,i),new Q(u,i)],m=new Nt(d,null,0,p,ne.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&m.putAllMetadata(f),m}decodeMiddle(i,o,s){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),d=o[1],f=0;for(let p=0;p<2&&d<u;p++){let m=Je.decodeDigit(i,c,d,Je.L_AND_G_PATTERNS);s+=String.fromCharCode(48+m%10);for(let x of c)d+=x;m>=10&&(f|=1<<1-p),p!==1&&(d=i.getNextSet(d),d=i.getNextUnset(d))}if(s.length!==2)throw new P;if(parseInt(s.toString())%4!==f)throw new P;return d}static parseExtensionString(i){return i.length!==2?null:new Map([[gt.ISSUE_NUMBER,parseInt(i)]])}}class Jh{static decodeRow(i,o,s){let c=Je.findGuardPattern(o,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Fo().decodeRow(i,o,c)}catch{return new Fl().decodeRow(i,o,c)}}}Jh.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Oe extends Je{constructor(){super(),this.decodeRowStringBuffer="",Oe.L_AND_G_PATTERNS=Oe.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let o=Oe.L_PATTERNS[i-10],s=new Int32Array(o.length);for(let c=0;c<o.length;c++)s[c]=o[o.length-c-1];Oe.L_AND_G_PATTERNS[i]=s}}decodeRow(i,o,s){let c=Oe.findStartGuardPattern(o),u=s==null?null:s.get(oe.NEED_RESULT_POINT_CALLBACK);if(u!=null){let F=new Q((c[0]+c[1])/2,i);u.foundPossibleResultPoint(F)}let d=this.decodeMiddle(o,c,this.decodeRowStringBuffer),f=d.rowOffset,p=d.resultString;if(u!=null){let F=new Q(f,i);u.foundPossibleResultPoint(F)}let m=this.decodeEnd(o,f);if(u!=null){let F=new Q((m[0]+m[1])/2,i);u.foundPossibleResultPoint(F)}let x=m[1],v=x+(x-m[0]);if(v>=o.getSize()||!o.isRange(x,v,!1))throw new P;let I=p.toString();if(I.length<8)throw new B;if(!Oe.checkChecksum(I))throw new b;let A=(c[1]+c[0])/2,S=(m[1]+m[0])/2,T=this.getBarcodeFormat(),_=[new Q(A,i),new Q(S,i)],O=new Nt(I,null,0,_,T,new Date().getTime()),j=0;try{let F=Jh.decodeRow(i,o,m[1]);O.putMetadata(gt.UPC_EAN_EXTENSION,F.getText()),O.putAllMetadata(F.getResultMetadata()),O.addResultPoints(F.getResultPoints()),j=F.getText().length}catch{}let G=s==null?null:s.get(oe.ALLOWED_EAN_EXTENSIONS);if(G!=null){let F=!1;for(let xe in G)if(j.toString()===xe){F=!0;break}if(!F)throw new P}return O}decodeEnd(i,o){return Oe.findGuardPattern(i,o,!1,Oe.START_END_PATTERN,new Int32Array(Oe.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return Oe.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let s=parseInt(i.charAt(o-1),10);return Oe.getStandardUPCEANChecksum(i.substring(0,o-1))===s}static getStandardUPCEANChecksum(i){let o=i.length,s=0;for(let c=o-1;c>=0;c-=2){let u=i.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new B;s+=u}s*=3;for(let c=o-2;c>=0;c-=2){let u=i.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new B;s+=u}return(1e3-s)%10}}let ta=(()=>{class w extends Oe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,s,c){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=o.getSize(),f=s[1],p=0;for(let x=0;x<6&&f<d;x++){let v=Oe.decodeDigit(o,u,f,Oe.L_AND_G_PATTERNS);c+=String.fromCharCode(48+v%10);for(let I of u)f+=I;v>=10&&(p|=1<<5-x)}c=w.determineFirstDigit(c,p),f=Oe.findGuardPattern(o,f,!0,Oe.MIDDLE_PATTERN,new Int32Array(Oe.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&f<d;x++){let v=Oe.decodeDigit(o,u,f,Oe.L_PATTERNS);c+=String.fromCharCode(48+v);for(let I of u)f+=I}return{rowOffset:f,resultString:c}}getBarcodeFormat(){return ne.EAN_13}static determineFirstDigit(o,s){for(let c=0;c<10;c++)if(s===this.FIRST_DIGIT_ENCODINGS[c])return o=String.fromCharCode(48+c)+o,o;throw new P}}return w.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],w})();class ep extends Oe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,s){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),d=o[1];for(let p=0;p<4&&d<u;p++){let m=Oe.decodeDigit(i,c,d,Oe.L_PATTERNS);s+=String.fromCharCode(48+m);for(let x of c)d+=x}d=Oe.findGuardPattern(i,d,!0,Oe.MIDDLE_PATTERN,new Int32Array(Oe.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<4&&d<u;p++){let m=Oe.decodeDigit(i,c,d,Oe.L_PATTERNS);s+=String.fromCharCode(48+m);for(let x of c)d+=x}return{rowOffset:d,resultString:s}}getBarcodeFormat(){return ne.EAN_8}}class tp extends Oe{constructor(){super(...arguments),this.ean13Reader=new ta}getBarcodeFormat(){return ne.UPC_A}decode(i,o){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,o,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,o,s))}decodeMiddle(i,o,s){return this.ean13Reader.decodeMiddle(i,o,s)}maybeReturnResult(i){let o=i.getText();if(o.charAt(0)==="0"){let s=new Nt(o.substring(1),null,null,i.getResultPoints(),ne.UPC_A);return i.getResultMetadata()!=null&&s.putAllMetadata(i.getResultMetadata()),s}else throw new P}reset(){this.ean13Reader.reset()}}class pn extends Oe{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,o,s){let c=this.decodeMiddleCounters.map(m=>m);c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),d=o[1],f=0;for(let m=0;m<6&&d<u;m++){let x=pn.decodeDigit(i,c,d,pn.L_AND_G_PATTERNS);s+=String.fromCharCode(48+x%10);for(let v of c)d+=v;x>=10&&(f|=1<<5-m)}let p=pn.determineNumSysAndCheckDigit(s,f);return{rowOffset:d,resultString:p}}decodeEnd(i,o){return pn.findGuardPatternWithoutCounters(i,o,!0,pn.MIDDLE_END_PATTERN)}checkChecksum(i){return Oe.checkChecksum(pn.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,o){for(let s=0;s<=1;s++)for(let c=0;c<10;c++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][c]){let u=String.fromCharCode(48+s),d=String.fromCharCode(48+c);return u+i+d}throw P.getNotFoundInstance()}getBarcodeFormat(){return ne.UPC_E}static convertUPCEtoUPCA(i){let o=i.slice(1,7).split("").map(u=>u.charCodeAt(0)),s=new He;s.append(i.charAt(0));let c=o[5];switch(c){case 0:case 1:case 2:s.appendChars(o,0,2),s.append(c),s.append("0000"),s.appendChars(o,2,3);break;case 3:s.appendChars(o,0,3),s.append("00000"),s.appendChars(o,3,2);break;case 4:s.appendChars(o,0,4),s.append("00000"),s.append(o[4]);break;default:s.appendChars(o,0,5),s.append("0000"),s.append(c);break}return i.length>=8&&s.append(i.charAt(7)),s.toString()}}pn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),pn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Pl extends ot{constructor(i){super();let o=i==null?null:i.get(oe.POSSIBLE_FORMATS),s=[];e(o)?(s.push(new ta),s.push(new tp),s.push(new ep),s.push(new pn)):(o.indexOf(ne.EAN_13)>-1&&s.push(new ta),o.indexOf(ne.UPC_A)>-1&&s.push(new tp),o.indexOf(ne.EAN_8)>-1&&s.push(new ep),o.indexOf(ne.UPC_E)>-1&&s.push(new pn)),this.readers=s}decodeRow(i,o,s){for(let c of this.readers)try{let u=c.decodeRow(i,o,s),d=u.getBarcodeFormat()===ne.EAN_13&&u.getText().charAt(0)==="0",f=s==null?null:s.get(oe.POSSIBLE_FORMATS),p=f==null||f.includes(ne.UPC_A);if(d&&p){let m=u.getRawBytes(),x=new Nt(u.getText().substring(1),m,m?m.length:null,u.getResultPoints(),ne.UPC_A);return x.putAllMetadata(u.getResultMetadata()),x}return u}catch{}throw new P}reset(){for(let i of this.readers)i.reset()}}let kr=(()=>{class w extends ot{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,s){for(let c=0;c<s.length;c++)if(ot.patternMatchVariance(o,s[c],w.MAX_INDIVIDUAL_VARIANCE)<w.MAX_AVG_VARIANCE)return c;throw new P}static count(o){return Me.sum(new Int32Array(o))}static increment(o,s){let c=0,u=s[0];for(let d=1;d<o.length;d++)s[d]>u&&(u=s[d],c=d);o[c]++}static decrement(o,s){let c=0,u=s[0];for(let d=1;d<o.length;d++)s[d]<u&&(u=s[d],c=d);o[c]--}static isFinderPattern(o){let s=o[0]+o[1],c=s+o[2]+o[3],u=s/c;if(u>=w.MIN_FINDER_PATTERN_RATIO&&u<=w.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let p of o)p>f&&(f=p),p<d&&(d=p);return f<10*d}return!1}}return w.MAX_AVG_VARIANCE=.2,w.MAX_INDIVIDUAL_VARIANCE=.45,w.MIN_FINDER_PATTERN_RATIO=9.5/12,w.MAX_FINDER_PATTERN_RATIO=12.5/14,w})();class yi{constructor(i,o){this.value=i,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof yi))return!1;let o=i;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class na{constructor(i,o,s,c,u){this.value=i,this.startEnd=o,this.value=i,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new Q(s,u)),this.resultPoints.push(new Q(c,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof na))return!1;let o=i;return this.value===o.value}hashCode(){return this.value}}class Tn{constructor(){}static getRSSvalue(i,o,s){let c=0;for(let p of i)c+=p;let u=0,d=0,f=i.length;for(let p=0;p<f-1;p++){let m;for(m=1,d|=1<<p;m<i[p];m++,d&=~(1<<p)){let x=Tn.combins(c-m-1,f-p-2);if(s&&d===0&&c-m-(f-p-1)>=f-p-1&&(x-=Tn.combins(c-m-(f-p),f-p-2)),f-p-1>1){let v=0;for(let I=c-m-(f-p-2);I>o;I--)v+=Tn.combins(c-m-I-1,f-p-3);x-=v*(f-1-p)}else c-m>o&&x--;u+=x}c-=m}return u}static combins(i,o){let s,c;i-o>o?(c=o,s=i-o):(c=i-o,s=o);let u=1,d=1;for(let f=i;f>s;f--)u*=f,d<=c&&(u/=d,d++);for(;d<=c;)u/=d,d++;return u}}class mC{static buildBitArray(i){let o=i.length*2-1;i[i.length-1].getRightChar()==null&&(o-=1);let s=12*o,c=new ee(s),u=0,f=i[0].getRightChar().getValue();for(let p=11;p>=0;--p)f&1<<p&&c.set(u),u++;for(let p=1;p<i.length;++p){let m=i[p],x=m.getLeftChar().getValue();for(let v=11;v>=0;--v)x&1<<v&&c.set(u),u++;if(m.getRightChar()!=null){let v=m.getRightChar().getValue();for(let I=11;I>=0;--I)v&1<<I&&c.set(u),u++}}return c}}class Br{constructor(i,o){o?this.decodedInformation=null:(this.finished=i,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class kl{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}let gn=(()=>{class w extends kl{constructor(o,s){super(o),this.value=s}getValue(){return this.value}isFNC1(){return this.value===w.FNC1}}return w.FNC1="$",w})();class Vr extends kl{constructor(i,o,s){super(i),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}let wi=(()=>{class w extends kl{constructor(o,s,c){if(super(o),s<0||s>10||c<0||c>10)throw new B;this.firstDigit=s,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===w.FNC1}isSecondDigitFNC1(){return this.secondDigit===w.FNC1}isAnyFNC1(){return this.firstDigit===w.FNC1||this.secondDigit===w.FNC1}}return w.FNC1=10,w})();class X{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new P;let o=i.substring(0,2);for(let u of X.TWO_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===X.VARIABLE_LENGTH?X.processVariableAI(2,u[2],i):X.processFixedAI(2,u[1],i);if(i.length<3)throw new P;let s=i.substring(0,3);for(let u of X.THREE_DIGIT_DATA_LENGTH)if(u[0]===s)return u[1]===X.VARIABLE_LENGTH?X.processVariableAI(3,u[2],i):X.processFixedAI(3,u[1],i);for(let u of X.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===s)return u[1]===X.VARIABLE_LENGTH?X.processVariableAI(4,u[2],i):X.processFixedAI(4,u[1],i);if(i.length<4)throw new P;let c=i.substring(0,4);for(let u of X.FOUR_DIGIT_DATA_LENGTH)if(u[0]===c)return u[1]===X.VARIABLE_LENGTH?X.processVariableAI(4,u[2],i):X.processFixedAI(4,u[1],i);throw new P}static processFixedAI(i,o,s){if(s.length<i)throw new P;let c=s.substring(0,i);if(s.length<i+o)throw new P;let u=s.substring(i,i+o),d=s.substring(i+o),f="("+c+")"+u,p=X.parseFieldsInGeneralPurpose(d);return p==null?f:f+p}static processVariableAI(i,o,s){let c=s.substring(0,i),u;s.length<i+o?u=s.length:u=i+o;let d=s.substring(i,u),f=s.substring(u),p="("+c+")"+d,m=X.parseFieldsInGeneralPurpose(f);return m==null?p:p+m}}X.VARIABLE_LENGTH=[],X.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",X.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",X.VARIABLE_LENGTH,20],["22",X.VARIABLE_LENGTH,29],["30",X.VARIABLE_LENGTH,8],["37",X.VARIABLE_LENGTH,8],["90",X.VARIABLE_LENGTH,30],["91",X.VARIABLE_LENGTH,30],["92",X.VARIABLE_LENGTH,30],["93",X.VARIABLE_LENGTH,30],["94",X.VARIABLE_LENGTH,30],["95",X.VARIABLE_LENGTH,30],["96",X.VARIABLE_LENGTH,30],["97",X.VARIABLE_LENGTH,3],["98",X.VARIABLE_LENGTH,30],["99",X.VARIABLE_LENGTH,30]],X.THREE_DIGIT_DATA_LENGTH=[["240",X.VARIABLE_LENGTH,30],["241",X.VARIABLE_LENGTH,30],["242",X.VARIABLE_LENGTH,6],["250",X.VARIABLE_LENGTH,30],["251",X.VARIABLE_LENGTH,30],["253",X.VARIABLE_LENGTH,17],["254",X.VARIABLE_LENGTH,20],["400",X.VARIABLE_LENGTH,30],["401",X.VARIABLE_LENGTH,30],["402",17],["403",X.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",X.VARIABLE_LENGTH,20],["421",X.VARIABLE_LENGTH,15],["422",3],["423",X.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],X.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",X.VARIABLE_LENGTH,15],["391",X.VARIABLE_LENGTH,18],["392",X.VARIABLE_LENGTH,15],["393",X.VARIABLE_LENGTH,18],["703",X.VARIABLE_LENGTH,30]],X.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",X.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",X.VARIABLE_LENGTH,20],["8003",X.VARIABLE_LENGTH,30],["8004",X.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",X.VARIABLE_LENGTH,30],["8008",X.VARIABLE_LENGTH,12],["8018",18],["8020",X.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",X.VARIABLE_LENGTH,70],["8200",X.VARIABLE_LENGTH,70]];class Ci{constructor(i){this.buffer=new He,this.information=i}decodeAllCodes(i,o){let s=o,c=null;do{let u=this.decodeGeneralPurposeField(s,c),d=X.parseFieldsInGeneralPurpose(u.getNewString());if(d!=null&&i.append(d),u.isRemaining()?c=""+u.getRemainingValue():c=null,s===u.getNewPosition())break;s=u.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let o=i;o<i+3;++o)if(this.information.get(o))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(i,4);return u===0?new wi(this.information.getSize(),wi.FNC1,wi.FNC1):new wi(this.information.getSize(),u-1,wi.FNC1)}let o=this.extractNumericValueFromBitArray(i,7),s=(o-8)/11,c=(o-8)%11;return new wi(i+7,s,c)}extractNumericValueFromBitArray(i,o){return Ci.extractNumericValueFromBitArray(this.information,i,o)}static extractNumericValueFromBitArray(i,o,s){let c=0;for(let u=0;u<s;++u)i.get(o+u)&&(c|=1<<s-u-1);return c}decodeGeneralPurposeField(i,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(i);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new Vr(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new Vr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,o;do{let s=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),i=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),i=o.isFinished()):(o=this.parseNumericBlock(),i=o.isFinished()),!(s!==this.current.getPosition())&&!i)break}while(!i);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let o;return i.isSecondDigitFNC1()?o=new Vr(this.current.getPosition(),this.buffer.toString()):o=new Vr(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new Br(!0,o)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let o=new Vr(this.current.getPosition(),this.buffer.toString());return new Br(!0,o)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Br(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Vr(this.current.getPosition(),this.buffer.toString());return new Br(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Br(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Vr(this.current.getPosition(),this.buffer.toString());return new Br(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Br(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(i,7);if(s>=64&&s<116)return!0;if(i+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(i,8);return c>=232&&c<253}decodeIsoIec646(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new gn(i+5,gn.FNC1);if(o>=5&&o<15)return new gn(i+5,"0"+(o-5));let s=this.extractNumericValueFromBitArray(i,7);if(s>=64&&s<90)return new gn(i+7,""+(s+1));if(s>=90&&s<116)return new gn(i+7,""+(s+7));let c=this.extractNumericValueFromBitArray(i,8),u;switch(c){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new B}return new gn(i+8,u)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(i,6);return s>=16&&s<63}decodeAlphanumeric(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new gn(i+5,gn.FNC1);if(o>=5&&o<15)return new gn(i+5,"0"+(o-5));let s=this.extractNumericValueFromBitArray(i,6);if(s>=32&&s<58)return new gn(i+6,""+(s+33));let c;switch(s){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new jn("Decoding invalid alphanumeric value: "+s)}return new gn(i+6,c)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<5&&o+i<this.information.getSize();++o)if(o===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+o))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let o=i;o<i+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<4&&o+i<this.information.getSize();++o)if(this.information.get(i+o))return!1;return!0}}class Bl{constructor(i){this.information=i,this.generalDecoder=new Ci(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}let mn=(()=>{class w extends Bl{constructor(o){super(o)}encodeCompressedGtin(o,s){o.append("(01)");let c=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,s,c)}encodeCompressedGtinWithoutAI(o,s,c){for(let u=0;u<4;++u){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*u,10);d/100===0&&o.append("0"),d/10===0&&o.append("0"),o.append(d)}w.appendCheckDigit(o,c)}static appendCheckDigit(o,s){let c=0;for(let u=0;u<13;u++){let d=o.charAt(u+s).charCodeAt(0)-48;c+=u&1?d:3*d}c=10-c%10,c===10&&(c=0),o.append(c)}}return w.GTIN_SIZE=40,w})(),yC=(()=>{class w extends mn{constructor(o){super(o)}parseInformation(){let o=new He;o.append("(01)");let s=o.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(w.HEADER_SIZE,4);return o.append(c),this.encodeCompressedGtinWithoutAI(o,w.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(o,w.HEADER_SIZE+44)}}return w.HEADER_SIZE=4,w})(),wC=(()=>{class w extends Bl{constructor(o){super(o)}parseInformation(){let o=new He;return this.getGeneralDecoder().decodeAllCodes(o,w.HEADER_SIZE)}}return w.HEADER_SIZE=5,w})();class ra extends mn{constructor(i){super(i)}encodeCompressedWeight(i,o,s){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(o,s);this.addWeightCode(i,c);let u=this.checkWeight(c),d=1e5;for(let f=0;f<5;++f)u/d===0&&i.append("0"),d/=10;i.append(u)}}let np=(()=>{class w extends ra{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=w.HEADER_SIZE+ra.GTIN_SIZE+w.WEIGHT_SIZE)throw new P;let o=new He;return this.encodeCompressedGtin(o,w.HEADER_SIZE),this.encodeCompressedWeight(o,w.HEADER_SIZE+ra.GTIN_SIZE,w.WEIGHT_SIZE),o.toString()}}return w.HEADER_SIZE=5,w.WEIGHT_SIZE=15,w})();class CC extends np{constructor(i){super(i)}addWeightCode(i,o){i.append("(3103)")}checkWeight(i){return i}}class xC extends np{constructor(i){super(i)}addWeightCode(i,o){o<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}let vC=(()=>{class w extends mn{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<w.HEADER_SIZE+mn.GTIN_SIZE)throw new P;let o=new He;this.encodeCompressedGtin(o,w.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(w.HEADER_SIZE+mn.GTIN_SIZE,w.LAST_DIGIT_SIZE);o.append("(392"),o.append(s),o.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(w.HEADER_SIZE+mn.GTIN_SIZE+w.LAST_DIGIT_SIZE,null);return o.append(c.getNewString()),o.toString()}}return w.HEADER_SIZE=8,w.LAST_DIGIT_SIZE=2,w})(),EC=(()=>{class w extends mn{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<w.HEADER_SIZE+mn.GTIN_SIZE)throw new P;let o=new He;this.encodeCompressedGtin(o,w.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(w.HEADER_SIZE+mn.GTIN_SIZE,w.LAST_DIGIT_SIZE);o.append("(393"),o.append(s),o.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(w.HEADER_SIZE+mn.GTIN_SIZE+w.LAST_DIGIT_SIZE,w.FIRST_THREE_DIGITS_SIZE);c/100==0&&o.append("0"),c/10==0&&o.append("0"),o.append(c);let u=this.getGeneralDecoder().decodeGeneralPurposeField(w.HEADER_SIZE+mn.GTIN_SIZE+w.LAST_DIGIT_SIZE+w.FIRST_THREE_DIGITS_SIZE,null);return o.append(u.getNewString()),o.toString()}}return w.HEADER_SIZE=8,w.LAST_DIGIT_SIZE=2,w.FIRST_THREE_DIGITS_SIZE=10,w})(),ar=(()=>{class w extends ra{constructor(o,s,c){super(o),this.dateCode=c,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=w.HEADER_SIZE+w.GTIN_SIZE+w.WEIGHT_SIZE+w.DATE_SIZE)throw new P;let o=new He;return this.encodeCompressedGtin(o,w.HEADER_SIZE),this.encodeCompressedWeight(o,w.HEADER_SIZE+w.GTIN_SIZE,w.WEIGHT_SIZE),this.encodeCompressedDate(o,w.HEADER_SIZE+w.GTIN_SIZE+w.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,s){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(s,w.DATE_SIZE);if(c==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let u=c%32;c/=32;let d=c%12+1;c/=12;let f=c;f/10==0&&o.append("0"),o.append(f),d/10==0&&o.append("0"),o.append(d),u/10==0&&o.append("0"),o.append(u)}addWeightCode(o,s){o.append("("),o.append(this.firstAIdigits),o.append(s/1e5),o.append(")")}checkWeight(o){return o%1e5}}return w.HEADER_SIZE=8,w.WEIGHT_SIZE=20,w.DATE_SIZE=16,w})();function rp(w){try{if(w.get(1))return new yC(w);if(!w.get(2))return new wC(w);switch(Ci.extractNumericValueFromBitArray(w,1,4)){case 4:return new CC(w);case 5:return new xC(w)}switch(Ci.extractNumericValueFromBitArray(w,1,5)){case 12:return new vC(w);case 13:return new EC(w)}switch(Ci.extractNumericValueFromBitArray(w,1,7)){case 56:return new ar(w,"310","11");case 57:return new ar(w,"320","11");case 58:return new ar(w,"310","13");case 59:return new ar(w,"320","13");case 60:return new ar(w,"310","15");case 61:return new ar(w,"320","15");case 62:return new ar(w,"310","17");case 63:return new ar(w,"320","17")}}catch(i){throw console.log(i),new jn("unknown decoder: "+w)}}class cr{constructor(i,o,s,c){this.leftchar=i,this.rightchar=o,this.finderpattern=s,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,o){return i instanceof cr?cr.equalsOrNull(i.leftchar,o.leftchar)&&cr.equalsOrNull(i.rightchar,o.rightchar)&&cr.equalsOrNull(i.finderpattern,o.finderpattern):!1}static equalsOrNull(i,o){return i===null?o===null:cr.equals(i,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Vl{constructor(i,o,s){this.pairs=i,this.rowNumber=o,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,o){return i instanceof Vl?this.checkEqualitity(i,o)&&i.wasReversed===o.wasReversed:!1}checkEqualitity(i,o){if(!i||!o)return;let s;return i.forEach((c,u)=>{o.forEach(d=>{c.getLeftChar().getValue()===d.getLeftChar().getValue()&&c.getRightChar().getValue()===d.getRightChar().getValue()&&c.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(s=!0)})}),s}}class k extends kr{constructor(i){super(...arguments),this.pairs=new Array(k.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,o,s){this.pairs.length=0,this.startFromEven=!1;try{return k.constructResult(this.decodeRow2pairs(i,o))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,k.constructResult(this.decodeRow2pairs(i,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,o){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,i))}catch(u){if(u instanceof P){if(!this.pairs.length)throw new P;s=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(i,!1),c){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new P}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return i&&(this.rows=this.rows.reverse()),o}checkRows(i,o){for(let s=o;s<this.rows.length;s++){let c=this.rows[s];this.pairs.length=0;for(let d of i)this.pairs.push(d.getPairs());if(this.pairs.push(c.getPairs()),!k.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(i);u.push(c);try{return this.checkRows(u,s+1)}catch(d){this.verbose&&console.log(d)}}throw new P}static isValidSequence(i){for(let o of k.FINDER_PATTERN_SEQUENCES){if(i.length>o.length)continue;let s=!0;for(let c=0;c<i.length;c++)if(i[c].getFinderPattern().getValue()!=o[c]){s=!1;break}if(s)return!0}return!1}storeRow(i,o){let s=0,c=!1,u=!1;for(;s<this.rows.length;){let d=this.rows[s];if(d.getRowNumber()>i){u=d.isEquivalent(this.pairs);break}c=d.isEquivalent(this.pairs),s++}u||c||k.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new Vl(this.pairs,i,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,o){for(let s of o)if(s.getPairs().length!==i.length){for(let c of s.getPairs())for(let u of i)if(cr.equals(c,u))break}}static isPartialRow(i,o){for(let s of o){let c=!0;for(let u of i){let d=!1;for(let f of s.getPairs())if(u.equals(f)){d=!0;break}if(!d){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(i){let o=mC.buildBitArray(i),c=rp(o).parseInformation(),u=i[0].getFinderPattern().getResultPoints(),d=i[i.length-1].getFinderPattern().getResultPoints(),f=[u[0],u[1],d[0],d[1]];return new Nt(c,null,null,f,ne.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),o=i.getLeftChar(),s=i.getRightChar();if(s==null)return!1;let c=s.getChecksumPortion(),u=2;for(let f=1;f<this.pairs.size();++f){let p=this.pairs.get(f);c+=p.getLeftChar().getChecksumPortion(),u++;let m=p.getRightChar();m!=null&&(c+=m.getChecksumPortion(),u++)}return c%=211,211*(u-4)+c==o.getValue()}static getNextSecondBar(i,o){let s;return i.get(o)?(s=i.getNextUnset(o),s=i.getNextSet(s)):(s=i.getNextSet(o),s=i.getNextUnset(s)),s}retrieveNextPair(i,o,s){let c=o.length%2==0;this.startFromEven&&(c=!c);let u,d=!0,f=-1;do this.findNextPair(i,o,f),u=this.parseFoundFinderPattern(i,s,c),u==null?f=k.getNextSecondBar(i,this.startEnd[0]):d=!1;while(d);let p=this.decodeDataCharacter(i,u,c,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new P;let m;try{m=this.decodeDataCharacter(i,u,c,!1)}catch(x){m=null,this.verbose&&console.log(x)}return new cr(p,m,u,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,o,s){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=i.getSize(),d;s>=0?d=s:this.isEmptyPair(o)?d=0:d=o[o.length-1].getFinderPattern().getStartEnd()[1];let f=o.length%2!=0;this.startFromEven&&(f=!f);let p=!1;for(;d<u&&(p=!i.get(d),!!p);)d++;let m=0,x=d;for(let v=d;v<u;v++)if(i.get(v)!=p)c[m]++;else{if(m==3){if(f&&k.reverseCounters(c),k.isFinderPattern(c)){this.startEnd[0]=x,this.startEnd[1]=v;return}f&&k.reverseCounters(c),x+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,m--}else m++;c[m]=1,p=!p}throw new P}static reverseCounters(i){let o=i.length;for(let s=0;s<o/2;++s){let c=i[s];i[s]=i[o-s-1],i[o-s-1]=c}}parseFoundFinderPattern(i,o,s){let c,u,d;if(s){let m=this.startEnd[0]-1;for(;m>=0&&!i.get(m);)m--;m++,c=this.startEnd[0]-m,u=m,d=this.startEnd[1]}else u=this.startEnd[0],d=i.getNextUnset(this.startEnd[1]+1),c=d-this.startEnd[1];let f=this.getDecodeFinderCounters();M.arraycopy(f,0,f,1,f.length-1),f[0]=c;let p;try{p=this.parseFinderValue(f,k.FINDER_PATTERNS)}catch{return null}return new na(p,[u,d],u,d,o)}decodeDataCharacter(i,o,s,c){let u=this.getDataCharacterCounters();for(let We=0;We<u.length;We++)u[We]=0;if(c)k.recordPatternInReverse(i,o.getStartEnd()[0],u);else{k.recordPattern(i,o.getStartEnd()[1],u);for(let We=0,vt=u.length-1;We<vt;We++,vt--){let Gt=u[We];u[We]=u[vt],u[vt]=Gt}}let d=17,f=Me.sum(new Int32Array(u))/d,p=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(f-p)/p>.3)throw new P;let m=this.getOddCounts(),x=this.getEvenCounts(),v=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let We=0;We<u.length;We++){let vt=1*u[We]/f,Gt=vt+.5;if(Gt<1){if(vt<.3)throw new P;Gt=1}else if(Gt>8){if(vt>8.7)throw new P;Gt=8}let Ii=We/2;We&1?(x[Ii]=Gt,I[Ii]=vt-Gt):(m[Ii]=Gt,v[Ii]=vt-Gt)}this.adjustOddEvenCounts(d);let A=4*o.getValue()+(s?0:2)+(c?0:1)-1,S=0,T=0;for(let We=m.length-1;We>=0;We--){if(k.isNotA1left(o,s,c)){let vt=k.WEIGHTS[A][2*We];T+=m[We]*vt}S+=m[We]}let _=0;for(let We=x.length-1;We>=0;We--)if(k.isNotA1left(o,s,c)){let vt=k.WEIGHTS[A][2*We+1];_+=x[We]*vt}let O=T+_;if(S&1||S>13||S<4)throw new P;let j=(13-S)/2,G=k.SYMBOL_WIDEST[j],F=9-G,xe=Tn.getRSSvalue(m,G,!0),fe=Tn.getRSSvalue(x,F,!1),kt=k.EVEN_TOTAL_SUBSET[j],wn=k.GSUM[j],Bt=xe*kt+fe+wn;return new yi(Bt,O)}static isNotA1left(i,o,s){return!(i.getValue()==0&&o&&s)}adjustOddEvenCounts(i){let o=Me.sum(new Int32Array(this.getOddCounts())),s=Me.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1;o>13?u=!0:o<4&&(c=!0);let d=!1,f=!1;s>13?f=!0:s<4&&(d=!0);let p=o+s-i,m=(o&1)==1,x=(s&1)==0;if(p==1)if(m){if(x)throw new P;u=!0}else{if(!x)throw new P;f=!0}else if(p==-1)if(m){if(x)throw new P;c=!0}else{if(!x)throw new P;d=!0}else if(p==0){if(m){if(!x)throw new P;o<s?(c=!0,f=!0):(u=!0,d=!0)}else if(x)throw new P}else throw new P;if(c){if(u)throw new P;k.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&k.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(f)throw new P;k.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&k.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}k.SYMBOL_WIDEST=[7,5,4,3,1],k.EVEN_TOTAL_SUBSET=[4,20,52,104,204],k.GSUM=[0,348,1388,2948,3988],k.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],k.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],k.FINDER_PAT_A=0,k.FINDER_PAT_B=1,k.FINDER_PAT_C=2,k.FINDER_PAT_D=3,k.FINDER_PAT_E=4,k.FINDER_PAT_F=5,k.FINDER_PATTERN_SEQUENCES=[[k.FINDER_PAT_A,k.FINDER_PAT_A],[k.FINDER_PAT_A,k.FINDER_PAT_B,k.FINDER_PAT_B],[k.FINDER_PAT_A,k.FINDER_PAT_C,k.FINDER_PAT_B,k.FINDER_PAT_D],[k.FINDER_PAT_A,k.FINDER_PAT_E,k.FINDER_PAT_B,k.FINDER_PAT_D,k.FINDER_PAT_C],[k.FINDER_PAT_A,k.FINDER_PAT_E,k.FINDER_PAT_B,k.FINDER_PAT_D,k.FINDER_PAT_D,k.FINDER_PAT_F],[k.FINDER_PAT_A,k.FINDER_PAT_E,k.FINDER_PAT_B,k.FINDER_PAT_D,k.FINDER_PAT_E,k.FINDER_PAT_F,k.FINDER_PAT_F],[k.FINDER_PAT_A,k.FINDER_PAT_A,k.FINDER_PAT_B,k.FINDER_PAT_B,k.FINDER_PAT_C,k.FINDER_PAT_C,k.FINDER_PAT_D,k.FINDER_PAT_D],[k.FINDER_PAT_A,k.FINDER_PAT_A,k.FINDER_PAT_B,k.FINDER_PAT_B,k.FINDER_PAT_C,k.FINDER_PAT_C,k.FINDER_PAT_D,k.FINDER_PAT_E,k.FINDER_PAT_E],[k.FINDER_PAT_A,k.FINDER_PAT_A,k.FINDER_PAT_B,k.FINDER_PAT_B,k.FINDER_PAT_C,k.FINDER_PAT_C,k.FINDER_PAT_D,k.FINDER_PAT_E,k.FINDER_PAT_F,k.FINDER_PAT_F],[k.FINDER_PAT_A,k.FINDER_PAT_A,k.FINDER_PAT_B,k.FINDER_PAT_B,k.FINDER_PAT_C,k.FINDER_PAT_D,k.FINDER_PAT_D,k.FINDER_PAT_E,k.FINDER_PAT_E,k.FINDER_PAT_F,k.FINDER_PAT_F]],k.MAX_PAIRS=11;class IC extends yi{constructor(i,o,s){super(i,o),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class et extends kr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,o,s){let c=this.decodePair(o,!1,i,s);et.addOrTally(this.possibleLeftPairs,c),o.reverse();let u=this.decodePair(o,!0,i,s);et.addOrTally(this.possibleRightPairs,u),o.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&et.checkChecksum(d,f))return et.constructResult(d,f)}throw new P}static addOrTally(i,o){if(o==null)return;let s=!1;for(let c of i)if(c.getValue()===o.getValue()){c.incrementCount(),s=!0;break}s||i.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,o){let s=4537077*i.getValue()+o.getValue(),c=new String(s).toString(),u=new He;for(let m=13-c.length;m>0;m--)u.append("0");u.append(c);let d=0;for(let m=0;m<13;m++){let x=u.charAt(m).charCodeAt(0)-48;d+=m&1?x:3*x}d=10-d%10,d===10&&(d=0),u.append(d.toString());let f=i.getFinderPattern().getResultPoints(),p=o.getFinderPattern().getResultPoints();return new Nt(u.toString(),null,0,[f[0],f[1],p[0],p[1]],ne.RSS_14,new Date().getTime())}static checkChecksum(i,o){let s=(i.getChecksumPortion()+16*o.getChecksumPortion())%79,c=9*i.getFinderPattern().getValue()+o.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,s===c}decodePair(i,o,s,c){try{let u=this.findFinderPattern(i,o),d=this.parseFoundFinderPattern(i,s,o,u),f=c==null?null:c.get(oe.NEED_RESULT_POINT_CALLBACK);if(f!=null){let x=(u[0]+u[1])/2;o&&(x=i.getSize()-1-x),f.foundPossibleResultPoint(new Q(x,s))}let p=this.decodeDataCharacter(i,d,!0),m=this.decodeDataCharacter(i,d,!1);return new IC(1597*p.getValue()+m.getValue(),p.getChecksumPortion()+4*m.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(i,o,s){let c=this.getDataCharacterCounters();for(let _=0;_<c.length;_++)c[_]=0;if(s)ot.recordPatternInReverse(i,o.getStartEnd()[0],c);else{ot.recordPattern(i,o.getStartEnd()[1]+1,c);for(let _=0,O=c.length-1;_<O;_++,O--){let j=c[_];c[_]=c[O],c[O]=j}}let u=s?16:15,d=Me.sum(new Int32Array(c))/u,f=this.getOddCounts(),p=this.getEvenCounts(),m=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors();for(let _=0;_<c.length;_++){let O=c[_]/d,j=Math.floor(O+.5);j<1?j=1:j>8&&(j=8);let G=Math.floor(_/2);_&1?(p[G]=j,x[G]=O-j):(f[G]=j,m[G]=O-j)}this.adjustOddEvenCounts(s,u);let v=0,I=0;for(let _=f.length-1;_>=0;_--)I*=9,I+=f[_],v+=f[_];let A=0,S=0;for(let _=p.length-1;_>=0;_--)A*=9,A+=p[_],S+=p[_];let T=I+3*A;if(s){if(v&1||v>12||v<4)throw new P;let _=(12-v)/2,O=et.OUTSIDE_ODD_WIDEST[_],j=9-O,G=Tn.getRSSvalue(f,O,!1),F=Tn.getRSSvalue(p,j,!0),xe=et.OUTSIDE_EVEN_TOTAL_SUBSET[_],fe=et.OUTSIDE_GSUM[_];return new yi(G*xe+F+fe,T)}else{if(S&1||S>10||S<4)throw new P;let _=(10-S)/2,O=et.INSIDE_ODD_WIDEST[_],j=9-O,G=Tn.getRSSvalue(f,O,!0),F=Tn.getRSSvalue(p,j,!1),xe=et.INSIDE_ODD_TOTAL_SUBSET[_],fe=et.INSIDE_GSUM[_];return new yi(F*xe+G+fe,T)}}findFinderPattern(i,o){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let c=i.getSize(),u=!1,d=0;for(;d<c&&(u=!i.get(d),o!==u);)d++;let f=0,p=d;for(let m=d;m<c;m++)if(i.get(m)!==u)s[f]++;else{if(f===3){if(kr.isFinderPattern(s))return[p,m];p+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,f--}else f++;s[f]=1,u=!u}throw new P}parseFoundFinderPattern(i,o,s,c){let u=i.get(c[0]),d=c[0]-1;for(;d>=0&&u!==i.get(d);)d--;d++;let f=c[0]-d,p=this.getDecodeFinderCounters(),m=new Int32Array(p.length);M.arraycopy(p,0,m,1,p.length-1),m[0]=f;let x=this.parseFinderValue(m,et.FINDER_PATTERNS),v=d,I=c[1];return s&&(v=i.getSize()-1-v,I=i.getSize()-1-I),new na(x,[d,c[1]],v,I,o)}adjustOddEvenCounts(i,o){let s=Me.sum(new Int32Array(this.getOddCounts())),c=Me.sum(new Int32Array(this.getEvenCounts())),u=!1,d=!1,f=!1,p=!1;i?(s>12?d=!0:s<4&&(u=!0),c>12?p=!0:c<4&&(f=!0)):(s>11?d=!0:s<5&&(u=!0),c>10?p=!0:c<4&&(f=!0));let m=s+c-o,x=(s&1)===(i?1:0),v=(c&1)===1;if(m===1)if(x){if(v)throw new P;d=!0}else{if(!v)throw new P;p=!0}else if(m===-1)if(x){if(v)throw new P;u=!0}else{if(!v)throw new P;f=!0}else if(m===0){if(x){if(!v)throw new P;s<c?(u=!0,p=!0):(d=!0,f=!0)}else if(v)throw new P}else throw new P;if(u){if(d)throw new P;kr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&kr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(p)throw new P;kr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&kr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}et.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],et.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],et.OUTSIDE_GSUM=[0,161,961,2015,2715],et.INSIDE_GSUM=[0,336,1036,1516],et.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],et.INSIDE_ODD_WIDEST=[2,4,6,8],et.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class xi extends ot{constructor(i,o){super(),this.readers=[],this.verbose=o===!0;let s=i?i.get(oe.POSSIBLE_FORMATS):null,c=i&&i.get(oe.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(ne.EAN_13)||s.includes(ne.UPC_A)||s.includes(ne.EAN_8)||s.includes(ne.UPC_E))&&this.readers.push(new Pl(i)),s.includes(ne.CODE_39)&&this.readers.push(new Ll(c)),s.includes(ne.CODE_128)&&this.readers.push(new z),s.includes(ne.ITF)&&this.readers.push(new ze),s.includes(ne.RSS_14)&&this.readers.push(new et),s.includes(ne.RSS_EXPANDED)&&this.readers.push(new k(this.verbose))):(this.readers.push(new Pl(i)),this.readers.push(new Ll),this.readers.push(new Pl(i)),this.readers.push(new z),this.readers.push(new ze),this.readers.push(new et),this.readers.push(new k(this.verbose)))}decodeRow(i,o,s){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(i,o,s)}catch{}throw new P}reset(){this.readers.forEach(i=>i.reset())}}class DC extends Pr{constructor(i=500,o){super(new xi(o),i,o)}}class Fe{constructor(i,o,s){this.ecCodewords=i,this.ecBlocks=[o],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Le{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class De{constructor(i,o,s,c,u,d){this.versionNumber=i,this.symbolSizeRows=o,this.symbolSizeColumns=s,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=u,this.ecBlocks=d;let f=0,p=d.getECCodewords(),m=d.getECBlocks();for(let x of m)f+=x.getCount()*(x.getDataCodewords()+p);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,o){if(i&1||o&1)throw new B;for(let s of De.VERSIONS)if(s.symbolSizeRows===i&&s.symbolSizeColumns===o)return s;throw new B}toString(){return""+this.versionNumber}static buildVersions(){return[new De(1,10,10,8,8,new Fe(5,new Le(1,3))),new De(2,12,12,10,10,new Fe(7,new Le(1,5))),new De(3,14,14,12,12,new Fe(10,new Le(1,8))),new De(4,16,16,14,14,new Fe(12,new Le(1,12))),new De(5,18,18,16,16,new Fe(14,new Le(1,18))),new De(6,20,20,18,18,new Fe(18,new Le(1,22))),new De(7,22,22,20,20,new Fe(20,new Le(1,30))),new De(8,24,24,22,22,new Fe(24,new Le(1,36))),new De(9,26,26,24,24,new Fe(28,new Le(1,44))),new De(10,32,32,14,14,new Fe(36,new Le(1,62))),new De(11,36,36,16,16,new Fe(42,new Le(1,86))),new De(12,40,40,18,18,new Fe(48,new Le(1,114))),new De(13,44,44,20,20,new Fe(56,new Le(1,144))),new De(14,48,48,22,22,new Fe(68,new Le(1,174))),new De(15,52,52,24,24,new Fe(42,new Le(2,102))),new De(16,64,64,14,14,new Fe(56,new Le(2,140))),new De(17,72,72,16,16,new Fe(36,new Le(4,92))),new De(18,80,80,18,18,new Fe(48,new Le(4,114))),new De(19,88,88,20,20,new Fe(56,new Le(4,144))),new De(20,96,96,22,22,new Fe(68,new Le(4,174))),new De(21,104,104,24,24,new Fe(56,new Le(6,136))),new De(22,120,120,18,18,new Fe(68,new Le(6,175))),new De(23,132,132,20,20,new Fe(62,new Le(8,163))),new De(24,144,144,22,22,new Fe(62,new Le(8,156),new Le(2,155))),new De(25,8,18,6,16,new Fe(7,new Le(1,5))),new De(26,8,32,6,14,new Fe(11,new Le(1,10))),new De(27,12,26,10,24,new Fe(14,new Le(1,16))),new De(28,12,36,10,16,new Fe(18,new Le(1,22))),new De(29,16,36,14,16,new Fe(24,new Le(1,32))),new De(30,16,48,14,22,new Fe(28,new Le(1,49)))]}}De.VERSIONS=De.buildVersions();class Ul{constructor(i){let o=i.getHeight();if(o<8||o>144||o&1)throw new B;this.version=Ul.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new ht(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){let o=i.getHeight(),s=i.getWidth();return De.getVersionForDimensions(o,s)}readCodewords(){let i=new Int8Array(this.version.getTotalCodewords()),o=0,s=4,c=0,u=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth(),f=!1,p=!1,m=!1,x=!1;do if(s===u&&c===0&&!f)i[o++]=this.readCorner1(u,d)&255,s-=2,c+=2,f=!0;else if(s===u-2&&c===0&&d&3&&!p)i[o++]=this.readCorner2(u,d)&255,s-=2,c+=2,p=!0;else if(s===u+4&&c===2&&!(d&7)&&!m)i[o++]=this.readCorner3(u,d)&255,s-=2,c+=2,m=!0;else if(s===u-2&&c===0&&(d&7)===4&&!x)i[o++]=this.readCorner4(u,d)&255,s-=2,c+=2,x=!0;else{do s<u&&c>=0&&!this.readMappingMatrix.get(c,s)&&(i[o++]=this.readUtah(s,c,u,d)&255),s-=2,c+=2;while(s>=0&&c<d);s+=1,c+=3;do s>=0&&c<d&&!this.readMappingMatrix.get(c,s)&&(i[o++]=this.readUtah(s,c,u,d)&255),s+=2,c-=2;while(s<u&&c>=0);s+=3,c+=1}while(s<u||c<d);if(o!==this.version.getTotalCodewords())throw new B;return i}readModule(i,o,s,c){return i<0&&(i+=s,o+=4-(s+4&7)),o<0&&(o+=c,i+=4-(c+4&7)),this.readMappingMatrix.set(o,i),this.mappingBitMatrix.get(o,i)}readUtah(i,o,s,c){let u=0;return this.readModule(i-2,o-2,s,c)&&(u|=1),u<<=1,this.readModule(i-2,o-1,s,c)&&(u|=1),u<<=1,this.readModule(i-1,o-2,s,c)&&(u|=1),u<<=1,this.readModule(i-1,o-1,s,c)&&(u|=1),u<<=1,this.readModule(i-1,o,s,c)&&(u|=1),u<<=1,this.readModule(i,o-2,s,c)&&(u|=1),u<<=1,this.readModule(i,o-1,s,c)&&(u|=1),u<<=1,this.readModule(i,o,s,c)&&(u|=1),u}readCorner1(i,o){let s=0;return this.readModule(i-1,0,i,o)&&(s|=1),s<<=1,this.readModule(i-1,1,i,o)&&(s|=1),s<<=1,this.readModule(i-1,2,i,o)&&(s|=1),s<<=1,this.readModule(0,o-2,i,o)&&(s|=1),s<<=1,this.readModule(0,o-1,i,o)&&(s|=1),s<<=1,this.readModule(1,o-1,i,o)&&(s|=1),s<<=1,this.readModule(2,o-1,i,o)&&(s|=1),s<<=1,this.readModule(3,o-1,i,o)&&(s|=1),s}readCorner2(i,o){let s=0;return this.readModule(i-3,0,i,o)&&(s|=1),s<<=1,this.readModule(i-2,0,i,o)&&(s|=1),s<<=1,this.readModule(i-1,0,i,o)&&(s|=1),s<<=1,this.readModule(0,o-4,i,o)&&(s|=1),s<<=1,this.readModule(0,o-3,i,o)&&(s|=1),s<<=1,this.readModule(0,o-2,i,o)&&(s|=1),s<<=1,this.readModule(0,o-1,i,o)&&(s|=1),s<<=1,this.readModule(1,o-1,i,o)&&(s|=1),s}readCorner3(i,o){let s=0;return this.readModule(i-1,0,i,o)&&(s|=1),s<<=1,this.readModule(i-1,o-1,i,o)&&(s|=1),s<<=1,this.readModule(0,o-3,i,o)&&(s|=1),s<<=1,this.readModule(0,o-2,i,o)&&(s|=1),s<<=1,this.readModule(0,o-1,i,o)&&(s|=1),s<<=1,this.readModule(1,o-3,i,o)&&(s|=1),s<<=1,this.readModule(1,o-2,i,o)&&(s|=1),s<<=1,this.readModule(1,o-1,i,o)&&(s|=1),s}readCorner4(i,o){let s=0;return this.readModule(i-3,0,i,o)&&(s|=1),s<<=1,this.readModule(i-2,0,i,o)&&(s|=1),s<<=1,this.readModule(i-1,0,i,o)&&(s|=1),s<<=1,this.readModule(0,o-2,i,o)&&(s|=1),s<<=1,this.readModule(0,o-1,i,o)&&(s|=1),s<<=1,this.readModule(1,o-1,i,o)&&(s|=1),s<<=1,this.readModule(2,o-1,i,o)&&(s|=1),s<<=1,this.readModule(3,o-1,i,o)&&(s|=1),s}extractDataRegion(i){let o=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(i.getHeight()!==o)throw new y("Dimension of bitMatrix must match the version size");let c=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),d=o/c|0,f=s/u|0,p=d*c,m=f*u,x=new ht(m,p);for(let v=0;v<d;++v){let I=v*c;for(let A=0;A<f;++A){let S=A*u;for(let T=0;T<c;++T){let _=v*(c+2)+1+T,O=I+T;for(let j=0;j<u;++j){let G=A*(u+2)+1+j;if(i.get(G,_)){let F=S+j;x.set(F,O)}}}}}return x}}class jl{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o){let s=o.getECBlocks(),c=0,u=s.getECBlocks();for(let T of u)c+=T.getCount();let d=new Array(c),f=0;for(let T of u)for(let _=0;_<T.getCount();_++){let O=T.getDataCodewords(),j=s.getECCodewords()+O;d[f++]=new jl(O,new Uint8Array(j))}let m=d[0].codewords.length-s.getECCodewords(),x=m-1,v=0;for(let T=0;T<x;T++)for(let _=0;_<f;_++)d[_].codewords[T]=i[v++];let I=o.getVersionNumber()===24,A=I?8:f;for(let T=0;T<A;T++)d[T].codewords[m-1]=i[v++];let S=d[0].codewords.length;for(let T=m;T<S;T++)for(let _=0;_<f;_++){let O=I?(_+8)%f:_,j=I&&O>7?T-1:T;d[O].codewords[j]=i[v++]}if(v!==i.length)throw new y;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Hl{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new y(""+i);let o=0,s=this.bitOffset,c=this.byteOffset,u=this.bytes;if(s>0){let d=8-s,f=i<d?i:d,p=d-f,m=255>>8-f<<p;o=(u[c]&m)>>p,i-=f,s+=f,s===8&&(s=0,c++)}if(i>0){for(;i>=8;)o=o<<8|u[c]&255,c++,i-=8;if(i>0){let d=8-i,f=255>>d<<d;o=o<<i|(u[c]&f)>>d,s+=i}}return this.bitOffset=s,this.byteOffset=c,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var mt=function(w){return w[w.PAD_ENCODE=0]="PAD_ENCODE",w[w.ASCII_ENCODE=1]="ASCII_ENCODE",w[w.C40_ENCODE=2]="C40_ENCODE",w[w.TEXT_ENCODE=3]="TEXT_ENCODE",w[w.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",w[w.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",w[w.BASE256_ENCODE=6]="BASE256_ENCODE",w}(mt||{});class lr{static decode(i){let o=new Hl(i),s=new He,c=new He,u=new Array,d=mt.ASCII_ENCODE;do if(d===mt.ASCII_ENCODE)d=this.decodeAsciiSegment(o,s,c);else{switch(d){case mt.C40_ENCODE:this.decodeC40Segment(o,s);break;case mt.TEXT_ENCODE:this.decodeTextSegment(o,s);break;case mt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,s);break;case mt.EDIFACT_ENCODE:this.decodeEdifactSegment(o,s);break;case mt.BASE256_ENCODE:this.decodeBase256Segment(o,s,u);break;default:throw new B}d=mt.ASCII_ENCODE}while(d!==mt.PAD_ENCODE&&o.available()>0);return c.length()>0&&s.append(c.toString()),new No(i,s.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(i,o,s){let c=!1;do{let u=i.readBits(8);if(u===0)throw new B;if(u<=128)return c&&(u+=128),o.append(String.fromCharCode(u-1)),mt.ASCII_ENCODE;if(u===129)return mt.PAD_ENCODE;if(u<=229){let d=u-130;d<10&&o.append("0"),o.append(""+d)}else switch(u){case 230:return mt.C40_ENCODE;case 231:return mt.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:o.append("[)>05"),s.insert(0,"");break;case 237:o.append("[)>06"),s.insert(0,"");break;case 238:return mt.ANSIX12_ENCODE;case 239:return mt.TEXT_ENCODE;case 240:return mt.EDIFACT_ENCODE;case 241:break;default:if(u!==254||i.available()!==0)throw new B;break}}while(i.available()>0);return mt.ASCII_ENCODE}static decodeC40Segment(i,o){let s=!1,c=[],u=0;do{if(i.available()===8)return;let d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),c);for(let f=0;f<3;f++){let p=c[f];switch(u){case 0:if(p<3)u=p+1;else if(p<this.C40_BASIC_SET_CHARS.length){let m=this.C40_BASIC_SET_CHARS[p];s?(o.append(String.fromCharCode(m.charCodeAt(0)+128)),s=!1):o.append(m)}else throw new B;break;case 1:s?(o.append(String.fromCharCode(p+128)),s=!1):o.append(String.fromCharCode(p)),u=0;break;case 2:if(p<this.C40_SHIFT2_SET_CHARS.length){let m=this.C40_SHIFT2_SET_CHARS[p];s?(o.append(String.fromCharCode(m.charCodeAt(0)+128)),s=!1):o.append(m)}else switch(p){case 27:o.append("");break;case 30:s=!0;break;default:throw new B}u=0;break;case 3:s?(o.append(String.fromCharCode(p+224)),s=!1):o.append(String.fromCharCode(p+96)),u=0;break;default:throw new B}}}while(i.available()>0)}static decodeTextSegment(i,o){let s=!1,c=[],u=0;do{if(i.available()===8)return;let d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),c);for(let f=0;f<3;f++){let p=c[f];switch(u){case 0:if(p<3)u=p+1;else if(p<this.TEXT_BASIC_SET_CHARS.length){let m=this.TEXT_BASIC_SET_CHARS[p];s?(o.append(String.fromCharCode(m.charCodeAt(0)+128)),s=!1):o.append(m)}else throw new B;break;case 1:s?(o.append(String.fromCharCode(p+128)),s=!1):o.append(String.fromCharCode(p)),u=0;break;case 2:if(p<this.TEXT_SHIFT2_SET_CHARS.length){let m=this.TEXT_SHIFT2_SET_CHARS[p];s?(o.append(String.fromCharCode(m.charCodeAt(0)+128)),s=!1):o.append(m)}else switch(p){case 27:o.append("");break;case 30:s=!0;break;default:throw new B}u=0;break;case 3:if(p<this.TEXT_SHIFT3_SET_CHARS.length){let m=this.TEXT_SHIFT3_SET_CHARS[p];s?(o.append(String.fromCharCode(m.charCodeAt(0)+128)),s=!1):o.append(m),u=0}else throw new B;break;default:throw new B}}}while(i.available()>0)}static decodeAnsiX12Segment(i,o){let s=[];do{if(i.available()===8)return;let c=i.readBits(8);if(c===254)return;this.parseTwoBytes(c,i.readBits(8),s);for(let u=0;u<3;u++){let d=s[u];switch(d){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(d<14)o.append(String.fromCharCode(d+44));else if(d<40)o.append(String.fromCharCode(d+51));else throw new B;break}}}while(i.available()>0)}static parseTwoBytes(i,o,s){let c=(i<<8)+o-1,u=Math.floor(c/1600);s[0]=u,c-=u*1600,u=Math.floor(c/40),s[1]=u,s[2]=c-u*40}static decodeEdifactSegment(i,o){do{if(i.available()<=16)return;for(let s=0;s<4;s++){let c=i.readBits(6);if(c===31){let u=8-i.getBitOffset();u!==8&&i.readBits(u);return}c&32||(c|=64),o.append(String.fromCharCode(c))}}while(i.available()>0)}static decodeBase256Segment(i,o,s){let c=1+i.getByteOffset(),u=this.unrandomize255State(i.readBits(8),c++),d;if(u===0?d=i.available()/8|0:u<250?d=u:d=250*(u-249)+this.unrandomize255State(i.readBits(8),c++),d<0)throw new B;let f=new Uint8Array(d);for(let p=0;p<d;p++){if(i.available()<8)throw new B;f[p]=this.unrandomize255State(i.readBits(8),c++)}s.push(f);try{o.append(bt.decode(f,ce.ISO88591))}catch(p){throw new jn("Platform does not support required encoding: "+p.message)}}static unrandomize255State(i,o){let s=149*o%255+1,c=i-s;return c>=0?c:c+256}}lr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],lr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],lr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],lr.TEXT_SHIFT2_SET_CHARS=lr.C40_SHIFT2_SET_CHARS,lr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~","\x7F"];class AC{constructor(){this.rsDecoder=new Lo(Re.DATA_MATRIX_FIELD_256)}decode(i){let o=new Ul(i),s=o.getVersion(),c=o.readCodewords(),u=jl.getDataBlocks(c,s),d=0;for(let m of u)d+=m.getNumDataCodewords();let f=new Uint8Array(d),p=u.length;for(let m=0;m<p;m++){let x=u[m],v=x.getCodewords(),I=x.getNumDataCodewords();this.correctErrors(v,I);for(let A=0;A<I;A++)f[A*p+m]=v[A]}return lr.decode(f)}correctErrors(i,o){let s=new Int32Array(i);try{this.rsDecoder.decode(s,i.length-o)}catch{throw new b}for(let c=0;c<o;c++)i[c]=s[c]}}class tt{constructor(i){this.image=i,this.rectangleDetector=new Js(this.image)}detect(){let i=this.rectangleDetector.detect(),o=this.detectSolid1(i);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new P;o=this.shiftToModuleCenter(o);let s=o[0],c=o[1],u=o[2],d=o[3],f=this.transitionsBetween(s,d)+1,p=this.transitionsBetween(u,d)+1;(f&1)===1&&(f+=1),(p&1)===1&&(p+=1),4*f<7*p&&4*p<7*f&&(f=p=Math.max(f,p));let m=tt.sampleGrid(this.image,s,c,u,d,f,p);return new Ks(m,[s,c,u,d])}static shiftPoint(i,o,s){let c=(o.getX()-i.getX())/(s+1),u=(o.getY()-i.getY())/(s+1);return new Q(i.getX()+c,i.getY()+u)}static moveAway(i,o,s){let c=i.getX(),u=i.getY();return c<o?c-=1:c+=1,u<s?u-=1:u+=1,new Q(c,u)}detectSolid1(i){let o=i[0],s=i[1],c=i[3],u=i[2],d=this.transitionsBetween(o,s),f=this.transitionsBetween(s,c),p=this.transitionsBetween(c,u),m=this.transitionsBetween(u,o),x=d,v=[u,o,s,c];return x>f&&(x=f,v[0]=o,v[1]=s,v[2]=c,v[3]=u),x>p&&(x=p,v[0]=s,v[1]=c,v[2]=u,v[3]=o),x>m&&(v[0]=c,v[1]=u,v[2]=o,v[3]=s),v}detectSolid2(i){let o=i[0],s=i[1],c=i[2],u=i[3],d=this.transitionsBetween(o,u),f=tt.shiftPoint(s,c,(d+1)*4),p=tt.shiftPoint(c,s,(d+1)*4),m=this.transitionsBetween(f,o),x=this.transitionsBetween(p,u);return m<x?(i[0]=o,i[1]=s,i[2]=c,i[3]=u):(i[0]=s,i[1]=c,i[2]=u,i[3]=o),i}correctTopRight(i){let o=i[0],s=i[1],c=i[2],u=i[3],d=this.transitionsBetween(o,u),f=this.transitionsBetween(s,u),p=tt.shiftPoint(o,s,(f+1)*4),m=tt.shiftPoint(c,s,(d+1)*4);d=this.transitionsBetween(p,u),f=this.transitionsBetween(m,u);let x=new Q(u.getX()+(c.getX()-s.getX())/(d+1),u.getY()+(c.getY()-s.getY())/(d+1)),v=new Q(u.getX()+(o.getX()-s.getX())/(f+1),u.getY()+(o.getY()-s.getY())/(f+1));if(!this.isValid(x))return this.isValid(v)?v:null;if(!this.isValid(v))return x;let I=this.transitionsBetween(p,x)+this.transitionsBetween(m,x),A=this.transitionsBetween(p,v)+this.transitionsBetween(m,v);return I>A?x:v}shiftToModuleCenter(i){let o=i[0],s=i[1],c=i[2],u=i[3],d=this.transitionsBetween(o,u)+1,f=this.transitionsBetween(c,u)+1,p=tt.shiftPoint(o,s,f*4),m=tt.shiftPoint(c,s,d*4);d=this.transitionsBetween(p,u)+1,f=this.transitionsBetween(m,u)+1,(d&1)===1&&(d+=1),(f&1)===1&&(f+=1);let x=(o.getX()+s.getX()+c.getX()+u.getX())/4,v=(o.getY()+s.getY()+c.getY()+u.getY())/4;o=tt.moveAway(o,x,v),s=tt.moveAway(s,x,v),c=tt.moveAway(c,x,v),u=tt.moveAway(u,x,v);let I,A;return p=tt.shiftPoint(o,s,f*4),p=tt.shiftPoint(p,u,d*4),I=tt.shiftPoint(s,o,f*4),I=tt.shiftPoint(I,c,d*4),m=tt.shiftPoint(c,u,f*4),m=tt.shiftPoint(m,s,d*4),A=tt.shiftPoint(u,c,f*4),A=tt.shiftPoint(A,o,d*4),[p,I,m,A]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,o,s,c,u,d,f){return sr.getInstance().sampleGrid(i,d,f,.5,.5,d-.5,.5,d-.5,f-.5,.5,f-.5,o.getX(),o.getY(),u.getX(),u.getY(),c.getX(),c.getY(),s.getX(),s.getY())}transitionsBetween(i,o){let s=Math.trunc(i.getX()),c=Math.trunc(i.getY()),u=Math.trunc(o.getX()),d=Math.trunc(o.getY()),f=Math.abs(d-c)>Math.abs(u-s);if(f){let T=s;s=c,c=T,T=u,u=d,d=T}let p=Math.abs(u-s),m=Math.abs(d-c),x=-p/2,v=c<d?1:-1,I=s<u?1:-1,A=0,S=this.image.get(f?c:s,f?s:c);for(let T=s,_=c;T!==u;T+=I){let O=this.image.get(f?_:T,f?T:_);if(O!==S&&(A++,S=O),x+=m,x>0){if(_===d)break;_+=v,x-=p}}return A}}let ia=(()=>{class w{constructor(){this.decoder=new AC}decode(o,s=null){let c,u;if(s!=null&&s.has(oe.PURE_BARCODE)){let x=w.extractPureBits(o.getBlackMatrix());c=this.decoder.decode(x),u=w.NO_POINTS}else{let x=new tt(o.getBlackMatrix()).detect();c=this.decoder.decode(x.getBits()),u=x.getPoints()}let d=c.getRawBytes(),f=new Nt(c.getText(),d,8*d.length,u,ne.DATA_MATRIX,M.currentTimeMillis()),p=c.getByteSegments();p!=null&&f.putMetadata(gt.BYTE_SEGMENTS,p);let m=c.getECLevel();return m!=null&&f.putMetadata(gt.ERROR_CORRECTION_LEVEL,m),f}reset(){}static extractPureBits(o){let s=o.getTopLeftOnBit(),c=o.getBottomRightOnBit();if(s==null||c==null)throw new P;let u=this.moduleSize(s,o),d=s[1],f=c[1],p=s[0],x=(c[0]-p+1)/u,v=(f-d+1)/u;if(x<=0||v<=0)throw new P;let I=u/2;d+=I,p+=I;let A=new ht(x,v);for(let S=0;S<v;S++){let T=d+S*u;for(let _=0;_<x;_++)o.get(p+_*u,T)&&A.set(_,S)}return A}static moduleSize(o,s){let c=s.getWidth(),u=o[0],d=o[1];for(;u<c&&s.get(u,d);)u++;if(u===c)throw new P;let f=u-o[0];if(f===0)throw new P;return f}}return w.NO_POINTS=[],w})();class bC extends Pr{constructor(i=500){super(new ia,i)}}var Po=function(w){return w[w.L=0]="L",w[w.M=1]="M",w[w.Q=2]="Q",w[w.H=3]="H",w}(Po||{});class Ye{constructor(i,o,s){this.value=i,this.stringValue=o,this.bits=s,Ye.FOR_BITS.set(s,this),Ye.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return Ye.L;case"M":return Ye.M;case"Q":return Ye.Q;case"H":return Ye.H;default:throw new C(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof Ye))return!1;let o=i;return this.value===o.value}static forBits(i){if(i<0||i>=Ye.FOR_BITS.size)throw new y;return Ye.FOR_BITS.get(i)}}Ye.FOR_BITS=new Map,Ye.FOR_VALUE=new Map,Ye.L=new Ye(Po.L,"L",1),Ye.M=new Ye(Po.M,"M",0),Ye.Q=new Ye(Po.Q,"Q",3),Ye.H=new Ye(Po.H,"H",2);class Tt{constructor(i){this.errorCorrectionLevel=Ye.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,o){return H.bitCount(i^o)}static decodeFormatInformation(i,o){let s=Tt.doDecodeFormatInformation(i,o);return s!==null?s:Tt.doDecodeFormatInformation(i^Tt.FORMAT_INFO_MASK_QR,o^Tt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,o){let s=Number.MAX_SAFE_INTEGER,c=0;for(let u of Tt.FORMAT_INFO_DECODE_LOOKUP){let d=u[0];if(d===i||d===o)return new Tt(u[1]);let f=Tt.numBitsDiffering(i,d);f<s&&(c=u[1],s=f),i!==o&&(f=Tt.numBitsDiffering(o,d),f<s&&(c=u[1],s=f))}return s<=3?new Tt(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof Tt))return!1;let o=i;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}Tt.FORMAT_INFO_MASK_QR=21522,Tt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class R{constructor(i,...o){this.ecCodewordsPerBlock=i,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0,o=this.ecBlocks;for(let s of o)i+=s.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class D{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class J{constructor(i,o,...s){this.versionNumber=i,this.alignmentPatternCenters=o,this.ecBlocks=s;let c=0,u=s[0].getECCodewordsPerBlock(),d=s[0].getECBlocks();for(let f of d)c+=f.getCount()*(f.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new B;try{return this.getVersionForNumber((i-17)/4)}catch{throw new B}}static getVersionForNumber(i){if(i<1||i>40)throw new y;return J.VERSIONS[i-1]}static decodeVersionInformation(i){let o=Number.MAX_SAFE_INTEGER,s=0;for(let c=0;c<J.VERSION_DECODE_INFO.length;c++){let u=J.VERSION_DECODE_INFO[c];if(u===i)return J.getVersionForNumber(c+7);let d=Tt.numBitsDiffering(i,u);d<o&&(s=c+7,o=d)}return o<=3?J.getVersionForNumber(s):null}buildFunctionPattern(){let i=this.getDimensionForVersion(),o=new ht(i);o.setRegion(0,0,9,9),o.setRegion(i-8,0,8,9),o.setRegion(0,i-8,9,8);let s=this.alignmentPatternCenters.length;for(let c=0;c<s;c++){let u=this.alignmentPatternCenters[c]-2;for(let d=0;d<s;d++)c===0&&(d===0||d===s-1)||c===s-1&&d===0||o.setRegion(this.alignmentPatternCenters[d]-2,u,5,5)}return o.setRegion(6,9,1,i-17),o.setRegion(9,6,i-17,1),this.versionNumber>6&&(o.setRegion(i-11,0,3,6),o.setRegion(0,i-11,6,3)),o}toString(){return""+this.versionNumber}}J.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),J.VERSIONS=[new J(1,new Int32Array(0),new R(7,new D(1,19)),new R(10,new D(1,16)),new R(13,new D(1,13)),new R(17,new D(1,9))),new J(2,Int32Array.from([6,18]),new R(10,new D(1,34)),new R(16,new D(1,28)),new R(22,new D(1,22)),new R(28,new D(1,16))),new J(3,Int32Array.from([6,22]),new R(15,new D(1,55)),new R(26,new D(1,44)),new R(18,new D(2,17)),new R(22,new D(2,13))),new J(4,Int32Array.from([6,26]),new R(20,new D(1,80)),new R(18,new D(2,32)),new R(26,new D(2,24)),new R(16,new D(4,9))),new J(5,Int32Array.from([6,30]),new R(26,new D(1,108)),new R(24,new D(2,43)),new R(18,new D(2,15),new D(2,16)),new R(22,new D(2,11),new D(2,12))),new J(6,Int32Array.from([6,34]),new R(18,new D(2,68)),new R(16,new D(4,27)),new R(24,new D(4,19)),new R(28,new D(4,15))),new J(7,Int32Array.from([6,22,38]),new R(20,new D(2,78)),new R(18,new D(4,31)),new R(18,new D(2,14),new D(4,15)),new R(26,new D(4,13),new D(1,14))),new J(8,Int32Array.from([6,24,42]),new R(24,new D(2,97)),new R(22,new D(2,38),new D(2,39)),new R(22,new D(4,18),new D(2,19)),new R(26,new D(4,14),new D(2,15))),new J(9,Int32Array.from([6,26,46]),new R(30,new D(2,116)),new R(22,new D(3,36),new D(2,37)),new R(20,new D(4,16),new D(4,17)),new R(24,new D(4,12),new D(4,13))),new J(10,Int32Array.from([6,28,50]),new R(18,new D(2,68),new D(2,69)),new R(26,new D(4,43),new D(1,44)),new R(24,new D(6,19),new D(2,20)),new R(28,new D(6,15),new D(2,16))),new J(11,Int32Array.from([6,30,54]),new R(20,new D(4,81)),new R(30,new D(1,50),new D(4,51)),new R(28,new D(4,22),new D(4,23)),new R(24,new D(3,12),new D(8,13))),new J(12,Int32Array.from([6,32,58]),new R(24,new D(2,92),new D(2,93)),new R(22,new D(6,36),new D(2,37)),new R(26,new D(4,20),new D(6,21)),new R(28,new D(7,14),new D(4,15))),new J(13,Int32Array.from([6,34,62]),new R(26,new D(4,107)),new R(22,new D(8,37),new D(1,38)),new R(24,new D(8,20),new D(4,21)),new R(22,new D(12,11),new D(4,12))),new J(14,Int32Array.from([6,26,46,66]),new R(30,new D(3,115),new D(1,116)),new R(24,new D(4,40),new D(5,41)),new R(20,new D(11,16),new D(5,17)),new R(24,new D(11,12),new D(5,13))),new J(15,Int32Array.from([6,26,48,70]),new R(22,new D(5,87),new D(1,88)),new R(24,new D(5,41),new D(5,42)),new R(30,new D(5,24),new D(7,25)),new R(24,new D(11,12),new D(7,13))),new J(16,Int32Array.from([6,26,50,74]),new R(24,new D(5,98),new D(1,99)),new R(28,new D(7,45),new D(3,46)),new R(24,new D(15,19),new D(2,20)),new R(30,new D(3,15),new D(13,16))),new J(17,Int32Array.from([6,30,54,78]),new R(28,new D(1,107),new D(5,108)),new R(28,new D(10,46),new D(1,47)),new R(28,new D(1,22),new D(15,23)),new R(28,new D(2,14),new D(17,15))),new J(18,Int32Array.from([6,30,56,82]),new R(30,new D(5,120),new D(1,121)),new R(26,new D(9,43),new D(4,44)),new R(28,new D(17,22),new D(1,23)),new R(28,new D(2,14),new D(19,15))),new J(19,Int32Array.from([6,30,58,86]),new R(28,new D(3,113),new D(4,114)),new R(26,new D(3,44),new D(11,45)),new R(26,new D(17,21),new D(4,22)),new R(26,new D(9,13),new D(16,14))),new J(20,Int32Array.from([6,34,62,90]),new R(28,new D(3,107),new D(5,108)),new R(26,new D(3,41),new D(13,42)),new R(30,new D(15,24),new D(5,25)),new R(28,new D(15,15),new D(10,16))),new J(21,Int32Array.from([6,28,50,72,94]),new R(28,new D(4,116),new D(4,117)),new R(26,new D(17,42)),new R(28,new D(17,22),new D(6,23)),new R(30,new D(19,16),new D(6,17))),new J(22,Int32Array.from([6,26,50,74,98]),new R(28,new D(2,111),new D(7,112)),new R(28,new D(17,46)),new R(30,new D(7,24),new D(16,25)),new R(24,new D(34,13))),new J(23,Int32Array.from([6,30,54,78,102]),new R(30,new D(4,121),new D(5,122)),new R(28,new D(4,47),new D(14,48)),new R(30,new D(11,24),new D(14,25)),new R(30,new D(16,15),new D(14,16))),new J(24,Int32Array.from([6,28,54,80,106]),new R(30,new D(6,117),new D(4,118)),new R(28,new D(6,45),new D(14,46)),new R(30,new D(11,24),new D(16,25)),new R(30,new D(30,16),new D(2,17))),new J(25,Int32Array.from([6,32,58,84,110]),new R(26,new D(8,106),new D(4,107)),new R(28,new D(8,47),new D(13,48)),new R(30,new D(7,24),new D(22,25)),new R(30,new D(22,15),new D(13,16))),new J(26,Int32Array.from([6,30,58,86,114]),new R(28,new D(10,114),new D(2,115)),new R(28,new D(19,46),new D(4,47)),new R(28,new D(28,22),new D(6,23)),new R(30,new D(33,16),new D(4,17))),new J(27,Int32Array.from([6,34,62,90,118]),new R(30,new D(8,122),new D(4,123)),new R(28,new D(22,45),new D(3,46)),new R(30,new D(8,23),new D(26,24)),new R(30,new D(12,15),new D(28,16))),new J(28,Int32Array.from([6,26,50,74,98,122]),new R(30,new D(3,117),new D(10,118)),new R(28,new D(3,45),new D(23,46)),new R(30,new D(4,24),new D(31,25)),new R(30,new D(11,15),new D(31,16))),new J(29,Int32Array.from([6,30,54,78,102,126]),new R(30,new D(7,116),new D(7,117)),new R(28,new D(21,45),new D(7,46)),new R(30,new D(1,23),new D(37,24)),new R(30,new D(19,15),new D(26,16))),new J(30,Int32Array.from([6,26,52,78,104,130]),new R(30,new D(5,115),new D(10,116)),new R(28,new D(19,47),new D(10,48)),new R(30,new D(15,24),new D(25,25)),new R(30,new D(23,15),new D(25,16))),new J(31,Int32Array.from([6,30,56,82,108,134]),new R(30,new D(13,115),new D(3,116)),new R(28,new D(2,46),new D(29,47)),new R(30,new D(42,24),new D(1,25)),new R(30,new D(23,15),new D(28,16))),new J(32,Int32Array.from([6,34,60,86,112,138]),new R(30,new D(17,115)),new R(28,new D(10,46),new D(23,47)),new R(30,new D(10,24),new D(35,25)),new R(30,new D(19,15),new D(35,16))),new J(33,Int32Array.from([6,30,58,86,114,142]),new R(30,new D(17,115),new D(1,116)),new R(28,new D(14,46),new D(21,47)),new R(30,new D(29,24),new D(19,25)),new R(30,new D(11,15),new D(46,16))),new J(34,Int32Array.from([6,34,62,90,118,146]),new R(30,new D(13,115),new D(6,116)),new R(28,new D(14,46),new D(23,47)),new R(30,new D(44,24),new D(7,25)),new R(30,new D(59,16),new D(1,17))),new J(35,Int32Array.from([6,30,54,78,102,126,150]),new R(30,new D(12,121),new D(7,122)),new R(28,new D(12,47),new D(26,48)),new R(30,new D(39,24),new D(14,25)),new R(30,new D(22,15),new D(41,16))),new J(36,Int32Array.from([6,24,50,76,102,128,154]),new R(30,new D(6,121),new D(14,122)),new R(28,new D(6,47),new D(34,48)),new R(30,new D(46,24),new D(10,25)),new R(30,new D(2,15),new D(64,16))),new J(37,Int32Array.from([6,28,54,80,106,132,158]),new R(30,new D(17,122),new D(4,123)),new R(28,new D(29,46),new D(14,47)),new R(30,new D(49,24),new D(10,25)),new R(30,new D(24,15),new D(46,16))),new J(38,Int32Array.from([6,32,58,84,110,136,162]),new R(30,new D(4,122),new D(18,123)),new R(28,new D(13,46),new D(32,47)),new R(30,new D(48,24),new D(14,25)),new R(30,new D(42,15),new D(32,16))),new J(39,Int32Array.from([6,26,54,82,110,138,166]),new R(30,new D(20,117),new D(4,118)),new R(28,new D(40,47),new D(7,48)),new R(30,new D(43,24),new D(22,25)),new R(30,new D(10,15),new D(67,16))),new J(40,Int32Array.from([6,30,58,86,114,142,170]),new R(30,new D(19,118),new D(6,119)),new R(28,new D(18,47),new D(31,48)),new R(30,new D(34,24),new D(34,25)),new R(30,new D(20,15),new D(61,16)))];var wt=function(w){return w[w.DATA_MASK_000=0]="DATA_MASK_000",w[w.DATA_MASK_001=1]="DATA_MASK_001",w[w.DATA_MASK_010=2]="DATA_MASK_010",w[w.DATA_MASK_011=3]="DATA_MASK_011",w[w.DATA_MASK_100=4]="DATA_MASK_100",w[w.DATA_MASK_101=5]="DATA_MASK_101",w[w.DATA_MASK_110=6]="DATA_MASK_110",w[w.DATA_MASK_111=7]="DATA_MASK_111",w}(wt||{});class Jt{constructor(i,o){this.value=i,this.isMasked=o}unmaskBitMatrix(i,o){for(let s=0;s<o;s++)for(let c=0;c<o;c++)this.isMasked(s,c)&&i.flip(c,s)}}Jt.values=new Map([[wt.DATA_MASK_000,new Jt(wt.DATA_MASK_000,(w,i)=>(w+i&1)===0)],[wt.DATA_MASK_001,new Jt(wt.DATA_MASK_001,(w,i)=>(w&1)===0)],[wt.DATA_MASK_010,new Jt(wt.DATA_MASK_010,(w,i)=>i%3===0)],[wt.DATA_MASK_011,new Jt(wt.DATA_MASK_011,(w,i)=>(w+i)%3===0)],[wt.DATA_MASK_100,new Jt(wt.DATA_MASK_100,(w,i)=>(Math.floor(w/2)+Math.floor(i/3)&1)===0)],[wt.DATA_MASK_101,new Jt(wt.DATA_MASK_101,(w,i)=>w*i%6===0)],[wt.DATA_MASK_110,new Jt(wt.DATA_MASK_110,(w,i)=>w*i%6<3)],[wt.DATA_MASK_111,new Jt(wt.DATA_MASK_111,(w,i)=>(w+i+w*i%3&1)===0)]]);class SC{constructor(i){let o=i.getHeight();if(o<21||(o&3)!==1)throw new B;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let u=0;u<6;u++)i=this.copyBit(u,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let u=5;u>=0;u--)i=this.copyBit(8,u,i);let o=this.bitMatrix.getHeight(),s=0,c=o-7;for(let u=o-1;u>=c;u--)s=this.copyBit(8,u,s);for(let u=o-8;u<o;u++)s=this.copyBit(u,8,s);if(this.parsedFormatInfo=Tt.decodeFormatInformation(i,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new B}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;let i=this.bitMatrix.getHeight(),o=Math.floor((i-17)/4);if(o<=6)return J.getVersionForNumber(o);let s=0,c=i-11;for(let d=5;d>=0;d--)for(let f=i-9;f>=c;f--)s=this.copyBit(f,d,s);let u=J.decodeVersionInformation(s);if(u!==null&&u.getDimensionForVersion()===i)return this.parsedVersion=u,u;s=0;for(let d=5;d>=0;d--)for(let f=i-9;f>=c;f--)s=this.copyBit(d,f,s);if(u=J.decodeVersionInformation(s),u!==null&&u.getDimensionForVersion()===i)return this.parsedVersion=u,u;throw new B}copyBit(i,o,s){return(this.isMirror?this.bitMatrix.get(o,i):this.bitMatrix.get(i,o))?s<<1|1:s<<1}readCodewords(){let i=this.readFormatInformation(),o=this.readVersion(),s=Jt.values.get(i.getDataMask()),c=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,c);let u=o.buildFunctionPattern(),d=!0,f=new Uint8Array(o.getTotalCodewords()),p=0,m=0,x=0;for(let v=c-1;v>0;v-=2){v===6&&v--;for(let I=0;I<c;I++){let A=d?c-1-I:I;for(let S=0;S<2;S++)u.get(v-S,A)||(x++,m<<=1,this.bitMatrix.get(v-S,A)&&(m|=1),x===8&&(f[p++]=m,x=0,m=0))}d=!d}if(p!==o.getTotalCodewords())throw new B;return f}remask(){if(this.parsedFormatInfo===null)return;let i=Jt.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){let i=this.bitMatrix;for(let o=0,s=i.getWidth();o<s;o++)for(let c=o+1,u=i.getHeight();c<u;c++)i.get(o,c)!==i.get(c,o)&&(i.flip(c,o),i.flip(o,c))}}class zl{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o,s){if(i.length!==o.getTotalCodewords())throw new y;let c=o.getECBlocksForLevel(s),u=0,d=c.getECBlocks();for(let S of d)u+=S.getCount();let f=new Array(u),p=0;for(let S of d)for(let T=0;T<S.getCount();T++){let _=S.getDataCodewords(),O=c.getECCodewordsPerBlock()+_;f[p++]=new zl(_,new Uint8Array(O))}let m=f[0].codewords.length,x=f.length-1;for(;x>=0&&f[x].codewords.length!==m;)x--;x++;let v=m-c.getECCodewordsPerBlock(),I=0;for(let S=0;S<v;S++)for(let T=0;T<p;T++)f[T].codewords[S]=i[I++];for(let S=x;S<p;S++)f[S].codewords[v]=i[I++];let A=f[0].codewords.length;for(let S=v;S<A;S++)for(let T=0;T<p;T++){let _=T<x?S:S+1;f[T].codewords[_]=i[I++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var yn=function(w){return w[w.TERMINATOR=0]="TERMINATOR",w[w.NUMERIC=1]="NUMERIC",w[w.ALPHANUMERIC=2]="ALPHANUMERIC",w[w.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",w[w.BYTE=4]="BYTE",w[w.ECI=5]="ECI",w[w.KANJI=6]="KANJI",w[w.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",w[w.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",w[w.HANZI=9]="HANZI",w}(yn||{});class te{constructor(i,o,s,c){this.value=i,this.stringValue=o,this.characterCountBitsForVersions=s,this.bits=c,te.FOR_BITS.set(c,this),te.FOR_VALUE.set(i,this)}static forBits(i){let o=te.FOR_BITS.get(i);if(o===void 0)throw new y;return o}getCharacterCountBits(i){let o=i.getVersionNumber(),s;return o<=9?s=0:o<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof te))return!1;let o=i;return this.value===o.value}toString(){return this.stringValue}}te.FOR_BITS=new Map,te.FOR_VALUE=new Map,te.TERMINATOR=new te(yn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),te.NUMERIC=new te(yn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),te.ALPHANUMERIC=new te(yn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),te.STRUCTURED_APPEND=new te(yn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),te.BYTE=new te(yn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),te.ECI=new te(yn.ECI,"ECI",Int32Array.from([0,0,0]),7),te.KANJI=new te(yn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),te.FNC1_FIRST_POSITION=new te(yn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),te.FNC1_SECOND_POSITION=new te(yn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),te.HANZI=new te(yn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);let ip=(()=>{class w{static decode(o,s,c,u){let d=new Hl(o),f=new He,p=new Array,m=-1,x=-1;try{let v=null,I=!1,A;do{if(d.available()<4)A=te.TERMINATOR;else{let S=d.readBits(4);A=te.forBits(S)}switch(A){case te.TERMINATOR:break;case te.FNC1_FIRST_POSITION:case te.FNC1_SECOND_POSITION:I=!0;break;case te.STRUCTURED_APPEND:if(d.available()<16)throw new B;m=d.readBits(8),x=d.readBits(8);break;case te.ECI:let S=w.parseECIValue(d);if(v=V.getCharacterSetECIByValue(S),v===null)throw new B;break;case te.HANZI:let T=d.readBits(4),_=d.readBits(A.getCharacterCountBits(s));T===w.GB2312_SUBSET&&w.decodeHanziSegment(d,f,_);break;default:let O=d.readBits(A.getCharacterCountBits(s));switch(A){case te.NUMERIC:w.decodeNumericSegment(d,f,O);break;case te.ALPHANUMERIC:w.decodeAlphanumericSegment(d,f,O,I);break;case te.BYTE:w.decodeByteSegment(d,f,O,v,p,u);break;case te.KANJI:w.decodeKanjiSegment(d,f,O);break;default:throw new B}break}}while(A!==te.TERMINATOR)}catch{throw new B}return new No(o,f.toString(),p.length===0?null:p,c===null?null:c.toString(),m,x)}static decodeHanziSegment(o,s,c){if(c*13>o.available())throw new B;let u=new Uint8Array(2*c),d=0;for(;c>0;){let f=o.readBits(13),p=f/96<<8&4294967295|f%96;p<959?p+=41377:p+=42657,u[d]=p>>8&255,u[d+1]=p&255,d+=2,c--}try{s.append(bt.decode(u,ce.GB2312))}catch(f){throw new B(f)}}static decodeKanjiSegment(o,s,c){if(c*13>o.available())throw new B;let u=new Uint8Array(2*c),d=0;for(;c>0;){let f=o.readBits(13),p=f/192<<8&4294967295|f%192;p<7936?p+=33088:p+=49472,u[d]=p>>8,u[d+1]=p,d+=2,c--}try{s.append(bt.decode(u,ce.SHIFT_JIS))}catch(f){throw new B(f)}}static decodeByteSegment(o,s,c,u,d,f){if(8*c>o.available())throw new B;let p=new Uint8Array(c);for(let x=0;x<c;x++)p[x]=o.readBits(8);let m;u===null?m=ce.guessEncoding(p,f):m=u.getName();try{s.append(bt.decode(p,m))}catch(x){throw new B(x)}d.push(p)}static toAlphaNumericChar(o){if(o>=w.ALPHANUMERIC_CHARS.length)throw new B;return w.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,s,c,u){let d=s.length();for(;c>1;){if(o.available()<11)throw new B;let f=o.readBits(11);s.append(w.toAlphaNumericChar(Math.floor(f/45))),s.append(w.toAlphaNumericChar(f%45)),c-=2}if(c===1){if(o.available()<6)throw new B;s.append(w.toAlphaNumericChar(o.readBits(6)))}if(u)for(let f=d;f<s.length();f++)s.charAt(f)==="%"&&(f<s.length()-1&&s.charAt(f+1)==="%"?s.deleteCharAt(f+1):s.setCharAt(f,""))}static decodeNumericSegment(o,s,c){for(;c>=3;){if(o.available()<10)throw new B;let u=o.readBits(10);if(u>=1e3)throw new B;s.append(w.toAlphaNumericChar(Math.floor(u/100))),s.append(w.toAlphaNumericChar(Math.floor(u/10)%10)),s.append(w.toAlphaNumericChar(u%10)),c-=3}if(c===2){if(o.available()<7)throw new B;let u=o.readBits(7);if(u>=100)throw new B;s.append(w.toAlphaNumericChar(Math.floor(u/10))),s.append(w.toAlphaNumericChar(u%10))}else if(c===1){if(o.available()<4)throw new B;let u=o.readBits(4);if(u>=10)throw new B;s.append(w.toAlphaNumericChar(u))}}static parseECIValue(o){let s=o.readBits(8);if(!(s&128))return s&127;if((s&192)===128){let c=o.readBits(8);return(s&63)<<8&4294967295|c}if((s&224)===192){let c=o.readBits(16);return(s&31)<<16&4294967295|c}throw new B}}return w.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",w.GB2312_SUBSET=1,w})();class op{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;let o=i[0];i[0]=i[2],i[2]=o}}class TC{constructor(){this.rsDecoder=new Lo(Re.QR_CODE_FIELD_256)}decodeBooleanArray(i,o){return this.decodeBitMatrix(ht.parseFromBooleanArray(i),o)}decodeBitMatrix(i,o){let s=new SC(i),c=null;try{return this.decodeBitMatrixParser(s,o)}catch(u){c=u}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();let u=this.decodeBitMatrixParser(s,o);return u.setOther(new op(!0)),u}catch(u){throw c!==null?c:u}}decodeBitMatrixParser(i,o){let s=i.readVersion(),c=i.readFormatInformation().getErrorCorrectionLevel(),u=i.readCodewords(),d=zl.getDataBlocks(u,s,c),f=0;for(let x of d)f+=x.getNumDataCodewords();let p=new Uint8Array(f),m=0;for(let x of d){let v=x.getCodewords(),I=x.getNumDataCodewords();this.correctErrors(v,I);for(let A=0;A<I;A++)p[m++]=v[A]}return ip.decode(p,s,c,o)}correctErrors(i,o){let s=new Int32Array(i);try{this.rsDecoder.decode(s,i.length-o)}catch{throw new b}for(let c=0;c<o;c++)i[c]=s[c]}}class Gl extends Q{constructor(i,o,s){super(i,o),this.estimatedModuleSize=s}aboutEquals(i,o,s){if(Math.abs(o-this.getY())<=i&&Math.abs(s-this.getX())<=i){let c=Math.abs(i-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(i,o,s){let c=(this.getX()+o)/2,u=(this.getY()+i)/2,d=(this.estimatedModuleSize+s)/2;return new Gl(c,u,d)}}class oa{constructor(i,o,s,c,u,d,f){this.image=i,this.startX=o,this.startY=s,this.width=c,this.height=u,this.moduleSize=d,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){let i=this.startX,o=this.height,s=this.width,c=i+s,u=this.startY+o/2,d=new Int32Array(3),f=this.image;for(let p=0;p<o;p++){let m=u+(p&1?-Math.floor((p+1)/2):Math.floor((p+1)/2));d[0]=0,d[1]=0,d[2]=0;let x=i;for(;x<c&&!f.get(x,m);)x++;let v=0;for(;x<c;){if(f.get(x,m))if(v===1)d[1]++;else if(v===2){if(this.foundPatternCross(d)){let I=this.handlePossibleCenter(d,m,x);if(I!==null)return I}d[0]=d[2],d[1]=1,d[2]=0,v=1}else d[++v]++;else v===1&&v++,d[v]++;x++}if(this.foundPatternCross(d)){let I=this.handlePossibleCenter(d,m,c);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new P}static centerFromEnd(i,o){return o-i[2]-i[1]/2}foundPatternCross(i){let o=this.moduleSize,s=o/2;for(let c=0;c<3;c++)if(Math.abs(o-i[c])>=s)return!1;return!0}crossCheckVertical(i,o,s,c){let u=this.image,d=u.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let p=i;for(;p>=0&&u.get(o,p)&&f[1]<=s;)f[1]++,p--;if(p<0||f[1]>s)return NaN;for(;p>=0&&!u.get(o,p)&&f[0]<=s;)f[0]++,p--;if(f[0]>s)return NaN;for(p=i+1;p<d&&u.get(o,p)&&f[1]<=s;)f[1]++,p++;if(p===d||f[1]>s)return NaN;for(;p<d&&!u.get(o,p)&&f[2]<=s;)f[2]++,p++;if(f[2]>s)return NaN;let m=f[0]+f[1]+f[2];return 5*Math.abs(m-c)>=2*c?NaN:this.foundPatternCross(f)?oa.centerFromEnd(f,p):NaN}handlePossibleCenter(i,o,s){let c=i[0]+i[1]+i[2],u=oa.centerFromEnd(i,s),d=this.crossCheckVertical(o,u,2*i[1],c);if(!isNaN(d)){let f=(i[0]+i[1]+i[2])/3;for(let m of this.possibleCenters)if(m.aboutEquals(f,d,u))return m.combineEstimate(d,u,f);let p=new Gl(u,d,f);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null}}class Wl extends Q{constructor(i,o,s,c){super(i,o),this.estimatedModuleSize=s,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,o,s){if(Math.abs(o-this.getY())<=i&&Math.abs(s-this.getX())<=i){let c=Math.abs(i-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(i,o,s){let c=this.count+1,u=(this.count*this.getX()+o)/c,d=(this.count*this.getY()+i)/c,f=(this.count*this.estimatedModuleSize+s)/c;return new Wl(u,d,f,c)}}class MC{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}let _C=(()=>{class w{constructor(o,s){this.image=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){let s=o!=null&&o.get(oe.TRY_HARDER)!==void 0,c=o!=null&&o.get(oe.PURE_BARCODE)!==void 0,u=this.image,d=u.getHeight(),f=u.getWidth(),p=Math.floor(3*d/(4*w.MAX_MODULES));(p<w.MIN_SKIP||s)&&(p=w.MIN_SKIP);let m=!1,x=new Int32Array(5);for(let I=p-1;I<d&&!m;I+=p){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let A=0;for(let S=0;S<f;S++)if(u.get(S,I))(A&1)===1&&A++,x[A]++;else if(A&1)x[A]++;else if(A===4)if(w.foundPatternCross(x)){if(this.handlePossibleCenter(x,I,S,c)===!0)if(p=2,this.hasSkipped===!0)m=this.haveMultiplyConfirmedCenters();else{let _=this.findRowSkip();_>x[2]&&(I+=_-x[2]-p,S=f-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,A=3;continue}A=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,A=3;else x[++A]++;w.foundPatternCross(x)&&this.handlePossibleCenter(x,I,f,c)===!0&&(p=x[0],this.hasSkipped&&(m=this.haveMultiplyConfirmedCenters()))}let v=this.selectBestPatterns();return Q.orderBestPatterns(v),new MC(v)}static centerFromEnd(o,s){return s-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let s=0;for(let d=0;d<5;d++){let f=o[d];if(f===0)return!1;s+=f}if(s<7)return!1;let c=s/7,u=c/2;return Math.abs(c-o[0])<u&&Math.abs(c-o[1])<u&&Math.abs(3*c-o[2])<3*u&&Math.abs(c-o[3])<u&&Math.abs(c-o[4])<u}getCrossCheckStateCount(){let o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,s,c,u){let d=this.getCrossCheckStateCount(),f=0,p=this.image;for(;o>=f&&s>=f&&p.get(s-f,o-f);)d[2]++,f++;if(o<f||s<f)return!1;for(;o>=f&&s>=f&&!p.get(s-f,o-f)&&d[1]<=c;)d[1]++,f++;if(o<f||s<f||d[1]>c)return!1;for(;o>=f&&s>=f&&p.get(s-f,o-f)&&d[0]<=c;)d[0]++,f++;if(d[0]>c)return!1;let m=p.getHeight(),x=p.getWidth();for(f=1;o+f<m&&s+f<x&&p.get(s+f,o+f);)d[2]++,f++;if(o+f>=m||s+f>=x)return!1;for(;o+f<m&&s+f<x&&!p.get(s+f,o+f)&&d[3]<c;)d[3]++,f++;if(o+f>=m||s+f>=x||d[3]>=c)return!1;for(;o+f<m&&s+f<x&&p.get(s+f,o+f)&&d[4]<c;)d[4]++,f++;if(d[4]>=c)return!1;let v=d[0]+d[1]+d[2]+d[3]+d[4];return Math.abs(v-u)<2*u&&w.foundPatternCross(d)}crossCheckVertical(o,s,c,u){let d=this.image,f=d.getHeight(),p=this.getCrossCheckStateCount(),m=o;for(;m>=0&&d.get(s,m);)p[2]++,m--;if(m<0)return NaN;for(;m>=0&&!d.get(s,m)&&p[1]<=c;)p[1]++,m--;if(m<0||p[1]>c)return NaN;for(;m>=0&&d.get(s,m)&&p[0]<=c;)p[0]++,m--;if(p[0]>c)return NaN;for(m=o+1;m<f&&d.get(s,m);)p[2]++,m++;if(m===f)return NaN;for(;m<f&&!d.get(s,m)&&p[3]<c;)p[3]++,m++;if(m===f||p[3]>=c)return NaN;for(;m<f&&d.get(s,m)&&p[4]<c;)p[4]++,m++;if(p[4]>=c)return NaN;let x=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(x-u)>=2*u?NaN:w.foundPatternCross(p)?w.centerFromEnd(p,m):NaN}crossCheckHorizontal(o,s,c,u){let d=this.image,f=d.getWidth(),p=this.getCrossCheckStateCount(),m=o;for(;m>=0&&d.get(m,s);)p[2]++,m--;if(m<0)return NaN;for(;m>=0&&!d.get(m,s)&&p[1]<=c;)p[1]++,m--;if(m<0||p[1]>c)return NaN;for(;m>=0&&d.get(m,s)&&p[0]<=c;)p[0]++,m--;if(p[0]>c)return NaN;for(m=o+1;m<f&&d.get(m,s);)p[2]++,m++;if(m===f)return NaN;for(;m<f&&!d.get(m,s)&&p[3]<c;)p[3]++,m++;if(m===f||p[3]>=c)return NaN;for(;m<f&&d.get(m,s)&&p[4]<c;)p[4]++,m++;if(p[4]>=c)return NaN;let x=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(x-u)>=u?NaN:w.foundPatternCross(p)?w.centerFromEnd(p,m):NaN}handlePossibleCenter(o,s,c,u){let d=o[0]+o[1]+o[2]+o[3]+o[4],f=w.centerFromEnd(o,c),p=this.crossCheckVertical(s,Math.floor(f),o[2],d);if(!isNaN(p)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(p),o[2],d),!isNaN(f)&&(!u||this.crossCheckDiagonal(Math.floor(p),Math.floor(f),o[2],d)))){let m=d/7,x=!1,v=this.possibleCenters;for(let I=0,A=v.length;I<A;I++){let S=v[I];if(S.aboutEquals(m,p,f)){v[I]=S.combineEstimate(p,f,m),x=!0;break}}if(!x){let I=new Wl(f,p,m);v.push(I),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(I)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(let c of this.possibleCenters)if(c.getCount()>=w.CENTER_QUORUM)if(s==null)s=c;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-c.getX())-Math.abs(s.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,s=0,c=this.possibleCenters.length;for(let f of this.possibleCenters)f.getCount()>=w.CENTER_QUORUM&&(o++,s+=f.getEstimatedModuleSize());if(o<3)return!1;let u=s/c,d=0;for(let f of this.possibleCenters)d+=Math.abs(f.getEstimatedModuleSize()-u);return d<=.05*s}selectBestPatterns(){let o=this.possibleCenters.length;if(o<3)throw new P;let s=this.possibleCenters,c;if(o>3){let u=0,d=0;for(let m of this.possibleCenters){let x=m.getEstimatedModuleSize();u+=x,d+=x*x}c=u/o;let f=Math.sqrt(d/o-c*c);s.sort((m,x)=>{let v=Math.abs(x.getEstimatedModuleSize()-c),I=Math.abs(m.getEstimatedModuleSize()-c);return v<I?-1:v>I?1:0});let p=Math.max(.2*c,f);for(let m=0;m<s.length&&s.length>3;m++){let x=s[m];Math.abs(x.getEstimatedModuleSize()-c)>p&&(s.splice(m,1),m--)}}if(s.length>3){let u=0;for(let d of s)u+=d.getEstimatedModuleSize();c=u/s.length,s.sort((d,f)=>{if(f.getCount()===d.getCount()){let p=Math.abs(f.getEstimatedModuleSize()-c),m=Math.abs(d.getEstimatedModuleSize()-c);return p<m?1:p>m?-1:0}else return f.getCount()-d.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}return w.CENTER_QUORUM=2,w.MIN_SKIP=3,w.MAX_MODULES=57,w})();class ko{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(oe.NEED_RESULT_POINT_CALLBACK);let s=new _C(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(s)}processFinderPatternInfo(i){let o=i.getTopLeft(),s=i.getTopRight(),c=i.getBottomLeft(),u=this.calculateModuleSize(o,s,c);if(u<1)throw new P("No pattern found in proccess finder.");let d=ko.computeDimension(o,s,c,u),f=J.getProvisionalVersionForDimension(d),p=f.getDimensionForVersion()-7,m=null;if(f.getAlignmentPatternCenters().length>0){let A=s.getX()-o.getX()+c.getX(),S=s.getY()-o.getY()+c.getY(),T=1-3/p,_=Math.floor(o.getX()+T*(A-o.getX())),O=Math.floor(o.getY()+T*(S-o.getY()));for(let j=4;j<=16;j<<=1)try{m=this.findAlignmentInRegion(u,_,O,j);break}catch(G){if(!(G instanceof P))throw G}}let x=ko.createTransform(o,s,c,m,d),v=ko.sampleGrid(this.image,x,d),I;return m===null?I=[c,o,s]:I=[c,o,s,m],new Ks(v,I)}static createTransform(i,o,s,c,u){let d=u-3.5,f,p,m,x;return c!==null?(f=c.getX(),p=c.getY(),m=d-3,x=m):(f=o.getX()-i.getX()+s.getX(),p=o.getY()-i.getY()+s.getY(),m=d,x=d),hn.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,m,x,3.5,d,i.getX(),i.getY(),o.getX(),o.getY(),f,p,s.getX(),s.getY())}static sampleGrid(i,o,s){return sr.getInstance().sampleGridWithTransform(i,s,s,o)}static computeDimension(i,o,s,c){let u=Me.round(Q.distance(i,o)/c),d=Me.round(Q.distance(i,s)/c),f=Math.floor((u+d)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new P("Dimensions could be not found.")}return f}calculateModuleSize(i,o,s){return(this.calculateModuleSizeOneWay(i,o)+this.calculateModuleSizeOneWay(i,s))/2}calculateModuleSizeOneWay(i,o){let s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(o.getX()),Math.floor(o.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(s)?c/7:isNaN(c)?s/7:(s+c)/14}sizeOfBlackWhiteBlackRunBothWays(i,o,s,c){let u=this.sizeOfBlackWhiteBlackRun(i,o,s,c),d=1,f=i-(s-i);f<0?(d=i/(i-f),f=0):f>=this.image.getWidth()&&(d=(this.image.getWidth()-1-i)/(f-i),f=this.image.getWidth()-1);let p=Math.floor(o-(c-o)*d);return d=1,p<0?(d=o/(o-p),p=0):p>=this.image.getHeight()&&(d=(this.image.getHeight()-1-o)/(p-o),p=this.image.getHeight()-1),f=Math.floor(i+(f-i)*d),u+=this.sizeOfBlackWhiteBlackRun(i,o,f,p),u-1}sizeOfBlackWhiteBlackRun(i,o,s,c){let u=Math.abs(c-o)>Math.abs(s-i);if(u){let A=i;i=o,o=A,A=s,s=c,c=A}let d=Math.abs(s-i),f=Math.abs(c-o),p=-d/2,m=i<s?1:-1,x=o<c?1:-1,v=0,I=s+m;for(let A=i,S=o;A!==I;A+=m){let T=u?S:A,_=u?A:S;if(v===1===this.image.get(T,_)){if(v===2)return Me.distance(A,S,i,o);v++}if(p+=f,p>0){if(S===c)break;S+=x,p-=d}}return v===2?Me.distance(s+m,c,i,o):NaN}findAlignmentInRegion(i,o,s,c){let u=Math.floor(c*i),d=Math.max(0,o-u),f=Math.min(this.image.getWidth()-1,o+u);if(f-d<i*3)throw new P("Alignment top exceeds estimated module size.");let p=Math.max(0,s-u),m=Math.min(this.image.getHeight()-1,s+u);if(m-p<i*3)throw new P("Alignment bottom exceeds estimated module size.");return new oa(this.image,d,p,f-d,m-p,i,this.resultPointCallback).find()}}class ur{constructor(){this.decoder=new TC}getDecoder(){return this.decoder}decode(i,o){let s,c;if(o!=null&&o.get(oe.PURE_BARCODE)!==void 0){let p=ur.extractPureBits(i.getBlackMatrix());s=this.decoder.decodeBitMatrix(p,o),c=ur.NO_POINTS}else{let p=new ko(i.getBlackMatrix()).detect(o);s=this.decoder.decodeBitMatrix(p.getBits(),o),c=p.getPoints()}s.getOther()instanceof op&&s.getOther().applyMirroredCorrection(c);let u=new Nt(s.getText(),s.getRawBytes(),void 0,c,ne.QR_CODE,void 0),d=s.getByteSegments();d!==null&&u.putMetadata(gt.BYTE_SEGMENTS,d);let f=s.getECLevel();return f!==null&&u.putMetadata(gt.ERROR_CORRECTION_LEVEL,f),s.hasStructuredAppend()&&(u.putMetadata(gt.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),u.putMetadata(gt.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),u}reset(){}static extractPureBits(i){let o=i.getTopLeftOnBit(),s=i.getBottomRightOnBit();if(o===null||s===null)throw new P;let c=this.moduleSize(o,i),u=o[1],d=s[1],f=o[0],p=s[0];if(f>=p||u>=d)throw new P;if(d-u!==p-f&&(p=f+(d-u),p>=i.getWidth()))throw new P;let m=Math.round((p-f+1)/c),x=Math.round((d-u+1)/c);if(m<=0||x<=0)throw new P;if(x!==m)throw new P;let v=Math.floor(c/2);u+=v,f+=v;let I=f+Math.floor((m-1)*c)-p;if(I>0){if(I>v)throw new P;f-=I}let A=u+Math.floor((x-1)*c)-d;if(A>0){if(A>v)throw new P;u-=A}let S=new ht(m,x);for(let T=0;T<x;T++){let _=u+Math.floor(T*c);for(let O=0;O<m;O++)i.get(f+Math.floor(O*c),_)&&S.set(O,T)}return S}static moduleSize(i,o){let s=o.getHeight(),c=o.getWidth(),u=i[0],d=i[1],f=!0,p=0;for(;u<c&&d<s;){if(f!==o.get(u,d)){if(++p===5)break;f=!f}u++,d++}if(u===c||d===s)throw new P;return(u-i[0])/7}}ur.NO_POINTS=new Array;class se{PDF417Common(){}static getBitCountSum(i){return Me.sum(i)}static toIntArray(i){if(i==null||!i.length)return se.EMPTY_INT_ARRAY;let o=new Int32Array(i.length),s=0;for(let c of i)o[s++]=c;return o}static getCodeword(i){let o=W.binarySearch(se.SYMBOL_TABLE,i&262143);return o<0?-1:(se.CODEWORD_TABLE[o]-1)%se.NUMBER_OF_CODEWORDS}}se.NUMBER_OF_CODEWORDS=929,se.MAX_CODEWORDS_IN_BARCODE=se.NUMBER_OF_CODEWORDS-1,se.MIN_ROWS_IN_BARCODE=3,se.MAX_ROWS_IN_BARCODE=90,se.MODULES_IN_CODEWORD=17,se.MODULES_IN_STOP_PATTERN=18,se.BARS_IN_MODULE=8,se.EMPTY_INT_ARRAY=new Int32Array([]),se.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),se.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class NC{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class me{static detectMultiple(i,o,s){let c=i.getBlackMatrix(),u=me.detect(s,c);return u.length||(c=c.clone(),c.rotate180(),u=me.detect(s,c)),new NC(c,u)}static detect(i,o){let s=new Array,c=0,u=0,d=!1;for(;c<o.getHeight();){let f=me.findVertices(o,c,u);if(f[0]==null&&f[3]==null){if(!d)break;d=!1,u=0;for(let p of s)p[1]!=null&&(c=Math.trunc(Math.max(c,p[1].getY()))),p[3]!=null&&(c=Math.max(c,Math.trunc(p[3].getY())));c+=me.ROW_STEP;continue}if(d=!0,s.push(f),!i)break;f[2]!=null?(u=Math.trunc(f[2].getX()),c=Math.trunc(f[2].getY())):(u=Math.trunc(f[4].getX()),c=Math.trunc(f[4].getY()))}return s}static findVertices(i,o,s){let c=i.getHeight(),u=i.getWidth(),d=new Array(8);return me.copyToResult(d,me.findRowsWithPattern(i,c,u,o,s,me.START_PATTERN),me.INDEXES_START_PATTERN),d[4]!=null&&(s=Math.trunc(d[4].getX()),o=Math.trunc(d[4].getY())),me.copyToResult(d,me.findRowsWithPattern(i,c,u,o,s,me.STOP_PATTERN),me.INDEXES_STOP_PATTERN),d}static copyToResult(i,o,s){for(let c=0;c<s.length;c++)i[s[c]]=o[c]}static findRowsWithPattern(i,o,s,c,u,d){let f=new Array(4),p=!1,m=new Int32Array(d.length);for(;c<o;c+=me.ROW_STEP){let v=me.findGuardPattern(i,u,c,s,!1,d,m);if(v!=null){for(;c>0;){let I=me.findGuardPattern(i,u,--c,s,!1,d,m);if(I!=null)v=I;else{c++;break}}f[0]=new Q(v[0],c),f[1]=new Q(v[1],c),p=!0;break}}let x=c+1;if(p){let v=0,I=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;x<o;x++){let A=me.findGuardPattern(i,I[0],x,s,!1,d,m);if(A!=null&&Math.abs(I[0]-A[0])<me.MAX_PATTERN_DRIFT&&Math.abs(I[1]-A[1])<me.MAX_PATTERN_DRIFT)I=A,v=0;else{if(v>me.SKIPPED_ROW_COUNT_MAX)break;v++}}x-=v+1,f[2]=new Q(I[0],x),f[3]=new Q(I[1],x)}return x-c<me.BARCODE_MIN_HEIGHT&&W.fill(f,null),f}static findGuardPattern(i,o,s,c,u,d,f){W.fillWithin(f,0,f.length,0);let p=o,m=0;for(;i.get(p,s)&&p>0&&m++<me.MAX_PIXEL_DRIFT;)p--;let x=p,v=0,I=d.length;for(let A=u;x<c;x++)if(i.get(x,s)!==A)f[v]++;else{if(v===I-1){if(me.patternMatchVariance(f,d,me.MAX_INDIVIDUAL_VARIANCE)<me.MAX_AVG_VARIANCE)return new Int32Array([p,x]);p+=f[0]+f[1],M.arraycopy(f,2,f,0,v-1),f[v-1]=0,f[v]=0,v--}else v++;f[v]=1,A=!A}return v===I-1&&me.patternMatchVariance(f,d,me.MAX_INDIVIDUAL_VARIANCE)<me.MAX_AVG_VARIANCE?new Int32Array([p,x-1]):null}static patternMatchVariance(i,o,s){let c=i.length,u=0,d=0;for(let m=0;m<c;m++)u+=i[m],d+=o[m];if(u<d)return 1/0;let f=u/d;s*=f;let p=0;for(let m=0;m<c;m++){let x=i[m],v=o[m]*f,I=x>v?x-v:v-x;if(I>s)return 1/0;p+=I}return p/u}}me.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),me.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),me.MAX_AVG_VARIANCE=.42,me.MAX_INDIVIDUAL_VARIANCE=.8,me.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),me.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),me.MAX_PIXEL_DRIFT=3,me.MAX_PATTERN_DRIFT=5,me.SKIPPED_ROW_COUNT_MAX=25,me.ROW_STEP=5,me.BARCODE_MIN_HEIGHT=10;class Ct{constructor(i,o){if(o.length===0)throw new y;this.field=i;let s=o.length;if(s>1&&o[0]===0){let c=1;for(;c<s&&o[c]===0;)c++;c===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-c),M.arraycopy(o,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let c=0;for(let u of this.coefficients)c=this.field.add(c,u);return c}let o=this.coefficients[0],s=this.coefficients.length;for(let c=1;c<s;c++)o=this.field.add(this.field.multiply(i,o),this.coefficients[c]);return o}add(i){if(!this.field.equals(i.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,s=i.coefficients;if(o.length>s.length){let d=o;o=s,s=d}let c=new Int32Array(s.length),u=s.length-o.length;M.arraycopy(s,0,c,0,u);for(let d=u;d<s.length;d++)c[d]=this.field.add(o[d-u],s[d]);return new Ct(this.field,c)}subtract(i){if(!this.field.equals(i.field))throw new y("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof Ct?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new Ct(this.field,new Int32Array([0]));let o=this.coefficients,s=o.length,c=i.coefficients,u=c.length,d=new Int32Array(s+u-1);for(let f=0;f<s;f++){let p=o[f];for(let m=0;m<u;m++)d[f+m]=this.field.add(d[f+m],this.field.multiply(p,c[m]))}return new Ct(this.field,d)}negative(){let i=this.coefficients.length,o=new Int32Array(i);for(let s=0;s<i;s++)o[s]=this.field.subtract(0,this.coefficients[s]);return new Ct(this.field,o)}multiplyScalar(i){if(i===0)return new Ct(this.field,new Int32Array([0]));if(i===1)return this;let o=this.coefficients.length,s=new Int32Array(o);for(let c=0;c<o;c++)s[c]=this.field.multiply(this.coefficients[c],i);return new Ct(this.field,s)}multiplyByMonomial(i,o){if(i<0)throw new y;if(o===0)return new Ct(this.field,new Int32Array([0]));let s=this.coefficients.length,c=new Int32Array(s+i);for(let u=0;u<s;u++)c[u]=this.field.multiply(this.coefficients[u],o);return new Ct(this.field,c)}toString(){let i=new He;for(let o=this.getDegree();o>=0;o--){let s=this.getCoefficient(o);s!==0&&(s<0?(i.append(" - "),s=-s):i.length()>0&&i.append(" + "),(o===0||s!==1)&&i.append(s),o!==0&&(o===1?i.append("x"):(i.append("x^"),i.append(o))))}return i.toString()}}class RC{add(i,o){return(i+o)%this.modulus}subtract(i,o){return(this.modulus+i-o)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new y;return this.logTable[i]}inverse(i){if(i===0)throw new Nl;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class $l extends RC{constructor(i,o){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let s=1;for(let c=0;c<i;c++)this.expTable[c]=s,s=s*o%i;for(let c=0;c<i-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new Ct(this,new Int32Array([0])),this.one=new Ct(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new y;if(o===0)return this.zero;let s=new Int32Array(i+1);return s[0]=o,new Ct(this,s)}}$l.PDF417_GF=new $l(se.NUMBER_OF_CODEWORDS,3);class sp{constructor(){this.field=$l.PDF417_GF}decode(i,o,s){let c=new Ct(this.field,i),u=new Int32Array(o),d=!1;for(let S=o;S>0;S--){let T=c.evaluateAt(this.field.exp(S));u[o-S]=T,T!==0&&(d=!0)}if(!d)return 0;let f=this.field.getOne();if(s!=null)for(let S of s){let T=this.field.exp(i.length-1-S),_=new Ct(this.field,new Int32Array([this.field.subtract(0,T),1]));f=f.multiply(_)}let p=new Ct(this.field,u),m=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),p,o),x=m[0],v=m[1],I=this.findErrorLocations(x),A=this.findErrorMagnitudes(v,x,I);for(let S=0;S<I.length;S++){let T=i.length-1-this.field.log(I[S]);if(T<0)throw b.getChecksumInstance();i[T]=this.field.subtract(i[T],A[S])}return I.length}runEuclideanAlgorithm(i,o,s){if(i.getDegree()<o.getDegree()){let I=i;i=o,o=I}let c=i,u=o,d=this.field.getZero(),f=this.field.getOne();for(;u.getDegree()>=Math.round(s/2);){let I=c,A=d;if(c=u,d=f,c.isZero())throw b.getChecksumInstance();u=I;let S=this.field.getZero(),T=c.getCoefficient(c.getDegree()),_=this.field.inverse(T);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){let O=u.getDegree()-c.getDegree(),j=this.field.multiply(u.getCoefficient(u.getDegree()),_);S=S.add(this.field.buildMonomial(O,j)),u=u.subtract(c.multiplyByMonomial(O,j))}f=S.multiply(d).subtract(A).negative()}let p=f.getCoefficient(0);if(p===0)throw b.getChecksumInstance();let m=this.field.inverse(p),x=f.multiply(m),v=u.multiply(m);return[x,v]}findErrorLocations(i){let o=i.getDegree(),s=new Int32Array(o),c=0;for(let u=1;u<this.field.getSize()&&c<o;u++)i.evaluateAt(u)===0&&(s[c]=this.field.inverse(u),c++);if(c!==o)throw b.getChecksumInstance();return s}findErrorMagnitudes(i,o,s){let c=o.getDegree(),u=new Int32Array(c);for(let m=1;m<=c;m++)u[c-m]=this.field.multiply(m,o.getCoefficient(m));let d=new Ct(this.field,u),f=s.length,p=new Int32Array(f);for(let m=0;m<f;m++){let x=this.field.inverse(s[m]),v=this.field.subtract(0,i.evaluateAt(x)),I=this.field.inverse(d.evaluateAt(x));p[m]=this.field.multiply(v,I)}return p}}class Ur{constructor(i,o,s,c,u){i instanceof Ur?this.constructor_2(i):this.constructor_1(i,o,s,c,u)}constructor_1(i,o,s,c,u){let d=o==null||s==null,f=c==null||u==null;if(d&&f)throw new P;d?(o=new Q(0,c.getY()),s=new Q(0,u.getY())):f&&(c=new Q(i.getWidth()-1,o.getY()),u=new Q(i.getWidth()-1,s.getY())),this.image=i,this.topLeft=o,this.bottomLeft=s,this.topRight=c,this.bottomRight=u,this.minX=Math.trunc(Math.min(o.getX(),s.getX())),this.maxX=Math.trunc(Math.max(c.getX(),u.getX())),this.minY=Math.trunc(Math.min(o.getY(),c.getY())),this.maxY=Math.trunc(Math.max(s.getY(),u.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,o){return i==null?o:o==null?i:new Ur(i.image,i.topLeft,i.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(i,o,s){let c=this.topLeft,u=this.bottomLeft,d=this.topRight,f=this.bottomRight;if(i>0){let p=s?this.topLeft:this.topRight,m=Math.trunc(p.getY()-i);m<0&&(m=0);let x=new Q(p.getX(),m);s?c=x:d=x}if(o>0){let p=s?this.bottomLeft:this.bottomRight,m=Math.trunc(p.getY()+o);m>=this.image.getHeight()&&(m=this.image.getHeight()-1);let x=new Q(p.getX(),m);s?u=x:f=x}return new Ur(this.image,c,u,d,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class OC{constructor(i,o,s,c){this.columnCount=i,this.errorCorrectionLevel=c,this.rowCountUpperPart=o,this.rowCountLowerPart=s,this.rowCount=o+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Bo{constructor(){this.buffer=""}static form(i,o){let s=-1;function c(d,f,p,m,x,v){if(d==="%%")return"%";if(o[++s]===void 0)return;d=m?parseInt(m.substr(1)):void 0;let I=x?parseInt(x.substr(1)):void 0,A;switch(v){case"s":A=o[s];break;case"c":A=o[s][0];break;case"f":A=parseFloat(o[s]).toFixed(d);break;case"p":A=parseFloat(o[s]).toPrecision(d);break;case"e":A=parseFloat(o[s]).toExponential(d);break;case"x":A=parseInt(o[s]).toString(I||16);break;case"d":A=parseFloat(parseInt(o[s],I||10).toPrecision(d)).toFixed(0);break}A=typeof A=="object"?JSON.stringify(A):(+A).toString(I);let S=parseInt(p),T=p&&p[0]+""=="0"?"0":" ";for(;A.length<S;)A=f!==void 0?A+T:T+A;return A}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(u,c)}format(i,...o){this.buffer+=Bo.form(i,o)}toString(){return this.buffer}}let ap=(()=>{class w{constructor(o){this.boundingBox=new Ur(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let s=this.getCodeword(o);if(s!=null)return s;for(let c=1;c<w.MAX_NEARBY_DISTANCE;c++){let u=this.imageRowToCodewordIndex(o)-c;if(u>=0&&(s=this.codewords[u],s!=null)||(u=this.imageRowToCodewordIndex(o)+c,u<this.codewords.length&&(s=this.codewords[u],s!=null)))return s}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,s){this.codewords[this.imageRowToCodewordIndex(o)]=s}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){let o=new Bo,s=0;for(let c of this.codewords){if(c==null){o.format("%3d:    |   %n",s++);continue}o.format("%3d: %3d|%3d%n",s++,c.getRowNumber(),c.getValue())}return o.toString()}}return w.MAX_NEARBY_DISTANCE=5,w})();class Vo{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let o=this.values.get(i);o==null&&(o=0),o++,this.values.set(i,o)}getValue(){let i=-1,o=new Array;for(let[s,c]of this.values.entries()){let u={getKey:()=>s,getValue:()=>c};u.getValue()>i?(i=u.getValue(),o=[],o.push(u.getKey())):u.getValue()===i&&o.push(u.getKey())}return se.toIntArray(o)}getConfidence(i){return this.values.get(i)}}class cp extends ap{constructor(i,o){super(i),this._isLeft=o}setRowNumbers(){for(let i of this.getCodewords())i?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,i);let s=this.getBoundingBox(),c=this._isLeft?s.getTopLeft():s.getTopRight(),u=this._isLeft?s.getBottomLeft():s.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(c.getY())),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),p=-1,m=1,x=0;for(let v=d;v<f;v++){if(o[v]==null)continue;let I=o[v],A=I.getRowNumber()-p;if(A===0)x++;else if(A===1)m=Math.max(m,x),x=1,p=I.getRowNumber();else if(A<0||I.getRowNumber()>=i.getRowCount()||A>v)o[v]=null;else{let S;m>2?S=(m-2)*A:S=A;let T=S>=v;for(let _=1;_<=S&&!T;_++)T=o[v-_]!=null;T?o[v]=null:(p=I.getRowNumber(),x=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let o=new Int32Array(i.getRowCount());for(let s of this.getCodewords())if(s!=null){let c=s.getRowNumber();if(c>=o.length)continue;o[c]++}return o}adjustIncompleteIndicatorColumnRowNumbers(i){let o=this.getBoundingBox(),s=this._isLeft?o.getTopLeft():o.getTopRight(),c=this._isLeft?o.getBottomLeft():o.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),d=this.imageRowToCodewordIndex(Math.trunc(c.getY())),f=this.getCodewords(),p=-1;for(let m=u;m<d;m++){if(f[m]==null)continue;let x=f[m];x.setRowNumberAsRowIndicatorColumn();let v=x.getRowNumber()-p;v===0||(v===1?p=x.getRowNumber():x.getRowNumber()>=i.getRowCount()?f[m]=null:p=x.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),o=new Vo,s=new Vo,c=new Vo,u=new Vo;for(let f of i){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let p=f.getValue()%30,m=f.getRowNumber();switch(this._isLeft||(m+=2),m%3){case 0:s.setValue(p*3+1);break;case 1:u.setValue(p/3),c.setValue(p%3);break;case 2:o.setValue(p+1);break}}if(o.getValue().length===0||s.getValue().length===0||c.getValue().length===0||u.getValue().length===0||o.getValue()[0]<1||s.getValue()[0]+c.getValue()[0]<se.MIN_ROWS_IN_BARCODE||s.getValue()[0]+c.getValue()[0]>se.MAX_ROWS_IN_BARCODE)return null;let d=new OC(o.getValue()[0],s.getValue()[0],c.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,d),d}removeIncorrectCodewords(i,o){for(let s=0;s<i.length;s++){let c=i[s];if(i[s]==null)continue;let u=c.getValue()%30,d=c.getRowNumber();if(d>o.getRowCount()){i[s]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:u*3+1!==o.getRowCountUpperPart()&&(i[s]=null);break;case 1:(Math.trunc(u/3)!==o.getErrorCorrectionLevel()||u%3!==o.getRowCountLowerPart())&&(i[s]=null);break;case 2:u+1!==o.getColumnCount()&&(i[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Uo{constructor(i,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=se.MAX_CODEWORDS_IN_BARCODE,o;do o=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let s=this.detectionResultColumns[o].getCodewords();for(let c=0;c<s.length;c++)s[c]!=null&&(s[c].hasValidRowNumber()||this.adjustRowNumbers(o,c,s))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<i.length;s++)if(i[s]!=null&&o[s]!=null&&i[s].getRowNumber()===o[s].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let u=this.detectionResultColumns[c].getCodewords()[s];u!=null&&(u.setRowNumber(i[s].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<o.length;s++){if(o[s]==null)continue;let c=o[s].getRowNumber(),u=0;for(let d=this.barcodeColumnCount+1;d>0&&u<this.ADJUST_ROW_NUMBER_SKIP;d--){let f=this.detectionResultColumns[d].getCodewords()[s];f!=null&&(u=Uo.adjustRowNumberIfValid(c,u,f),f.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,o=this.detectionResultColumns[0].getCodewords();for(let s=0;s<o.length;s++){if(o[s]==null)continue;let c=o[s].getRowNumber(),u=0;for(let d=1;d<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;d++){let f=this.detectionResultColumns[d].getCodewords()[s];f!=null&&(u=Uo.adjustRowNumberIfValid(c,u,f),f.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,o,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(i)?(s.setRowNumber(i),o=0):++o),o}adjustRowNumbers(i,o,s){if(!this.detectionResultColumns[i-1])return;let c=s[o],u=this.detectionResultColumns[i-1].getCodewords(),d=u;this.detectionResultColumns[i+1]!=null&&(d=this.detectionResultColumns[i+1].getCodewords());let f=new Array(14);f[2]=u[o],f[3]=d[o],o>0&&(f[0]=s[o-1],f[4]=u[o-1],f[5]=d[o-1]),o>1&&(f[8]=s[o-2],f[10]=u[o-2],f[11]=d[o-2]),o<s.length-1&&(f[1]=s[o+1],f[6]=u[o+1],f[7]=d[o+1]),o<s.length-2&&(f[9]=s[o+2],f[12]=u[o+2],f[13]=d[o+2]);for(let p of f)if(Uo.adjustRowNumber(c,p))return}static adjustRowNumber(i,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===i.getBucket()?(i.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,o){this.detectionResultColumns[i]=o}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new Bo;for(let s=0;s<i.getCodewords().length;s++){o.format("CW %3d:",s);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){o.format("    |   ");continue}let u=this.detectionResultColumns[c].getCodewords()[s];if(u==null){o.format("    |   ");continue}o.format(" %3d|%3d",u.getRowNumber(),u.getValue())}o.format("%n")}return o.toString()}}let LC=(()=>{class w{constructor(o,s,c,u){this.rowNumber=w.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(s),this.bucket=Math.trunc(c),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==w.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}return w.BARCODE_ROW_UNKNOWN=-1,w})();class Pt{static initialize(){for(let i=0;i<se.SYMBOL_TABLE.length;i++){let o=se.SYMBOL_TABLE[i],s=o&1;for(let c=0;c<se.BARS_IN_MODULE;c++){let u=0;for(;(o&1)===s;)u+=1,o>>=1;s=o&1,Pt.RATIOS_TABLE[i]||(Pt.RATIOS_TABLE[i]=new Array(se.BARS_IN_MODULE)),Pt.RATIOS_TABLE[i][se.BARS_IN_MODULE-c-1]=Math.fround(u/se.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let o=Pt.getDecodedCodewordValue(Pt.sampleBitCounts(i));return o!==-1?o:Pt.getClosestDecodedValue(i)}static sampleBitCounts(i){let o=Me.sum(i),s=new Int32Array(se.BARS_IN_MODULE),c=0,u=0;for(let d=0;d<se.MODULES_IN_CODEWORD;d++){let f=o/(2*se.MODULES_IN_CODEWORD)+d*o/se.MODULES_IN_CODEWORD;u+i[c]<=f&&(u+=i[c],c++),s[c]++}return s}static getDecodedCodewordValue(i){let o=Pt.getBitValue(i);return se.getCodeword(o)===-1?-1:o}static getBitValue(i){let o=0;for(let s=0;s<i.length;s++)for(let c=0;c<i[s];c++)o=o<<1|(s%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(i){let o=Me.sum(i),s=new Array(se.BARS_IN_MODULE);if(o>1)for(let d=0;d<s.length;d++)s[d]=Math.fround(i[d]/o);let c=Qs.MAX_VALUE,u=-1;this.bSymbolTableReady||Pt.initialize();for(let d=0;d<Pt.RATIOS_TABLE.length;d++){let f=0,p=Pt.RATIOS_TABLE[d];for(let m=0;m<se.BARS_IN_MODULE;m++){let x=Math.fround(p[m]-s[m]);if(f+=Math.fround(x*x),f>=c)break}f<c&&(c=f,u=se.SYMBOL_TABLE[d])}return u}}Pt.bSymbolTableReady=!1,Pt.RATIOS_TABLE=new Array(se.SYMBOL_TABLE.length).map(w=>w=new Array(se.BARS_IN_MODULE));class lp{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class up{static parseLong(i,o=void 0){return parseInt(i,o)}}let FC=(()=>{class w extends g{}return w.kind="NullPointerException",w})();class PC{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,o,s){if(i==null)throw new FC;if(o<0||o>i.length||s<0||o+s>i.length||o+s<0)throw new U;if(s===0)return;for(let c=0;c<s;c++)this.write(i[o+c])}flush(){}close(){}}class kC extends g{}class BC extends PC{constructor(i=32){if(super(),this.count=0,i<0)throw new y("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let s=this.buf.length<<1;if(s-i<0&&(s=i),s<0){if(i<0)throw new kC;s=H.MAX_VALUE}this.buf=W.copyOfUint8Array(this.buf,s)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,o,s){if(o<0||o>i.length||s<0||o+s-i.length>0)throw new U;this.ensureCapacity(this.count+s),M.arraycopy(i,o,this.buf,this.count,s),this.count+=s}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return W.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var Ge=function(w){return w[w.ALPHA=0]="ALPHA",w[w.LOWER=1]="LOWER",w[w.MIXED=2]="MIXED",w[w.PUNCT=3]="PUNCT",w[w.ALPHA_SHIFT=4]="ALPHA_SHIFT",w[w.PUNCT_SHIFT=5]="PUNCT_SHIFT",w}(Ge||{});function dp(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let sa;function dr(w){if(typeof sa>"u"&&(sa=dp()),sa===null)throw new Error("BigInt is not supported!");return sa(w)}function VC(){let w=[];w[0]=dr(1);let i=dr(900);w[1]=i;for(let o=2;o<16;o++)w[o]=w[o-1]*i;return w}class L{static decode(i,o){let s=new He(""),c=V.ISO8859_1;s.enableDecoding(c);let u=1,d=i[u++],f=new lp;for(;u<i[0];){switch(d){case L.TEXT_COMPACTION_MODE_LATCH:u=L.textCompaction(i,u,s);break;case L.BYTE_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:u=L.byteCompaction(d,i,c,u,s);break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(i[u++]);break;case L.NUMERIC_COMPACTION_MODE_LATCH:u=L.numericCompaction(i,u,s);break;case L.ECI_CHARSET:let m=V.getCharacterSetECIByValue(i[u++]);break;case L.ECI_GENERAL_PURPOSE:u+=2;break;case L.ECI_USER_DEFINED:u++;break;case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=L.decodeMacroBlock(i,u,f);break;case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:throw new B;default:u--,u=L.textCompaction(i,u,s);break}if(u<i.length)d=i[u++];else throw B.getFormatInstance()}if(s.length()===0)throw B.getFormatInstance();let p=new No(null,s.toString(),null,o);return p.setOther(f),p}static decodeMacroBlock(i,o,s){if(o+L.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw B.getFormatInstance();let c=new Int32Array(L.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<L.NUMBER_OF_SEQUENCE_CODEWORDS;f++,o++)c[f]=i[o];s.setSegmentIndex(H.parseInt(L.decodeBase900toBase10(c,L.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new He;o=L.textCompaction(i,o,u),s.setFileId(u.toString());let d=-1;for(i[o]===L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=o+1);o<i[0];)switch(i[o]){case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,i[o]){case L.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new He;o=L.textCompaction(i,o+1,f),s.setFileName(f.toString());break;case L.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let p=new He;o=L.textCompaction(i,o+1,p),s.setSender(p.toString());break;case L.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let m=new He;o=L.textCompaction(i,o+1,m),s.setAddressee(m.toString());break;case L.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let x=new He;o=L.numericCompaction(i,o+1,x),s.setSegmentCount(H.parseInt(x.toString()));break;case L.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let v=new He;o=L.numericCompaction(i,o+1,v),s.setTimestamp(up.parseLong(v.toString()));break;case L.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new He;o=L.numericCompaction(i,o+1,I),s.setChecksum(H.parseInt(I.toString()));break;case L.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let A=new He;o=L.numericCompaction(i,o+1,A),s.setFileSize(up.parseLong(A.toString()));break;default:throw B.getFormatInstance()}break;case L.MACRO_PDF417_TERMINATOR:o++,s.setLastSegment(!0);break;default:throw B.getFormatInstance()}if(d!==-1){let f=o-d;s.isLastSegment()&&f--,s.setOptionalData(W.copyOfRange(i,d,d+f))}return o}static textCompaction(i,o,s){let c=new Int32Array((i[0]-o)*2),u=new Int32Array((i[0]-o)*2),d=0,f=!1;for(;o<i[0]&&!f;){let p=i[o++];if(p<L.TEXT_COMPACTION_MODE_LATCH)c[d]=p/30,c[d+1]=p%30,d+=2;else switch(p){case L.TEXT_COMPACTION_MODE_LATCH:c[d++]=L.TEXT_COMPACTION_MODE_LATCH;break;case L.BYTE_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:case L.NUMERIC_COMPACTION_MODE_LATCH:case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:o--,f=!0;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[d]=L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,p=i[o++],u[d]=p,d++;break}}return L.decodeTextCompaction(c,u,d,s),o}static decodeTextCompaction(i,o,s,c){let u=Ge.ALPHA,d=Ge.ALPHA,f=0;for(;f<s;){let p=i[f],m="";switch(u){case Ge.ALPHA:if(p<26)m=String.fromCharCode(65+p);else switch(p){case 26:m=" ";break;case L.LL:u=Ge.LOWER;break;case L.ML:u=Ge.MIXED;break;case L.PS:d=u,u=Ge.PUNCT_SHIFT;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[f]);break;case L.TEXT_COMPACTION_MODE_LATCH:u=Ge.ALPHA;break}break;case Ge.LOWER:if(p<26)m=String.fromCharCode(97+p);else switch(p){case 26:m=" ";break;case L.AS:d=u,u=Ge.ALPHA_SHIFT;break;case L.ML:u=Ge.MIXED;break;case L.PS:d=u,u=Ge.PUNCT_SHIFT;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[f]);break;case L.TEXT_COMPACTION_MODE_LATCH:u=Ge.ALPHA;break}break;case Ge.MIXED:if(p<L.PL)m=L.MIXED_CHARS[p];else switch(p){case L.PL:u=Ge.PUNCT;break;case 26:m=" ";break;case L.LL:u=Ge.LOWER;break;case L.AL:u=Ge.ALPHA;break;case L.PS:d=u,u=Ge.PUNCT_SHIFT;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[f]);break;case L.TEXT_COMPACTION_MODE_LATCH:u=Ge.ALPHA;break}break;case Ge.PUNCT:if(p<L.PAL)m=L.PUNCT_CHARS[p];else switch(p){case L.PAL:u=Ge.ALPHA;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[f]);break;case L.TEXT_COMPACTION_MODE_LATCH:u=Ge.ALPHA;break}break;case Ge.ALPHA_SHIFT:if(u=d,p<26)m=String.fromCharCode(65+p);else switch(p){case 26:m=" ";break;case L.TEXT_COMPACTION_MODE_LATCH:u=Ge.ALPHA;break}break;case Ge.PUNCT_SHIFT:if(u=d,p<L.PAL)m=L.PUNCT_CHARS[p];else switch(p){case L.PAL:u=Ge.ALPHA;break;case L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[f]);break;case L.TEXT_COMPACTION_MODE_LATCH:u=Ge.ALPHA;break}break}m!==""&&c.append(m),f++}}static byteCompaction(i,o,s,c,u){let d=new BC,f=0,p=0,m=!1;switch(i){case L.BYTE_COMPACTION_MODE_LATCH:let x=new Int32Array(6),v=o[c++];for(;c<o[0]&&!m;)switch(x[f++]=v,p=900*p+v,v=o[c++],v){case L.TEXT_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH:case L.NUMERIC_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:c--,m=!0;break;default:if(f%5===0&&f>0){for(let I=0;I<6;++I)d.write(Number(dr(p)>>dr(8*(5-I))));p=0,f=0}break}c===o[0]&&v<L.TEXT_COMPACTION_MODE_LATCH&&(x[f++]=v);for(let I=0;I<f;I++)d.write(x[I]);break;case L.BYTE_COMPACTION_MODE_LATCH_6:for(;c<o[0]&&!m;){let I=o[c++];if(I<L.TEXT_COMPACTION_MODE_LATCH)f++,p=900*p+I;else switch(I){case L.TEXT_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH:case L.NUMERIC_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:c--,m=!0;break}if(f%5===0&&f>0){for(let A=0;A<6;++A)d.write(Number(dr(p)>>dr(8*(5-A))));p=0,f=0}}break}return u.append(bt.decode(d.toByteArray(),s)),c}static numericCompaction(i,o,s){let c=0,u=!1,d=new Int32Array(L.MAX_NUMERIC_CODEWORDS);for(;o<i[0]&&!u;){let f=i[o++];if(o===i[0]&&(u=!0),f<L.TEXT_COMPACTION_MODE_LATCH)d[c]=f,c++;else switch(f){case L.TEXT_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH:case L.BYTE_COMPACTION_MODE_LATCH_6:case L.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case L.MACRO_PDF417_TERMINATOR:o--,u=!0;break}(c%L.MAX_NUMERIC_CODEWORDS===0||f===L.NUMERIC_COMPACTION_MODE_LATCH||u)&&c>0&&(s.append(L.decodeBase900toBase10(d,c)),c=0)}return o}static decodeBase900toBase10(i,o){let s=dr(0);for(let u=0;u<o;u++)s+=L.EXP900[o-u-1]*dr(i[u]);let c=s.toString();if(c.charAt(0)!=="1")throw new B;return c.substring(1)}}L.TEXT_COMPACTION_MODE_LATCH=900,L.BYTE_COMPACTION_MODE_LATCH=901,L.NUMERIC_COMPACTION_MODE_LATCH=902,L.BYTE_COMPACTION_MODE_LATCH_6=924,L.ECI_USER_DEFINED=925,L.ECI_GENERAL_PURPOSE=926,L.ECI_CHARSET=927,L.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,L.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,L.MACRO_PDF417_TERMINATOR=922,L.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,L.MAX_NUMERIC_CODEWORDS=15,L.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,L.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,L.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,L.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,L.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,L.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,L.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,L.PL=25,L.LL=27,L.AS=27,L.ML=28,L.AL=28,L.PS=29,L.PAL=29,L.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,L.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",L.EXP900=dp()?VC():[],L.NUMBER_OF_SEQUENCE_CODEWORDS=2;class we{constructor(){}static decode(i,o,s,c,u,d,f){let p=new Ur(i,o,s,c,u),m=null,x=null,v;for(let S=!0;;S=!1){if(o!=null&&(m=we.getRowIndicatorColumn(i,p,o,!0,d,f)),c!=null&&(x=we.getRowIndicatorColumn(i,p,c,!1,d,f)),v=we.merge(m,x),v==null)throw P.getNotFoundInstance();let T=v.getBoundingBox();if(S&&T!=null&&(T.getMinY()<p.getMinY()||T.getMaxY()>p.getMaxY()))p=T;else break}v.setBoundingBox(p);let I=v.getBarcodeColumnCount()+1;v.setDetectionResultColumn(0,m),v.setDetectionResultColumn(I,x);let A=m!=null;for(let S=1;S<=I;S++){let T=A?S:I-S;if(v.getDetectionResultColumn(T)!==void 0)continue;let _;T===0||T===I?_=new cp(p,T===0):_=new ap(p),v.setDetectionResultColumn(T,_);let O=-1,j=O;for(let G=p.getMinY();G<=p.getMaxY();G++){if(O=we.getStartColumn(v,T,G,A),O<0||O>p.getMaxX()){if(j===-1)continue;O=j}let F=we.detectCodeword(i,p.getMinX(),p.getMaxX(),A,O,G,d,f);F!=null&&(_.setCodeword(G,F),j=O,d=Math.min(d,F.getWidth()),f=Math.max(f,F.getWidth()))}}return we.createDecoderResult(v)}static merge(i,o){if(i==null&&o==null)return null;let s=we.getBarcodeMetadata(i,o);if(s==null)return null;let c=Ur.merge(we.adjustBoundingBox(i),we.adjustBoundingBox(o));return new Uo(s,c)}static adjustBoundingBox(i){if(i==null)return null;let o=i.getRowHeights();if(o==null)return null;let s=we.getMax(o),c=0;for(let f of o)if(c+=s-f,f>0)break;let u=i.getCodewords();for(let f=0;c>0&&u[f]==null;f++)c--;let d=0;for(let f=o.length-1;f>=0&&(d+=s-o[f],!(o[f]>0));f--);for(let f=u.length-1;d>0&&u[f]==null;f--)d--;return i.getBoundingBox().addMissingRows(c,d,i.isLeft())}static getMax(i){let o=-1;for(let s of i)o=Math.max(o,s);return o}static getBarcodeMetadata(i,o){let s;if(i==null||(s=i.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let c;return o==null||(c=o.getBarcodeMetadata())==null?s:s.getColumnCount()!==c.getColumnCount()&&s.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&s.getRowCount()!==c.getRowCount()?null:s}static getRowIndicatorColumn(i,o,s,c,u,d){let f=new cp(o,c);for(let p=0;p<2;p++){let m=p===0?1:-1,x=Math.trunc(Math.trunc(s.getX()));for(let v=Math.trunc(Math.trunc(s.getY()));v<=o.getMaxY()&&v>=o.getMinY();v+=m){let I=we.detectCodeword(i,0,i.getWidth(),c,x,v,u,d);I!=null&&(f.setCodeword(v,I),c?x=I.getStartX():x=I.getEndX())}}return f}static adjustCodewordCount(i,o){let s=o[0][1],c=s.getValue(),u=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-we.getNumberOfECCodeWords(i.getBarcodeECLevel());if(c.length===0){if(u<1||u>se.MAX_CODEWORDS_IN_BARCODE)throw P.getNotFoundInstance();s.setValue(u)}else c[0]!==u&&s.setValue(u)}static createDecoderResult(i){let o=we.createBarcodeMatrix(i);we.adjustCodewordCount(i,o);let s=new Array,c=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),u=[],d=new Array;for(let p=0;p<i.getBarcodeRowCount();p++)for(let m=0;m<i.getBarcodeColumnCount();m++){let x=o[p][m+1].getValue(),v=p*i.getBarcodeColumnCount()+m;x.length===0?s.push(v):x.length===1?c[v]=x[0]:(d.push(v),u.push(x))}let f=new Array(u.length);for(let p=0;p<f.length;p++)f[p]=u[p];return we.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),c,se.toIntArray(s),se.toIntArray(d),f)}static createDecoderResultFromAmbiguousValues(i,o,s,c,u){let d=new Int32Array(c.length),f=100;for(;f-- >0;){for(let p=0;p<d.length;p++)o[c[p]]=u[p][d[p]];try{return we.decodeCodewords(o,i,s)}catch(p){if(!(p instanceof b))throw p}if(d.length===0)throw b.getChecksumInstance();for(let p=0;p<d.length;p++)if(d[p]<u[p].length-1){d[p]++;break}else if(d[p]=0,p===d.length-1)throw b.getChecksumInstance()}throw b.getChecksumInstance()}static createBarcodeMatrix(i){let o=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let c=0;c<o.length;c++)for(let u=0;u<o[c].length;u++)o[c][u]=new Vo;let s=0;for(let c of i.getDetectionResultColumns()){if(c!=null){for(let u of c.getCodewords())if(u!=null){let d=u.getRowNumber();if(d>=0){if(d>=o.length)continue;o[d][s].setValue(u.getValue())}}}s++}return o}static isValidBarcodeColumn(i,o){return o>=0&&o<=i.getBarcodeColumnCount()+1}static getStartColumn(i,o,s,c){let u=c?1:-1,d=null;if(we.isValidBarcodeColumn(i,o-u)&&(d=i.getDetectionResultColumn(o-u).getCodeword(s)),d!=null)return c?d.getEndX():d.getStartX();if(d=i.getDetectionResultColumn(o).getCodewordNearby(s),d!=null)return c?d.getStartX():d.getEndX();if(we.isValidBarcodeColumn(i,o-u)&&(d=i.getDetectionResultColumn(o-u).getCodewordNearby(s)),d!=null)return c?d.getEndX():d.getStartX();let f=0;for(;we.isValidBarcodeColumn(i,o-u);){o-=u;for(let p of i.getDetectionResultColumn(o).getCodewords())if(p!=null)return(c?p.getEndX():p.getStartX())+u*f*(p.getEndX()-p.getStartX());f++}return c?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,o,s,c,u,d,f,p){u=we.adjustCodewordStartColumn(i,o,s,c,u,d);let m=we.getModuleBitCount(i,o,s,c,u,d);if(m==null)return null;let x,v=Me.sum(m);if(c)x=u+v;else{for(let S=0;S<m.length/2;S++){let T=m[S];m[S]=m[m.length-1-S],m[m.length-1-S]=T}x=u,u=x-v}if(!we.checkCodewordSkew(v,f,p))return null;let I=Pt.getDecodedValue(m),A=se.getCodeword(I);return A===-1?null:new LC(u,x,we.getCodewordBucketNumber(I),A)}static getModuleBitCount(i,o,s,c,u,d){let f=u,p=new Int32Array(8),m=0,x=c?1:-1,v=c;for(;(c?f<s:f>=o)&&m<p.length;)i.get(f,d)===v?(p[m]++,f+=x):(m++,v=!v);return m===p.length||f===(c?s:o)&&m===p.length-1?p:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,o,s,c,u,d){let f=u,p=c?-1:1;for(let m=0;m<2;m++){for(;(c?f>=o:f<s)&&c===i.get(f,d);){if(Math.abs(u-f)>we.CODEWORD_SKEW_SIZE)return u;f+=p}p=-p,c=!c}return f}static checkCodewordSkew(i,o,s){return o-we.CODEWORD_SKEW_SIZE<=i&&i<=s+we.CODEWORD_SKEW_SIZE}static decodeCodewords(i,o,s){if(i.length===0)throw B.getFormatInstance();let c=1<<o+1,u=we.correctErrors(i,s,c);we.verifyCodewordCount(i,c);let d=L.decode(i,""+o);return d.setErrorsCorrected(u),d.setErasures(s.length),d}static correctErrors(i,o,s){if(o!=null&&o.length>s/2+we.MAX_ERRORS||s<0||s>we.MAX_EC_CODEWORDS)throw b.getChecksumInstance();return we.errorCorrection.decode(i,s,o)}static verifyCodewordCount(i,o){if(i.length<4)throw B.getFormatInstance();let s=i[0];if(s>i.length)throw B.getFormatInstance();if(s===0)if(o<i.length)i[0]=i.length-o;else throw B.getFormatInstance()}static getBitCountForCodeword(i){let o=new Int32Array(8),s=0,c=o.length-1;for(;!((i&1)!==s&&(s=i&1,c--,c<0));)o[c]++,i>>=1;return o}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return we.getCodewordBucketNumber(we.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let o=new Bo;for(let s=0;s<i.length;s++){o.format("Row %2d: ",s);for(let c=0;c<i[s].length;c++){let u=i[s][c];u.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}o.format("%n")}return o.toString()}}we.CODEWORD_SKEW_SIZE=2,we.MAX_ERRORS=3,we.MAX_EC_CODEWORDS=512,we.errorCorrection=new sp;class xt{decode(i,o=null){let s=xt.decode(i,o,!1);if(s==null||s.length===0||s[0]==null)throw P.getNotFoundInstance();return s[0]}decodeMultiple(i,o=null){try{return xt.decode(i,o,!0)}catch(s){throw s instanceof B||s instanceof b?P.getNotFoundInstance():s}}static decode(i,o,s){let c=new Array,u=me.detectMultiple(i,o,s);for(let d of u.getPoints()){let f=we.decode(u.getBits(),d[4],d[5],d[6],d[7],xt.getMinCodewordWidth(d),xt.getMaxCodewordWidth(d)),p=new Nt(f.getText(),f.getRawBytes(),void 0,d,ne.PDF_417);p.putMetadata(gt.ERROR_CORRECTION_LEVEL,f.getECLevel());let m=f.getOther();m!=null&&p.putMetadata(gt.PDF417_EXTRA_METADATA,m),c.push(p)}return c.map(d=>d)}static getMaxWidth(i,o){return i==null||o==null?0:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMinWidth(i,o){return i==null||o==null?H.MAX_VALUE:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(xt.getMaxWidth(i[0],i[4]),xt.getMaxWidth(i[6],i[2])*se.MODULES_IN_CODEWORD/se.MODULES_IN_STOP_PATTERN),Math.max(xt.getMaxWidth(i[1],i[5]),xt.getMaxWidth(i[7],i[3])*se.MODULES_IN_CODEWORD/se.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(xt.getMinWidth(i[0],i[4]),xt.getMinWidth(i[6],i[2])*se.MODULES_IN_CODEWORD/se.MODULES_IN_STOP_PATTERN),Math.min(xt.getMinWidth(i[1],i[5]),xt.getMinWidth(i[7],i[3])*se.MODULES_IN_CODEWORD/se.MODULES_IN_STOP_PATTERN)))}reset(){}}let Yl=(()=>{class w extends g{}return w.kind="ReaderException",w})();class fp{constructor(i,o){this.verbose=i===!0,o&&this.setHints(o)}decode(i,o){return o&&this.setHints(o),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;let o=!e(i)&&i.get(oe.TRY_HARDER)===!0,s=e(i)?null:i.get(oe.POSSIBLE_FORMATS),c=new Array;if(!e(s)){let u=s.some(d=>d===ne.UPC_A||d===ne.UPC_E||d===ne.EAN_13||d===ne.EAN_8||d===ne.CODABAR||d===ne.CODE_39||d===ne.CODE_93||d===ne.CODE_128||d===ne.ITF||d===ne.RSS_14||d===ne.RSS_EXPANDED);u&&!o&&c.push(new xi(i,this.verbose)),s.includes(ne.QR_CODE)&&c.push(new ur),s.includes(ne.DATA_MATRIX)&&c.push(new ia),s.includes(ne.AZTEC)&&c.push(new ea),s.includes(ne.PDF_417)&&c.push(new xt),u&&o&&c.push(new xi(i,this.verbose))}c.length===0&&(o||c.push(new xi(i,this.verbose)),c.push(new ur),c.push(new ia),c.push(new ea),c.push(new xt),o&&c.push(new xi(i,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(let i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new Yl("No readers where selected, nothing can be read.");for(let o of this.readers)try{return o.decode(i,this.hints)}catch(s){if(s instanceof Yl)continue}throw new P("No MultiFormat Readers were able to detect the code.")}}class UC extends Pr{constructor(i=null,o=500){let s=new fp;s.setHints(i),super(s,o)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class jC extends Pr{constructor(i=500){super(new xt,i)}}class HC extends Pr{constructor(i=500){super(new ur,i)}}var hp=function(w){return w[w.ERROR_CORRECTION=0]="ERROR_CORRECTION",w[w.CHARACTER_SET=1]="CHARACTER_SET",w[w.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",w[w.MIN_SIZE=3]="MIN_SIZE",w[w.MAX_SIZE=4]="MAX_SIZE",w[w.MARGIN=5]="MARGIN",w[w.PDF417_COMPACT=6]="PDF417_COMPACT",w[w.PDF417_COMPACTION=7]="PDF417_COMPACTION",w[w.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",w[w.AZTEC_LAYERS=9]="AZTEC_LAYERS",w[w.QR_VERSION=10]="QR_VERSION",w}(hp||{}),ut=hp;class ql{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new Ft(i,Int32Array.from([1])))}buildGenerator(i){let o=this.cachedGenerators;if(i>=o.length){let s=o[o.length-1],c=this.field;for(let u=o.length;u<=i;u++){let d=s.multiply(new Ft(c,Int32Array.from([1,c.exp(u-1+c.getGeneratorBase())])));o.push(d),s=d}}return o[i]}encode(i,o){if(o===0)throw new y("No error correction bytes");let s=i.length-o;if(s<=0)throw new y("No data bytes provided");let c=this.buildGenerator(o),u=new Int32Array(s);M.arraycopy(i,0,u,0,s);let d=new Ft(this.field,u);d=d.multiplyByMonomial(o,1);let p=d.divide(c)[1].getCoefficients(),m=o-p.length;for(let x=0;x<m;x++)i[s+x]=0;M.arraycopy(p,0,i,s+m,p.length)}}let vi=(()=>{class w{constructor(){}static applyMaskPenaltyRule1(o){return w.applyMaskPenaltyRule1Internal(o,!0)+w.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let s=0,c=o.getArray(),u=o.getWidth(),d=o.getHeight();for(let f=0;f<d-1;f++){let p=c[f];for(let m=0;m<u-1;m++){let x=p[m];x===p[m+1]&&x===c[f+1][m]&&x===c[f+1][m+1]&&s++}}return w.N2*s}static applyMaskPenaltyRule3(o){let s=0,c=o.getArray(),u=o.getWidth(),d=o.getHeight();for(let f=0;f<d;f++)for(let p=0;p<u;p++){let m=c[f];p+6<u&&m[p]===1&&m[p+1]===0&&m[p+2]===1&&m[p+3]===1&&m[p+4]===1&&m[p+5]===0&&m[p+6]===1&&(w.isWhiteHorizontal(m,p-4,p)||w.isWhiteHorizontal(m,p+7,p+11))&&s++,f+6<d&&c[f][p]===1&&c[f+1][p]===0&&c[f+2][p]===1&&c[f+3][p]===1&&c[f+4][p]===1&&c[f+5][p]===0&&c[f+6][p]===1&&(w.isWhiteVertical(c,p,f-4,f)||w.isWhiteVertical(c,p,f+7,f+11))&&s++}return s*w.N3}static isWhiteHorizontal(o,s,c){s=Math.max(s,0),c=Math.min(c,o.length);for(let u=s;u<c;u++)if(o[u]===1)return!1;return!0}static isWhiteVertical(o,s,c,u){c=Math.max(c,0),u=Math.min(u,o.length);for(let d=c;d<u;d++)if(o[d][s]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let s=0,c=o.getArray(),u=o.getWidth(),d=o.getHeight();for(let m=0;m<d;m++){let x=c[m];for(let v=0;v<u;v++)x[v]===1&&s++}let f=o.getHeight()*o.getWidth();return Math.floor(Math.abs(s*2-f)*10/f)*w.N4}static getDataMaskBit(o,s,c){let u,d;switch(o){case 0:u=c+s&1;break;case 1:u=c&1;break;case 2:u=s%3;break;case 3:u=(c+s)%3;break;case 4:u=Math.floor(c/2)+Math.floor(s/3)&1;break;case 5:d=c*s,u=(d&1)+d%3;break;case 6:d=c*s,u=(d&1)+d%3&1;break;case 7:d=c*s,u=d%3+(c+s&1)&1;break;default:throw new y("Invalid mask pattern: "+o)}return u===0}static applyMaskPenaltyRule1Internal(o,s){let c=0,u=s?o.getHeight():o.getWidth(),d=s?o.getWidth():o.getHeight(),f=o.getArray();for(let p=0;p<u;p++){let m=0,x=-1;for(let v=0;v<d;v++){let I=s?f[p][v]:f[v][p];I===x?m++:(m>=5&&(c+=w.N1+(m-5)),m=1,x=I)}m>=5&&(c+=w.N1+(m-5))}return c}}return w.N1=3,w.N2=3,w.N3=40,w.N4=10,w})();class aa{constructor(i,o){this.width=i,this.height=o;let s=new Array(o);for(let c=0;c!==o;c++)s[c]=new Uint8Array(i);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(i,o){return this.bytes[o][i]}getArray(){return this.bytes}setNumber(i,o,s){this.bytes[o][i]=s}setBoolean(i,o,s){this.bytes[o][i]=s?1:0}clear(i){for(let o of this.bytes)W.fill(o,i)}equals(i){if(!(i instanceof aa))return!1;let o=i;if(this.width!==o.width||this.height!==o.height)return!1;for(let s=0,c=this.height;s<c;++s){let u=this.bytes[s],d=o.bytes[s];for(let f=0,p=this.width;f<p;++f)if(u[f]!==d[f])return!1}return!0}toString(){let i=new He;for(let o=0,s=this.height;o<s;++o){let c=this.bytes[o];for(let u=0,d=this.width;u<d;++u)switch(c[u]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}let ca=(()=>{class w{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){let o=new He;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<w.NUM_MASK_PATTERNS}}return w.NUM_MASK_PATTERNS=8,w})(),qe=(()=>{class w extends g{}return w.kind="WriterException",w})();class re{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,o,s,c,u){re.clearMatrix(u),re.embedBasicPatterns(s,u),re.embedTypeInfo(o,c,u),re.maybeEmbedVersionInfo(s,u),re.embedDataBits(i,c,u)}static embedBasicPatterns(i,o){re.embedPositionDetectionPatternsAndSeparators(o),re.embedDarkDotAtLeftBottomCorner(o),re.maybeEmbedPositionAdjustmentPatterns(i,o),re.embedTimingPatterns(o)}static embedTypeInfo(i,o,s){let c=new ee;re.makeTypeInfoBits(i,o,c);for(let u=0,d=c.getSize();u<d;++u){let f=c.get(c.getSize()-1-u),p=re.TYPE_INFO_COORDINATES[u],m=p[0],x=p[1];if(s.setBoolean(m,x,f),u<8){let v=s.getWidth()-u-1;s.setBoolean(v,8,f)}else{let I=s.getHeight()-7+(u-8);s.setBoolean(8,I,f)}}}static maybeEmbedVersionInfo(i,o){if(i.getVersionNumber()<7)return;let s=new ee;re.makeVersionInfoBits(i,s);let c=6*3-1;for(let u=0;u<6;++u)for(let d=0;d<3;++d){let f=s.get(c);c--,o.setBoolean(u,o.getHeight()-11+d,f),o.setBoolean(o.getHeight()-11+d,u,f)}}static embedDataBits(i,o,s){let c=0,u=-1,d=s.getWidth()-1,f=s.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);f>=0&&f<s.getHeight();){for(let p=0;p<2;++p){let m=d-p;if(!re.isEmpty(s.get(m,f)))continue;let x;c<i.getSize()?(x=i.get(c),++c):x=!1,o!==255&&vi.getDataMaskBit(o,m,f)&&(x=!x),s.setBoolean(m,f,x)}f+=u}u=-u,f+=u,d-=2}if(c!==i.getSize())throw new qe("Not all bits consumed: "+c+"/"+i.getSize())}static findMSBSet(i){return 32-H.numberOfLeadingZeros(i)}static calculateBCHCode(i,o){if(o===0)throw new y("0 polynomial");let s=re.findMSBSet(o);for(i<<=s-1;re.findMSBSet(i)>=s;)i^=o<<re.findMSBSet(i)-s;return i}static makeTypeInfoBits(i,o,s){if(!ca.isValidMaskPattern(o))throw new qe("Invalid mask pattern");let c=i.getBits()<<3|o;s.appendBits(c,5);let u=re.calculateBCHCode(c,re.TYPE_INFO_POLY);s.appendBits(u,10);let d=new ee;if(d.appendBits(re.TYPE_INFO_MASK_PATTERN,15),s.xor(d),s.getSize()!==15)throw new qe("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(i,o){o.appendBits(i.getVersionNumber(),6);let s=re.calculateBCHCode(i.getVersionNumber(),re.VERSION_INFO_POLY);if(o.appendBits(s,12),o.getSize()!==18)throw new qe("should not happen but we got: "+o.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let o=8;o<i.getWidth()-8;++o){let s=(o+1)%2;re.isEmpty(i.get(o,6))&&i.setNumber(o,6,s),re.isEmpty(i.get(6,o))&&i.setNumber(6,o,s)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new qe;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,o,s){for(let c=0;c<8;++c){if(!re.isEmpty(s.get(i+c,o)))throw new qe;s.setNumber(i+c,o,0)}}static embedVerticalSeparationPattern(i,o,s){for(let c=0;c<7;++c){if(!re.isEmpty(s.get(i,o+c)))throw new qe;s.setNumber(i,o+c,0)}}static embedPositionAdjustmentPattern(i,o,s){for(let c=0;c<5;++c){let u=re.POSITION_ADJUSTMENT_PATTERN[c];for(let d=0;d<5;++d)s.setNumber(i+d,o+c,u[d])}}static embedPositionDetectionPattern(i,o,s){for(let c=0;c<7;++c){let u=re.POSITION_DETECTION_PATTERN[c];for(let d=0;d<7;++d)s.setNumber(i+d,o+c,u[d])}}static embedPositionDetectionPatternsAndSeparators(i){let o=re.POSITION_DETECTION_PATTERN[0].length;re.embedPositionDetectionPattern(0,0,i),re.embedPositionDetectionPattern(i.getWidth()-o,0,i),re.embedPositionDetectionPattern(0,i.getWidth()-o,i);let s=8;re.embedHorizontalSeparationPattern(0,s-1,i),re.embedHorizontalSeparationPattern(i.getWidth()-s,s-1,i),re.embedHorizontalSeparationPattern(0,i.getWidth()-s,i);let c=7;re.embedVerticalSeparationPattern(c,0,i),re.embedVerticalSeparationPattern(i.getHeight()-c-1,0,i),re.embedVerticalSeparationPattern(c,i.getHeight()-c,i)}static maybeEmbedPositionAdjustmentPatterns(i,o){if(i.getVersionNumber()<2)return;let s=i.getVersionNumber()-1,c=re.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let u=0,d=c.length;u!==d;u++){let f=c[u];if(f>=0)for(let p=0;p!==d;p++){let m=c[p];m>=0&&re.isEmpty(o.get(m,f))&&re.embedPositionAdjustmentPattern(m-2,f-2,o)}}}}re.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),re.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),re.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),re.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),re.VERSION_INFO_POLY=7973,re.TYPE_INFO_POLY=1335,re.TYPE_INFO_MASK_PATTERN=21522;class zC{constructor(i,o){this.dataBytes=i,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Xe{constructor(){}static calculateMaskPenalty(i){return vi.applyMaskPenaltyRule1(i)+vi.applyMaskPenaltyRule2(i)+vi.applyMaskPenaltyRule3(i)+vi.applyMaskPenaltyRule4(i)}static encode(i,o,s=null){let c=Xe.DEFAULT_BYTE_MODE_ENCODING,u=s!==null&&s.get(ut.CHARACTER_SET)!==void 0;u&&(c=s.get(ut.CHARACTER_SET).toString());let d=this.chooseMode(i,c),f=new ee;if(d===te.BYTE&&(u||Xe.DEFAULT_BYTE_MODE_ENCODING!==c)){let G=V.getCharacterSetECIByName(c);G!==void 0&&this.appendECI(G,f)}this.appendModeInfo(d,f);let p=new ee;this.appendBytes(i,d,p,c);let m;if(s!==null&&s.get(ut.QR_VERSION)!==void 0){let G=Number.parseInt(s.get(ut.QR_VERSION).toString(),10);m=J.getVersionForNumber(G);let F=this.calculateBitsNeeded(d,f,p,m);if(!this.willFit(F,m,o))throw new qe("Data too big for requested version")}else m=this.recommendVersion(o,d,f,p);let x=new ee;x.appendBitArray(f);let v=d===te.BYTE?p.getSizeInBytes():i.length;this.appendLengthInfo(v,m,d,x),x.appendBitArray(p);let I=m.getECBlocksForLevel(o),A=m.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(A,x);let S=this.interleaveWithECBytes(x,m.getTotalCodewords(),A,I.getNumBlocks()),T=new ca;T.setECLevel(o),T.setMode(d),T.setVersion(m);let _=m.getDimensionForVersion(),O=new aa(_,_),j=this.chooseMaskPattern(S,o,m,O);return T.setMaskPattern(j),re.buildMatrix(S,o,m,j,O),T.setMatrix(O),T}static recommendVersion(i,o,s,c){let u=this.calculateBitsNeeded(o,s,c,J.getVersionForNumber(1)),d=this.chooseVersion(u,i),f=this.calculateBitsNeeded(o,s,c,d);return this.chooseVersion(f,i)}static calculateBitsNeeded(i,o,s,c){return o.getSize()+i.getCharacterCountBits(c)+s.getSize()}static getAlphanumericCode(i){return i<Xe.ALPHANUMERIC_TABLE.length?Xe.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,o=null){if(V.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(i))return te.KANJI;let s=!1,c=!1;for(let u=0,d=i.length;u<d;++u){let f=i.charAt(u);if(Xe.isDigit(f))s=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)c=!0;else return te.BYTE}return c?te.ALPHANUMERIC:s?te.NUMERIC:te.BYTE}static isOnlyDoubleByteKanji(i){let o;try{o=bt.encode(i,V.SJIS)}catch{return!1}let s=o.length;if(s%2!==0)return!1;for(let c=0;c<s;c+=2){let u=o[c]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(i,o,s,c){let u=Number.MAX_SAFE_INTEGER,d=-1;for(let f=0;f<ca.NUM_MASK_PATTERNS;f++){re.buildMatrix(i,o,s,f,c);let p=this.calculateMaskPenalty(c);p<u&&(u=p,d=f)}return d}static chooseVersion(i,o){for(let s=1;s<=40;s++){let c=J.getVersionForNumber(s);if(Xe.willFit(i,c,o))return c}throw new qe("Data too big")}static willFit(i,o,s){let c=o.getTotalCodewords(),d=o.getECBlocksForLevel(s).getTotalECCodewords(),f=c-d,p=(i+7)/8;return f>=p}static terminateBits(i,o){let s=i*8;if(o.getSize()>s)throw new qe("data bits cannot fit in the QR Code"+o.getSize()+" > "+s);for(let d=0;d<4&&o.getSize()<s;++d)o.appendBit(!1);let c=o.getSize()&7;if(c>0)for(let d=c;d<8;d++)o.appendBit(!1);let u=i-o.getSizeInBytes();for(let d=0;d<u;++d)o.appendBits(d&1?17:236,8);if(o.getSize()!==s)throw new qe("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,o,s,c,u,d){if(c>=s)throw new qe("Block ID too large");let f=i%s,p=s-f,m=Math.floor(i/s),x=m+1,v=Math.floor(o/s),I=v+1,A=m-v,S=x-I;if(A!==S)throw new qe("EC bytes mismatch");if(s!==p+f)throw new qe("RS blocks mismatch");if(i!==(v+A)*p+(I+S)*f)throw new qe("Total bytes mismatch");c<p?(u[0]=v,d[0]=A):(u[0]=I,d[0]=S)}static interleaveWithECBytes(i,o,s,c){if(i.getSizeInBytes()!==s)throw new qe("Number of bits and data bytes does not match");let u=0,d=0,f=0,p=new Array;for(let x=0;x<c;++x){let v=new Int32Array(1),I=new Int32Array(1);Xe.getNumDataBytesAndNumECBytesForBlockID(o,s,c,x,v,I);let A=v[0],S=new Uint8Array(A);i.toBytes(8*u,S,0,A);let T=Xe.generateECBytes(S,I[0]);p.push(new zC(S,T)),d=Math.max(d,A),f=Math.max(f,T.length),u+=v[0]}if(s!==u)throw new qe("Data bytes does not match offset");let m=new ee;for(let x=0;x<d;++x)for(let v of p){let I=v.getDataBytes();x<I.length&&m.appendBits(I[x],8)}for(let x=0;x<f;++x)for(let v of p){let I=v.getErrorCorrectionBytes();x<I.length&&m.appendBits(I[x],8)}if(o!==m.getSizeInBytes())throw new qe("Interleaving error: "+o+" and "+m.getSizeInBytes()+" differ.");return m}static generateECBytes(i,o){let s=i.length,c=new Int32Array(s+o);for(let d=0;d<s;d++)c[d]=i[d]&255;new ql(Re.QR_CODE_FIELD_256).encode(c,o);let u=new Uint8Array(o);for(let d=0;d<o;d++)u[d]=c[s+d];return u}static appendModeInfo(i,o){o.appendBits(i.getBits(),4)}static appendLengthInfo(i,o,s,c){let u=s.getCharacterCountBits(o);if(i>=1<<u)throw new qe(i+" is bigger than "+((1<<u)-1));c.appendBits(i,u)}static appendBytes(i,o,s,c){switch(o){case te.NUMERIC:Xe.appendNumericBytes(i,s);break;case te.ALPHANUMERIC:Xe.appendAlphanumericBytes(i,s);break;case te.BYTE:Xe.append8BitBytes(i,s,c);break;case te.KANJI:Xe.appendKanjiBytes(i,s);break;default:throw new qe("Invalid mode: "+o)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){let o=Xe.getDigit(i);return o>=0&&o<=9}static appendNumericBytes(i,o){let s=i.length,c=0;for(;c<s;){let u=Xe.getDigit(i.charAt(c));if(c+2<s){let d=Xe.getDigit(i.charAt(c+1)),f=Xe.getDigit(i.charAt(c+2));o.appendBits(u*100+d*10+f,10),c+=3}else if(c+1<s){let d=Xe.getDigit(i.charAt(c+1));o.appendBits(u*10+d,7),c+=2}else o.appendBits(u,4),c++}}static appendAlphanumericBytes(i,o){let s=i.length,c=0;for(;c<s;){let u=Xe.getAlphanumericCode(i.charCodeAt(c));if(u===-1)throw new qe;if(c+1<s){let d=Xe.getAlphanumericCode(i.charCodeAt(c+1));if(d===-1)throw new qe;o.appendBits(u*45+d,11),c+=2}else o.appendBits(u,6),c++}}static append8BitBytes(i,o,s){let c;try{c=bt.encode(i,s)}catch(u){throw new qe(u)}for(let u=0,d=c.length;u!==d;u++){let f=c[u];o.appendBits(f,8)}}static appendKanjiBytes(i,o){let s;try{s=bt.encode(i,V.SJIS)}catch(u){throw new qe(u)}let c=s.length;for(let u=0;u<c;u+=2){let d=s[u]&255,f=s[u+1]&255,p=d<<8&4294967295|f,m=-1;if(p>=33088&&p<=40956?m=p-33088:p>=57408&&p<=60351&&(m=p-49472),m===-1)throw new qe("Invalid byte sequence");let x=(m>>8)*192+(m&255);o.appendBits(x,13)}}static appendECI(i,o){o.appendBits(te.ECI.getBits(),4),o.appendBits(i.getValue(),8)}}Xe.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Xe.DEFAULT_BYTE_MODE_ENCODING=V.UTF8.getName();let GC=(()=>{class w{write(o,s,c,u=null){if(o.length===0)throw new y("Found empty contents");if(s<0||c<0)throw new y("Requested dimensions are too small: "+s+"x"+c);let d=Ye.L,f=w.QUIET_ZONE_SIZE;u!==null&&(u.get(ut.ERROR_CORRECTION)!==void 0&&(d=Ye.fromString(u.get(ut.ERROR_CORRECTION).toString())),u.get(ut.MARGIN)!==void 0&&(f=Number.parseInt(u.get(ut.MARGIN).toString(),10)));let p=Xe.encode(o,d,u);return this.renderResult(p,s,c,f)}writeToDom(o,s,c,u,d=null){typeof o=="string"&&(o=document.querySelector(o));let f=this.write(s,c,u,d);o&&o.appendChild(f)}renderResult(o,s,c,u){let d=o.getMatrix();if(d===null)throw new jn;let f=d.getWidth(),p=d.getHeight(),m=f+u*2,x=p+u*2,v=Math.max(s,m),I=Math.max(c,x),A=Math.min(Math.floor(v/m),Math.floor(I/x)),S=Math.floor((v-f*A)/2),T=Math.floor((I-p*A)/2),_=this.createSVGElement(v,I);for(let O=0,j=T;O<p;O++,j+=A)for(let G=0,F=S;G<f;G++,F+=A)if(d.get(G,O)===1){let xe=this.createSvgRectElement(F,j,A,A);_.appendChild(xe)}return _}createSVGElement(o,s){let c=document.createElementNS(w.SVG_NS,"svg");return c.setAttributeNS(null,"height",o.toString()),c.setAttributeNS(null,"width",s.toString()),c}createSvgRectElement(o,s,c,u){let d=document.createElementNS(w.SVG_NS,"rect");return d.setAttributeNS(null,"x",o.toString()),d.setAttributeNS(null,"y",s.toString()),d.setAttributeNS(null,"height",c.toString()),d.setAttributeNS(null,"width",u.toString()),d.setAttributeNS(null,"fill","#000000"),d}}return w.QUIET_ZONE_SIZE=4,w.SVG_NS="http://www.w3.org/2000/svg",w})(),pp=(()=>{class w{encode(o,s,c,u,d){if(o.length===0)throw new y("Found empty contents");if(s!==ne.QR_CODE)throw new y("Can only encode QR_CODE, but got "+s);if(c<0||u<0)throw new y(`Requested dimensions are too small: ${c}x${u}`);let f=Ye.L,p=w.QUIET_ZONE_SIZE;d!==null&&(d.get(ut.ERROR_CORRECTION)!==void 0&&(f=Ye.fromString(d.get(ut.ERROR_CORRECTION).toString())),d.get(ut.MARGIN)!==void 0&&(p=Number.parseInt(d.get(ut.MARGIN).toString(),10)));let m=Xe.encode(o,f,d);return w.renderResult(m,c,u,p)}static renderResult(o,s,c,u){let d=o.getMatrix();if(d===null)throw new jn;let f=d.getWidth(),p=d.getHeight(),m=f+u*2,x=p+u*2,v=Math.max(s,m),I=Math.max(c,x),A=Math.min(Math.floor(v/m),Math.floor(I/x)),S=Math.floor((v-f*A)/2),T=Math.floor((I-p*A)/2),_=new ht(v,I);for(let O=0,j=T;O<p;O++,j+=A)for(let G=0,F=S;G<f;G++,F+=A)d.get(G,O)===1&&_.setRegion(F,j,A,A);return _}}return w.QUIET_ZONE_SIZE=4,w})();class WC{encode(i,o,s,c,u){let d;switch(o){case ne.QR_CODE:d=new pp;break;default:throw new y("No encoder available for format "+o)}return d.encode(i,o,s,c,u)}}let $C=(()=>{class w extends _o{constructor(o,s,c,u,d,f,p,m){if(super(f,p),this.yuvData=o,this.dataWidth=s,this.dataHeight=c,this.left=u,this.top=d,u+f>s||d+p>c)throw new y("Crop rectangle does not fit within image data.");m&&this.reverseHorizontal(f,p)}getRow(o,s){if(o<0||o>=this.getHeight())throw new y("Requested row is outside the image: "+o);let c=this.getWidth();(s==null||s.length<c)&&(s=new Uint8ClampedArray(c));let u=(o+this.top)*this.dataWidth+this.left;return M.arraycopy(this.yuvData,u,s,0,c),s}getMatrix(){let o=this.getWidth(),s=this.getHeight();if(o===this.dataWidth&&s===this.dataHeight)return this.yuvData;let c=o*s,u=new Uint8ClampedArray(c),d=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return M.arraycopy(this.yuvData,d,u,0,c),u;for(let f=0;f<s;f++){let p=f*o;M.arraycopy(this.yuvData,d,u,p,o),d+=this.dataWidth}return u}isCropSupported(){return!0}crop(o,s,c,u){return new w(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+s,c,u,!1)}renderThumbnail(){let o=this.getWidth()/w.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/w.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(o*s),u=this.yuvData,d=this.top*this.dataWidth+this.left;for(let f=0;f<s;f++){let p=f*o;for(let m=0;m<o;m++){let x=u[d+m*w.THUMBNAIL_SCALE_FACTOR]&255;c[p+m]=4278190080|x*65793}d+=this.dataWidth*w.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/w.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/w.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,s){let c=this.yuvData;for(let u=0,d=this.top*this.dataWidth+this.left;u<s;u++,d+=this.dataWidth){let f=d+o/2;for(let p=d,m=d+o-1;p<f;p++,m--){let x=c[p];c[p]=c[m],c[m]=x}}}invert(){return new ir(this)}}return w.THUMBNAIL_SCALE_FACTOR=2,w})();class Zl extends _o{constructor(i,o,s,c,u,d,f){if(super(o,s),this.dataWidth=c,this.dataHeight=u,this.left=d,this.top=f,i.BYTES_PER_ELEMENT===4){let p=o*s,m=new Uint8ClampedArray(p);for(let x=0;x<p;x++){let v=i[x],I=v>>16&255,A=v>>7&510,S=v&255;m[x]=(I+A+S)/4&255}this.luminances=m}else this.luminances=i;if(c===void 0&&(this.dataWidth=o),u===void 0&&(this.dataHeight=s),d===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+s>this.dataHeight)throw new y("Crop rectangle does not fit within image data.")}getRow(i,o){if(i<0||i>=this.getHeight())throw new y("Requested row is outside the image: "+i);let s=this.getWidth();(o==null||o.length<s)&&(o=new Uint8ClampedArray(s));let c=(i+this.top)*this.dataWidth+this.left;return M.arraycopy(this.luminances,c,o,0,s),o}getMatrix(){let i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.luminances;let s=i*o,c=new Uint8ClampedArray(s),u=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return M.arraycopy(this.luminances,u,c,0,s),c;for(let d=0;d<o;d++){let f=d*i;M.arraycopy(this.luminances,u,c,f,i),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(i,o,s,c){return new Zl(this.luminances,s,c,this.dataWidth,this.dataHeight,this.left+i,this.top+o)}invert(){return new ir(this)}}class gp extends V{static forName(i){return this.getCharacterSetECIByName(i)}}class Xl{}Xl.ISO_8859_1=V.ISO8859_1;class mp{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class yp{static singletonList(i){return[i]}static min(i,o){return i.sort(o)[0]}}class YC{constructor(i){this.previous=i}getPrevious(){return this.previous}}class Ei extends YC{constructor(i,o,s){super(i),this.value=o,this.bitCount=s}appendTo(i,o){i.appendBits(this.value,this.bitCount)}add(i,o){return new Ei(this,i,o)}addBinaryShift(i,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ei(this,i,o)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+H.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class Ql extends Ei{constructor(i,o,s){super(i,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=s}appendTo(i,o){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):s===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(o[this.binaryShiftStart+s],8)}addBinaryShift(i,o){return new Ql(this,i,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function qC(w,i,o){return new Ql(w,i,o)}function jo(w,i,o){return new Ei(w,i,o)}let ZC=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],fr=0,la=1,en=2,wp=3,Mn=4,XC=new Ei(null,0,0),Kl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function QC(w){for(let i of w)W.fill(i,-1);return w[fr][Mn]=0,w[la][Mn]=0,w[la][fr]=28,w[wp][Mn]=0,w[en][Mn]=0,w[en][fr]=15,w}let Cp=QC(W.createInt32Array(6,6));class _n{constructor(i,o,s,c){this.token=i,this.mode=o,this.binaryShiftByteCount=s,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,o){let s=this.bitCount,c=this.token;if(i!==this.mode){let d=Kl[this.mode][i];c=jo(c,d&65535,d>>16),s+=d>>16}let u=i===en?4:5;return c=jo(c,o,u),new _n(c,i,0,s+u)}shiftAndAppend(i,o){let s=this.token,c=this.mode===en?4:5;return s=jo(s,Cp[this.mode][i],c),s=jo(s,o,5),new _n(s,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(i){let o=this.token,s=this.mode,c=this.bitCount;if(this.mode===Mn||this.mode===en){let f=Kl[s][fr];o=jo(o,f&65535,f>>16),c+=f>>16,s=fr}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new _n(o,s,this.binaryShiftByteCount+1,c+u);return d.binaryShiftByteCount===2078&&(d=d.endBinaryShift(i+1)),d}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=qC(o,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new _n(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let o=this.bitCount+(Kl[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?o+=_n.calculateBinaryShiftCost(i)-_n.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(o+=10),o<=i.bitCount}toBitArray(i){let o=[];for(let c=this.endBinaryShift(i.length).token;c!==null;c=c.getPrevious())o.unshift(c);let s=new ee;for(let c of o)c.appendTo(s,i);return s}toString(){return ce.format("%s bits=%d bytes=%d",ZC[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}_n.INITIAL_STATE=new _n(XC,fr,0,0);function KC(w){let i=ce.getCharCode(" "),o=ce.getCharCode("."),s=ce.getCharCode(",");w[fr][i]=1;let c=ce.getCharCode("Z"),u=ce.getCharCode("A");for(let I=u;I<=c;I++)w[fr][I]=I-u+2;w[la][i]=1;let d=ce.getCharCode("z"),f=ce.getCharCode("a");for(let I=f;I<=d;I++)w[la][I]=I-f+2;w[en][i]=1;let p=ce.getCharCode("9"),m=ce.getCharCode("0");for(let I=m;I<=p;I++)w[en][I]=I-m+2;w[en][s]=12,w[en][o]=13;let x=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","\x7F"];for(let I=0;I<x.length;I++)w[wp][ce.getCharCode(x[I])]=I;let v=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<v.length;I++)ce.getCharCode(v[I])>0&&(w[Mn][ce.getCharCode(v[I])]=I);return w}let Jl=KC(W.createInt32Array(5,256));class Ho{constructor(i){this.text=i}encode(){let i=ce.getCharCode(" "),o=ce.getCharCode(`
`),s=yp.singletonList(_n.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let d,f=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case ce.getCharCode("\r"):d=f===o?2:0;break;case ce.getCharCode("."):d=f===i?3:0;break;case ce.getCharCode(","):d=f===i?4:0;break;case ce.getCharCode(":"):d=f===i?5:0;break;default:d=0}d>0?(s=Ho.updateStateListForPair(s,u,d),u++):s=this.updateStateListForChar(s,u)}return yp.min(s,(u,d)=>u.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,o){let s=[];for(let c of i)this.updateStateForChar(c,o,s);return Ho.simplifyStates(s)}updateStateForChar(i,o,s){let c=this.text[o]&255,u=Jl[i.getMode()][c]>0,d=null;for(let f=0;f<=Mn;f++){let p=Jl[f][c];if(p>0){if(d==null&&(d=i.endBinaryShift(o)),!u||f===i.getMode()||f===en){let m=d.latchAndAppend(f,p);s.push(m)}if(!u&&Cp[i.getMode()][f]>=0){let m=d.shiftAndAppend(f,p);s.push(m)}}}if(i.getBinaryShiftByteCount()>0||Jl[i.getMode()][c]===0){let f=i.addBinaryShiftChar(o);s.push(f)}}static updateStateListForPair(i,o,s){let c=[];for(let u of i)this.updateStateForPair(u,o,s,c);return this.simplifyStates(c)}static updateStateForPair(i,o,s,c){let u=i.endBinaryShift(o);if(c.push(u.latchAndAppend(Mn,s)),i.getMode()!==Mn&&c.push(u.shiftAndAppend(Mn,s)),s===3||s===4){let d=u.latchAndAppend(en,16-s).latchAndAppend(en,1);c.push(d)}if(i.getBinaryShiftByteCount()>0){let d=i.addBinaryShiftChar(o).addBinaryShiftChar(o+1);c.push(d)}}static simplifyStates(i){let o=[];for(let s of i){let c=!0;for(let u of o){if(u.isBetterThanOrEqualTo(s)){c=!1;break}s.isBetterThanOrEqualTo(u)&&(o=o.filter(d=>d!==u))}c&&o.push(s)}return o}}class _e{constructor(){}static encodeBytes(i){return _e.encode(i,_e.DEFAULT_EC_PERCENT,_e.DEFAULT_AZTEC_LAYERS)}static encode(i,o,s){let c=new Ho(i).encode(),u=H.truncDivision(c.getSize()*o,100)+11,d=c.getSize()+u,f,p,m,x,v;if(s!==_e.DEFAULT_AZTEC_LAYERS){if(f=s<0,p=Math.abs(s),p>(f?_e.MAX_NB_BITS_COMPACT:_e.MAX_NB_BITS))throw new y(ce.format("Illegal value %s for layers",s));m=_e.totalBitsInLayer(p,f),x=_e.WORD_SIZE[p];let F=m-m%x;if(v=_e.stuffBits(c,x),v.getSize()+u>F)throw new y("Data to large for user specified layer");if(f&&v.getSize()>x*64)throw new y("Data to large for user specified layer")}else{x=0,v=null;for(let F=0;;F++){if(F>_e.MAX_NB_BITS)throw new y("Data too large for an Aztec code");if(f=F<=3,p=f?F+1:F,m=_e.totalBitsInLayer(p,f),d>m)continue;(v==null||x!==_e.WORD_SIZE[p])&&(x=_e.WORD_SIZE[p],v=_e.stuffBits(c,x));let xe=m-m%x;if(!(f&&v.getSize()>x*64)&&v.getSize()+u<=xe)break}}let I=_e.generateCheckWords(v,m,x),A=v.getSize()/x,S=_e.generateModeMessage(f,p,A),T=(f?11:14)+p*4,_=new Int32Array(T),O;if(f){O=T;for(let F=0;F<_.length;F++)_[F]=F}else{O=T+1+2*H.truncDivision(H.truncDivision(T,2)-1,15);let F=H.truncDivision(T,2),xe=H.truncDivision(O,2);for(let fe=0;fe<F;fe++){let kt=fe+H.truncDivision(fe,15);_[F-fe-1]=xe-kt-1,_[F+fe]=xe+kt+1}}let j=new ht(O);for(let F=0,xe=0;F<p;F++){let fe=(p-F)*4+(f?9:12);for(let kt=0;kt<fe;kt++){let wn=kt*2;for(let Bt=0;Bt<2;Bt++)I.get(xe+wn+Bt)&&j.set(_[F*2+Bt],_[F*2+kt]),I.get(xe+fe*2+wn+Bt)&&j.set(_[F*2+kt],_[T-1-F*2-Bt]),I.get(xe+fe*4+wn+Bt)&&j.set(_[T-1-F*2-Bt],_[T-1-F*2-kt]),I.get(xe+fe*6+wn+Bt)&&j.set(_[T-1-F*2-kt],_[F*2+Bt])}xe+=fe*8}if(_e.drawModeMessage(j,f,O,S),f)_e.drawBullsEye(j,H.truncDivision(O,2),5);else{_e.drawBullsEye(j,H.truncDivision(O,2),7);for(let F=0,xe=0;F<H.truncDivision(T,2)-1;F+=15,xe+=16)for(let fe=H.truncDivision(O,2)&1;fe<O;fe+=2)j.set(H.truncDivision(O,2)-xe,fe),j.set(H.truncDivision(O,2)+xe,fe),j.set(fe,H.truncDivision(O,2)-xe),j.set(fe,H.truncDivision(O,2)+xe)}let G=new mp;return G.setCompact(f),G.setSize(O),G.setLayers(p),G.setCodeWords(A),G.setMatrix(j),G}static drawBullsEye(i,o,s){for(let c=0;c<s;c+=2)for(let u=o-c;u<=o+c;u++)i.set(u,o-c),i.set(u,o+c),i.set(o-c,u),i.set(o+c,u);i.set(o-s,o-s),i.set(o-s+1,o-s),i.set(o-s,o-s+1),i.set(o+s,o-s),i.set(o+s,o-s+1),i.set(o+s,o+s-1)}static generateModeMessage(i,o,s){let c=new ee;return i?(c.appendBits(o-1,2),c.appendBits(s-1,6),c=_e.generateCheckWords(c,28,4)):(c.appendBits(o-1,5),c.appendBits(s-1,11),c=_e.generateCheckWords(c,40,4)),c}static drawModeMessage(i,o,s,c){let u=H.truncDivision(s,2);if(o)for(let d=0;d<7;d++){let f=u-3+d;c.get(d)&&i.set(f,u-5),c.get(d+7)&&i.set(u+5,f),c.get(20-d)&&i.set(f,u+5),c.get(27-d)&&i.set(u-5,f)}else for(let d=0;d<10;d++){let f=u-5+d+H.truncDivision(d,5);c.get(d)&&i.set(f,u-7),c.get(d+10)&&i.set(u+7,f),c.get(29-d)&&i.set(f,u+7),c.get(39-d)&&i.set(u-7,f)}}static generateCheckWords(i,o,s){let c=i.getSize()/s,u=new ql(_e.getGF(s)),d=H.truncDivision(o,s),f=_e.bitsToWords(i,s,d);u.encode(f,d-c);let p=o%s,m=new ee;m.appendBits(0,p);for(let x of Array.from(f))m.appendBits(x,s);return m}static bitsToWords(i,o,s){let c=new Int32Array(s),u,d;for(u=0,d=i.getSize()/o;u<d;u++){let f=0;for(let p=0;p<o;p++)f|=i.get(u*o+p)?1<<o-p-1:0;c[u]=f}return c}static getGF(i){switch(i){case 4:return Re.AZTEC_PARAM;case 6:return Re.AZTEC_DATA_6;case 8:return Re.AZTEC_DATA_8;case 10:return Re.AZTEC_DATA_10;case 12:return Re.AZTEC_DATA_12;default:throw new y("Unsupported word size "+i)}}static stuffBits(i,o){let s=new ee,c=i.getSize(),u=(1<<o)-2;for(let d=0;d<c;d+=o){let f=0;for(let p=0;p<o;p++)(d+p>=c||i.get(d+p))&&(f|=1<<o-1-p);(f&u)===u?(s.appendBits(f&u,o),d--):f&u?s.appendBits(f,o):(s.appendBits(f|1,o),d--)}return s}static totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}_e.DEFAULT_EC_PERCENT=33,_e.DEFAULT_AZTEC_LAYERS=0,_e.MAX_NB_BITS=32,_e.MAX_NB_BITS_COMPACT=4,_e.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ua{encode(i,o,s,c){return this.encodeWithHints(i,o,s,c,null)}encodeWithHints(i,o,s,c,u){let d=Xl.ISO_8859_1,f=_e.DEFAULT_EC_PERCENT,p=_e.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(ut.CHARACTER_SET)&&(d=gp.forName(u.get(ut.CHARACTER_SET).toString())),u.has(ut.ERROR_CORRECTION)&&(f=H.parseInt(u.get(ut.ERROR_CORRECTION).toString())),u.has(ut.AZTEC_LAYERS)&&(p=H.parseInt(u.get(ut.AZTEC_LAYERS).toString()))),ua.encodeLayers(i,o,s,c,d,f,p)}static encodeLayers(i,o,s,c,u,d,f){if(o!==ne.AZTEC)throw new y("Can only encode AZTEC, but got "+o);let p=_e.encode(ce.getBytes(i,u),d,f);return ua.renderResult(p,s,c)}static renderResult(i,o,s){let c=i.getMatrix();if(c==null)throw new jn;let u=c.getWidth(),d=c.getHeight(),f=Math.max(o,u),p=Math.max(s,d),m=Math.min(f/u,p/d),x=(f-u*m)/2,v=(p-d*m)/2,I=new ht(f,p);for(let A=0,S=v;A<d;A++,S+=m)for(let T=0,_=x;T<u;T++,_+=m)c.get(T,A)&&I.setRegion(_,S,m,m);return I}}t.AbstractExpandedDecoder=Bl,t.ArgumentException=C,t.ArithmeticException=Nl,t.AztecCode=mp,t.AztecCodeReader=ea,t.AztecCodeWriter=ua,t.AztecDecoder=Rl,t.AztecDetector=Kh,t.AztecDetectorResult=Xh,t.AztecEncoder=_e,t.AztecHighLevelEncoder=Ho,t.AztecPoint=Rt,t.BarcodeFormat=ne,t.Binarizer=N,t.BinaryBitmap=E,t.BitArray=ee,t.BitMatrix=ht,t.BitSource=Hl,t.BrowserAztecCodeReader=gC,t.BrowserBarcodeReader=DC,t.BrowserCodeReader=Pr,t.BrowserDatamatrixCodeReader=bC,t.BrowserMultiFormatReader=UC,t.BrowserPDF417Reader=jC,t.BrowserQRCodeReader=HC,t.BrowserQRCodeSvgWriter=GC,t.CharacterSetECI=V,t.ChecksumException=b,t.Code128Reader=z,t.Code39Reader=Ll,t.DataMatrixDecodedBitStreamParser=lr,t.DataMatrixReader=ia,t.DecodeHintType=oe,t.DecoderResult=No,t.DefaultGridSampler=Qh,t.DetectorResult=Ks,t.EAN13Reader=ta,t.EncodeHintType=ut,t.Exception=g,t.FormatException=B,t.GenericGF=Re,t.GenericGFPoly=Ft,t.GlobalHistogramBinarizer=pt,t.GridSampler=Ol,t.GridSamplerInstance=sr,t.HTMLCanvasElementLuminanceSource=or,t.HybridBinarizer=ge,t.ITFReader=ze,t.IllegalArgumentException=y,t.IllegalStateException=jn,t.InvertedLuminanceSource=ir,t.LuminanceSource=_o,t.MathUtils=Me,t.MultiFormatOneDReader=xi,t.MultiFormatReader=fp,t.MultiFormatWriter=WC,t.NotFoundException=P,t.OneDReader=ot,t.PDF417DecodedBitStreamParser=L,t.PDF417DecoderErrorCorrection=sp,t.PDF417Reader=xt,t.PDF417ResultMetadata=lp,t.PerspectiveTransform=hn,t.PlanarYUVLuminanceSource=$C,t.QRCodeByteMatrix=aa,t.QRCodeDataMask=Jt,t.QRCodeDecodedBitStreamParser=ip,t.QRCodeDecoderErrorCorrectionLevel=Ye,t.QRCodeDecoderFormatInformation=Tt,t.QRCodeEncoder=Xe,t.QRCodeEncoderQRCode=ca,t.QRCodeMaskUtil=vi,t.QRCodeMatrixUtil=re,t.QRCodeMode=te,t.QRCodeReader=ur,t.QRCodeVersion=J,t.QRCodeWriter=pp,t.RGBLuminanceSource=Zl,t.RSS14Reader=et,t.RSSExpandedReader=k,t.ReaderException=Yl,t.ReedSolomonDecoder=Lo,t.ReedSolomonEncoder=ql,t.ReedSolomonException=Oo,t.Result=Nt,t.ResultMetadataType=gt,t.ResultPoint=Q,t.StringUtils=ce,t.UnsupportedOperationException=zt,t.VideoInputDevice=Yh,t.WhiteRectangleDetector=Js,t.WriterException=qe,t.ZXingArrays=W,t.ZXingCharset=gp,t.ZXingInteger=H,t.ZXingStandardCharsets=Xl,t.ZXingStringBuilder=He,t.ZXingStringEncoding=bt,t.ZXingSystem=M,t.createAbstractExpandedDecoder=rp,Object.defineProperty(t,"__esModule",{value:!0})})});function Dp(t,e){return Object.is(t,e)}var dt=null,da=!1,fa=1,hr=Symbol("SIGNAL");function Ne(t){let e=dt;return dt=t,e}function Ap(){return dt}var Go={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function iu(t){if(da)throw new Error("");if(dt===null)return;dt.consumerOnSignalRead(t);let e=dt.nextProducerIndex++;if(ma(dt),e<dt.producerNode.length&&dt.producerNode[e]!==t&&zo(dt)){let n=dt.producerNode[e];ga(n,dt.producerIndexOfThis[e])}dt.producerNode[e]!==t&&(dt.producerNode[e]=t,dt.producerIndexOfThis[e]=zo(dt)?Mp(t,dt,e):0),dt.producerLastReadVersion[e]=t.version}function lx(){fa++}function bp(t){if(!(zo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===fa)){if(!t.producerMustRecompute(t)&&!su(t)){t.dirty=!1,t.lastCleanEpoch=fa;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=fa}}function Sp(t){if(t.liveConsumerNode===void 0)return;let e=da;da=!0;try{for(let n of t.liveConsumerNode)n.dirty||ux(n)}finally{da=e}}function Tp(){return dt?.consumerAllowSignalWrites!==!1}function ux(t){t.dirty=!0,Sp(t),t.consumerMarkedDirty?.(t)}function pa(t){return t&&(t.nextProducerIndex=0),Ne(t)}function ou(t,e){if(Ne(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(zo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ga(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function su(t){ma(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(bp(n),r!==n.version))return!0}return!1}function au(t){if(ma(t),zo(t))for(let e=0;e<t.producerNode.length;e++)ga(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Mp(t,e,n){if(_p(t),t.liveConsumerNode.length===0&&Np(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Mp(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ga(t,e){if(_p(t),t.liveConsumerNode.length===1&&Np(t))for(let r=0;r<t.producerNode.length;r++)ga(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],a=t.liveConsumerNode[e];ma(a),a.producerIndexOfThis[r]=e}}function zo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ma(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function _p(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Np(t){return t.producerNode!==void 0}function Rp(t){let e=Object.create(dx);e.computation=t;let n=()=>{if(bp(e),iu(e),e.value===ha)throw e.error;return e.value};return n[hr]=e,n}var nu=Symbol("UNSET"),ru=Symbol("COMPUTING"),ha=Symbol("ERRORED"),dx=be(q({},Go),{value:nu,dirty:!0,error:null,equal:Dp,producerMustRecompute(t){return t.value===nu||t.value===ru},producerRecomputeValue(t){if(t.value===ru)throw new Error("Detected cycle in computations.");let e=t.value;t.value=ru;let n=pa(t),r;try{r=t.computation()}catch(a){r=ha,t.error=a}finally{ou(t,n)}if(e!==nu&&e!==ha&&r!==ha&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function fx(){throw new Error}var Op=fx;function Lp(){Op()}function Fp(t){Op=t}var hx=null;function Pp(t){let e=Object.create(Bp);e.value=t;let n=()=>(iu(e),e.value);return n[hr]=e,n}function cu(t,e){Tp()||Lp(),t.equal(t.value,e)||(t.value=e,px(t))}function kp(t,e){Tp()||Lp(),cu(t,e(t.value))}var Bp=be(q({},Go),{equal:Dp,value:void 0});function px(t){t.version++,lx(),Sp(t),hx?.()}function de(t){return typeof t=="function"}function Ai(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ya=Ai(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,a)=>`${a+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Wo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var st=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let l of n)l.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(de(r))try{r()}catch(l){e=l instanceof ya?l.errors:[l]}let{_finalizers:a}=this;if(a){this._finalizers=null;for(let l of a)try{Vp(l)}catch(h){e=e??[],h instanceof ya?e=[...e,...h.errors]:e.push(h)}}if(e)throw new ya(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Vp(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Wo(n,e)}remove(e){let{_finalizers:n}=this;n&&Wo(n,e),e instanceof t&&e._removeParent(this)}};st.EMPTY=(()=>{let t=new st;return t.closed=!0,t})();var lu=st.EMPTY;function wa(t){return t instanceof st||t&&"closed"in t&&de(t.remove)&&de(t.add)&&de(t.unsubscribe)}function Vp(t){de(t)?t():t.unsubscribe()}var Cn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var bi={setTimeout(t,e,...n){let{delegate:r}=bi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=bi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ca(t){bi.setTimeout(()=>{let{onUnhandledError:e}=Cn;if(e)e(t);else throw t})}function $o(){}var Up=uu("C",void 0,void 0);function jp(t){return uu("E",void 0,t)}function Hp(t){return uu("N",t,void 0)}function uu(t,e,n){return{kind:t,value:e,error:n}}var jr=null;function Si(t){if(Cn.useDeprecatedSynchronousErrorHandling){let e=!jr;if(e&&(jr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=jr;if(jr=null,n)throw r}}else t()}function zp(t){Cn.useDeprecatedSynchronousErrorHandling&&jr&&(jr.errorThrown=!0,jr.error=t)}var Hr=class extends st{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,wa(e)&&e.add(this)):this.destination=yx}static create(e,n,r){return new Ti(e,n,r)}next(e){this.isStopped?fu(Hp(e),this):this._next(e)}error(e){this.isStopped?fu(jp(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?fu(Up,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},gx=Function.prototype.bind;function du(t,e){return gx.call(t,e)}var hu=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){xa(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){xa(r)}else xa(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){xa(n)}}},Ti=class extends Hr{constructor(e,n,r){super();let a;if(de(e)||!e)a={next:e??void 0,error:n??void 0,complete:r??void 0};else{let l;this&&Cn.useDeprecatedNextContext?(l=Object.create(e),l.unsubscribe=()=>this.unsubscribe(),a={next:e.next&&du(e.next,l),error:e.error&&du(e.error,l),complete:e.complete&&du(e.complete,l)}):a=e}this.destination=new hu(a)}};function xa(t){Cn.useDeprecatedSynchronousErrorHandling?zp(t):Ca(t)}function mx(t){throw t}function fu(t,e){let{onStoppedNotification:n}=Cn;n&&bi.setTimeout(()=>n(t,e))}var yx={closed:!0,next:$o,error:mx,complete:$o};var Mi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Wt(t){return t}function pu(...t){return gu(t)}function gu(t){return t.length===0?Wt:t.length===1?t[0]:function(n){return t.reduce((r,a)=>a(r),n)}}var Pe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,a){let l=Cx(n)?n:new Ti(n,r,a);return Si(()=>{let{operator:h,source:g}=this;l.add(h?h.call(l,g):g?this._subscribe(l):this._trySubscribe(l))}),l}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Gp(r),new r((a,l)=>{let h=new Ti({next:g=>{try{n(g)}catch(C){l(C),h.unsubscribe()}},error:l,complete:a});this.subscribe(h)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Mi](){return this}pipe(...n){return gu(n)(this)}toPromise(n){return n=Gp(n),new n((r,a)=>{let l;this.subscribe(h=>l=h,h=>a(h),()=>r(l))})}}return t.create=e=>new t(e),t})();function Gp(t){var e;return(e=t??Cn.Promise)!==null&&e!==void 0?e:Promise}function wx(t){return t&&de(t.next)&&de(t.error)&&de(t.complete)}function Cx(t){return t&&t instanceof Hr||wx(t)&&wa(t)}function mu(t){return de(t?.lift)}function Se(t){return e=>{if(mu(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ee(t,e,n,r,a){return new yu(t,e,n,r,a)}var yu=class extends Hr{constructor(e,n,r,a,l,h){super(e),this.onFinalize=l,this.shouldUnsubscribe=h,this._next=n?function(g){try{n(g)}catch(C){e.error(C)}}:super._next,this._error=a?function(g){try{a(g)}catch(C){e.error(C)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(g){e.error(g)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function _i(){return Se((t,e)=>{let n=null;t._refCount++;let r=Ee(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let a=t._connection,l=n;n=null,a&&(!l||a===l)&&a.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ni=class extends Pe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,mu(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new st;let n=this.getSubject();e.add(this.source.subscribe(Ee(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=st.EMPTY)}return e}refCount(){return _i()(this)}};var Wp=Ai(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Et=(()=>{class t extends Pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new va(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Wp}next(n){Si(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Si(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Si(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:a,observers:l}=this;return r||a?lu:(this.currentObservers=null,l.push(n),new st(()=>{this.currentObservers=null,Wo(l,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:a,isStopped:l}=this;r?n.error(a):l&&n.complete()}asObservable(){let n=new Pe;return n.source=this,n}}return t.create=(e,n)=>new va(e,n),t})(),va=class extends Et{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:lu}};var It=class extends Et{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var $t=new Pe(t=>t.complete());function $p(t){return t&&de(t.schedule)}function Yp(t){return t[t.length-1]}function Ea(t){return de(Yp(t))?t.pop():void 0}function pr(t){return $p(Yp(t))?t.pop():void 0}function Zp(t,e,n,r){function a(l){return l instanceof n?l:new n(function(h){h(l)})}return new(n||(n=Promise))(function(l,h){function g(E){try{y(r.next(E))}catch(b){h(b)}}function C(E){try{y(r.throw(E))}catch(b){h(b)}}function y(E){E.done?l(E.value):a(E.value).then(g,C)}y((r=r.apply(t,e||[])).next())})}function qp(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zr(t){return this instanceof zr?(this.v=t,this):new zr(t)}function Xp(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",h),a[Symbol.asyncIterator]=function(){return this},a;function h(M){return function(U){return Promise.resolve(U).then(M,b)}}function g(M,U){r[M]&&(a[M]=function(Y){return new Promise(function(W,H){l.push([M,Y,W,H])>1||C(M,Y)})},U&&(a[M]=U(a[M])))}function C(M,U){try{y(r[M](U))}catch(Y){N(l[0][3],Y)}}function y(M){M.value instanceof zr?Promise.resolve(M.value.v).then(E,b):N(l[0][2],M)}function E(M){C("next",M)}function b(M){C("throw",M)}function N(M,U){M(U),l.shift(),l.length&&C(l[0][0],l[0][1])}}function Qp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof qp=="function"?qp(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(l){n[l]=t[l]&&function(h){return new Promise(function(g,C){h=t[l](h),a(g,C,h.done,h.value)})}}function a(l,h,g,C){Promise.resolve(C).then(function(y){l({value:y,done:g})},h)}}var Ia=t=>t&&typeof t.length=="number"&&typeof t!="function";function Da(t){return de(t?.then)}function Aa(t){return de(t[Mi])}function ba(t){return Symbol.asyncIterator&&de(t?.[Symbol.asyncIterator])}function Sa(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function xx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ta=xx();function Ma(t){return de(t?.[Ta])}function _a(t){return Xp(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:a}=yield zr(n.read());if(a)return yield zr(void 0);yield yield zr(r)}}finally{n.releaseLock()}})}function Na(t){return de(t?.getReader)}function at(t){if(t instanceof Pe)return t;if(t!=null){if(Aa(t))return vx(t);if(Ia(t))return Ex(t);if(Da(t))return Ix(t);if(ba(t))return Kp(t);if(Ma(t))return Dx(t);if(Na(t))return Ax(t)}throw Sa(t)}function vx(t){return new Pe(e=>{let n=t[Mi]();if(de(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ex(t){return new Pe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Ix(t){return new Pe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ca)})}function Dx(t){return new Pe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Kp(t){return new Pe(e=>{bx(t,e).catch(n=>e.error(n))})}function Ax(t){return Kp(_a(t))}function bx(t,e){var n,r,a,l;return Zp(this,void 0,void 0,function*(){try{for(n=Qp(t);r=yield n.next(),!r.done;){let h=r.value;if(e.next(h),e.closed)return}}catch(h){a={error:h}}finally{try{r&&!r.done&&(l=n.return)&&(yield l.call(n))}finally{if(a)throw a.error}}e.complete()})}function Vt(t,e,n,r=0,a=!1){let l=e.schedule(function(){n(),a?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(l),!a)return l}function Ra(t,e=0){return Se((n,r)=>{n.subscribe(Ee(r,a=>Vt(r,t,()=>r.next(a),e),()=>Vt(r,t,()=>r.complete(),e),a=>Vt(r,t,()=>r.error(a),e)))})}function Oa(t,e=0){return Se((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Jp(t,e){return at(t).pipe(Oa(e),Ra(e))}function eg(t,e){return at(t).pipe(Oa(e),Ra(e))}function tg(t,e){return new Pe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function ng(t,e){return new Pe(n=>{let r;return Vt(n,e,()=>{r=t[Ta](),Vt(n,e,()=>{let a,l;try{({value:a,done:l}=r.next())}catch(h){n.error(h);return}l?n.complete():n.next(a)},0,!0)}),()=>de(r?.return)&&r.return()})}function La(t,e){if(!t)throw new Error("Iterable cannot be null");return new Pe(n=>{Vt(n,e,()=>{let r=t[Symbol.asyncIterator]();Vt(n,e,()=>{r.next().then(a=>{a.done?n.complete():n.next(a.value)})},0,!0)})})}function rg(t,e){return La(_a(t),e)}function ig(t,e){if(t!=null){if(Aa(t))return Jp(t,e);if(Ia(t))return tg(t,e);if(Da(t))return eg(t,e);if(ba(t))return La(t,e);if(Ma(t))return ng(t,e);if(Na(t))return rg(t,e)}throw Sa(t)}function nt(t,e){return e?ig(t,e):at(t)}function he(...t){let e=pr(t);return nt(t,e)}function Ri(t,e){let n=de(t)?t:()=>t,r=a=>a.error(n());return new Pe(e?a=>e.schedule(r,0,a):r)}function wu(t){return!!t&&(t instanceof Pe||de(t.lift)&&de(t.subscribe))}var Hn=Ai(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ve(t,e){return Se((n,r)=>{let a=0;n.subscribe(Ee(r,l=>{r.next(t.call(e,l,a++))}))})}var{isArray:Sx}=Array;function Tx(t,e){return Sx(e)?t(...e):t(e)}function Fa(t){return ve(e=>Tx(t,e))}var{isArray:Mx}=Array,{getPrototypeOf:_x,prototype:Nx,keys:Rx}=Object;function Pa(t){if(t.length===1){let e=t[0];if(Mx(e))return{args:e,keys:null};if(Ox(e)){let n=Rx(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Ox(t){return t&&typeof t=="object"&&_x(t)===Nx}function ka(t,e){return t.reduce((n,r,a)=>(n[r]=e[a],n),{})}function Ba(...t){let e=pr(t),n=Ea(t),{args:r,keys:a}=Pa(t);if(r.length===0)return nt([],e);let l=new Pe(Lx(r,e,a?h=>ka(a,h):Wt));return n?l.pipe(Fa(n)):l}function Lx(t,e,n=Wt){return r=>{og(e,()=>{let{length:a}=t,l=new Array(a),h=a,g=a;for(let C=0;C<a;C++)og(e,()=>{let y=nt(t[C],e),E=!1;y.subscribe(Ee(r,b=>{l[C]=b,E||(E=!0,g--),g||r.next(n(l.slice()))},()=>{--h||r.complete()}))},r)},r)}}function og(t,e,n){t?Vt(n,t,e):e()}function sg(t,e,n,r,a,l,h,g){let C=[],y=0,E=0,b=!1,N=()=>{b&&!C.length&&!y&&e.complete()},M=Y=>y<r?U(Y):C.push(Y),U=Y=>{l&&e.next(Y),y++;let W=!1;at(n(Y,E++)).subscribe(Ee(e,H=>{a?.(H),l?M(H):e.next(H)},()=>{W=!0},void 0,()=>{if(W)try{for(y--;C.length&&y<r;){let H=C.shift();h?Vt(e,h,()=>U(H)):U(H)}N()}catch(H){e.error(H)}}))};return t.subscribe(Ee(e,M,()=>{b=!0,N()})),()=>{g?.()}}function ft(t,e,n=1/0){return de(e)?ft((r,a)=>ve((l,h)=>e(r,l,a,h))(at(t(r,a))),n):(typeof e=="number"&&(n=e),Se((r,a)=>sg(r,a,t,n)))}function Cu(t=1/0){return ft(Wt,t)}function ag(){return Cu(1)}function Oi(...t){return ag()(nt(t,pr(t)))}function Va(t){return new Pe(e=>{at(t()).subscribe(e)})}function xu(...t){let e=Ea(t),{args:n,keys:r}=Pa(t),a=new Pe(l=>{let{length:h}=n;if(!h){l.complete();return}let g=new Array(h),C=h,y=h;for(let E=0;E<h;E++){let b=!1;at(n[E]).subscribe(Ee(l,N=>{b||(b=!0,y--),g[E]=N},()=>C--,void 0,()=>{(!C||!b)&&(y||l.next(r?ka(r,g):g),l.complete())}))}});return e?a.pipe(Fa(e)):a}function xn(t,e){return Se((n,r)=>{let a=0;n.subscribe(Ee(r,l=>t.call(e,l,a++)&&r.next(l)))})}function gr(t){return Se((e,n)=>{let r=null,a=!1,l;r=e.subscribe(Ee(n,void 0,void 0,h=>{l=at(t(h,gr(t)(e))),r?(r.unsubscribe(),r=null,l.subscribe(n)):a=!0})),a&&(r.unsubscribe(),r=null,l.subscribe(n))})}function cg(t,e,n,r,a){return(l,h)=>{let g=n,C=e,y=0;l.subscribe(Ee(h,E=>{let b=y++;C=g?t(C,E,b):(g=!0,E),r&&h.next(C)},a&&(()=>{g&&h.next(C),h.complete()})))}}function Li(t,e){return de(e)?ft(t,e,1):ft(t,1)}function mr(t){return Se((e,n)=>{let r=!1;e.subscribe(Ee(n,a=>{r=!0,n.next(a)},()=>{r||n.next(t),n.complete()}))})}function zn(t){return t<=0?()=>$t:Se((e,n)=>{let r=0;e.subscribe(Ee(n,a=>{++r<=t&&(n.next(a),t<=r&&n.complete())}))})}function vu(t){return ve(()=>t)}function Ua(t=Fx){return Se((e,n)=>{let r=!1;e.subscribe(Ee(n,a=>{r=!0,n.next(a)},()=>r?n.complete():n.error(t())))})}function Fx(){return new Hn}function Yo(t){return Se((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Nn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?xn((a,l)=>t(a,l,r)):Wt,zn(1),n?mr(e):Ua(()=>new Hn))}function Fi(t){return t<=0?()=>$t:Se((e,n)=>{let r=[];e.subscribe(Ee(n,a=>{r.push(a),t<r.length&&r.shift()},()=>{for(let a of r)n.next(a);n.complete()},void 0,()=>{r=null}))})}function Eu(t,e){let n=arguments.length>=2;return r=>r.pipe(t?xn((a,l)=>t(a,l,r)):Wt,Fi(1),n?mr(e):Ua(()=>new Hn))}function Iu(t,e){return Se(cg(t,e,arguments.length>=2,!0))}function Du(...t){let e=pr(t);return Se((n,r)=>{(e?Oi(t,n,e):Oi(t,n)).subscribe(r)})}function vn(t,e){return Se((n,r)=>{let a=null,l=0,h=!1,g=()=>h&&!a&&r.complete();n.subscribe(Ee(r,C=>{a?.unsubscribe();let y=0,E=l++;at(t(C,E)).subscribe(a=Ee(r,b=>r.next(e?e(C,b,E,y++):b),()=>{a=null,g()}))},()=>{h=!0,g()}))})}function Au(t){return Se((e,n)=>{at(t).subscribe(Ee(n,()=>n.complete(),$o)),!n.closed&&e.subscribe(n)})}function Dt(t,e,n){let r=de(t)||e||n?{next:t,error:e,complete:n}:t;return r?Se((a,l)=>{var h;(h=r.subscribe)===null||h===void 0||h.call(r);let g=!0;a.subscribe(Ee(l,C=>{var y;(y=r.next)===null||y===void 0||y.call(r,C),l.next(C)},()=>{var C;g=!1,(C=r.complete)===null||C===void 0||C.call(r),l.complete()},C=>{var y;g=!1,(y=r.error)===null||y===void 0||y.call(r,C),l.error(C)},()=>{var C,y;g&&((C=r.unsubscribe)===null||C===void 0||C.call(r)),(y=r.finalize)===null||y===void 0||y.call(r)}))}):Wt}var Px="https://g.co/ng/security#xss",ie=class extends Error{constructor(e,n){super(Md(e,n)),this.code=e}};function Md(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function mc(t){return{toString:t}.toString()}function $e(t){for(let e in t)if(t[e]===$e)return e;throw Error("Could not find renamed property on target object.")}function kx(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ut(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ut).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function lg(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Bx=$e({__forward_ref__:$e});function Ki(t){return t.__forward_ref__=Ki,t.toString=function(){return Ut(this())},t}function Ot(t){return Yg(t)?t():t}function Yg(t){return typeof t=="function"&&t.hasOwnProperty(Bx)&&t.__forward_ref__===Ki}function ue(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ji(t){return{providers:t.providers||[],imports:t.imports||[]}}function yc(t){return ug(t,Zg)||ug(t,Xg)}function qg(t){return yc(t)!==null}function ug(t,e){return t.hasOwnProperty(e)?t[e]:null}function Vx(t){let e=t&&(t[Zg]||t[Xg]);return e||null}function dg(t){return t&&(t.hasOwnProperty(fg)||t.hasOwnProperty(Ux))?t[fg]:null}var Zg=$e({\u0275prov:$e}),fg=$e({\u0275inj:$e}),Xg=$e({ngInjectableDef:$e}),Ux=$e({ngInjectorDef:$e}),ae=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ue({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Qg(t){return t&&!!t.\u0275providers}var jx=$e({\u0275cmp:$e}),Hx=$e({\u0275dir:$e}),zx=$e({\u0275pipe:$e}),Gx=$e({\u0275mod:$e}),Xa=$e({\u0275fac:$e}),Xo=$e({__NG_ELEMENT_ID__:$e}),hg=$e({__NG_ENV_ID__:$e});function Kg(t){return typeof t=="string"?t:t==null?"":String(t)}function Wx(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Kg(t)}function $x(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ie(-200,t)}function _d(t,e){throw new ie(-201,!1)}var Ce=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ce||{}),Vu;function Jg(){return Vu}function tn(t){let e=Vu;return Vu=t,e}function e0(t,e,n){let r=yc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Ce.Optional)return null;if(e!==void 0)return e;_d(t,"Injector")}var Yx={},Qo=Yx,qx="__NG_DI_FLAG__",Qa="ngTempTokenPath",Zx="ngTokenPath",Xx=/\n/gm,Qx="\u0275",pg="__source",Vi;function Kx(){return Vi}function yr(t){let e=Vi;return Vi=t,e}function Jx(t,e=Ce.Default){if(Vi===void 0)throw new ie(-203,!1);return Vi===null?e0(t,void 0,e):Vi.get(t,e&Ce.Optional?null:void 0,e)}function Ie(t,e=Ce.Default){return(Jg()||Jx)(Ot(t),e)}function $(t,e=Ce.Default){return Ie(t,wc(e))}function wc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Uu(t){let e=[];for(let n=0;n<t.length;n++){let r=Ot(t[n]);if(Array.isArray(r)){if(r.length===0)throw new ie(900,!1);let a,l=Ce.Default;for(let h=0;h<r.length;h++){let g=r[h],C=ev(g);typeof C=="number"?C===-1?a=g.token:l|=C:a=g}e.push(Ie(a,l))}else e.push(Ie(r))}return e}function ev(t){return t[qx]}function tv(t,e,n,r){let a=t[Qa];throw e[pg]&&a.unshift(e[pg]),t.message=nv(`
`+t.message,a,n,r),t[Zx]=a,t[Qa]=null,t}function nv(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Qx?t.slice(2):t;let a=Ut(e);if(Array.isArray(e))a=e.map(Ut).join(" -> ");else if(typeof e=="object"){let l=[];for(let h in e)if(e.hasOwnProperty(h)){let g=e[h];l.push(h+":"+(typeof g=="string"?JSON.stringify(g):Ut(g)))}a=`{${l.join(", ")}}`}return`${n}${r?"("+r+")":""}[${a}]: ${t.replace(Xx,`
  `)}`}function ji(t,e){let n=t.hasOwnProperty(Xa);return n?t[Xa]:null}function rv(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let a=t[r],l=e[r];if(n&&(a=n(a),l=n(l)),l!==a)return!1}return!0}function iv(t){return t.flat(Number.POSITIVE_INFINITY)}function Nd(t,e){t.forEach(n=>Array.isArray(n)?Nd(n,e):e(n))}function t0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ka(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ov(t,e,n,r){let a=t.length;if(a==e)t.push(n,r);else if(a===1)t.push(r,t[0]),t[0]=n;else{for(a--,t.push(t[a-1],t[a]);a>e;){let l=a-2;t[a]=t[l],a--}t[e]=n,t[e+1]=r}}function sv(t,e,n){let r=os(t,e);return r>=0?t[r|1]=n:(r=~r,ov(t,r,e,n)),r}function bu(t,e){let n=os(t,e);if(n>=0)return t[n|1]}function os(t,e){return av(t,e,1)}function av(t,e,n){let r=0,a=t.length>>n;for(;a!==r;){let l=r+(a-r>>1),h=t[l<<n];if(e===h)return l<<n;h>e?a=l:r=l+1}return~(a<<n)}var Hi={},nn=[],zi=new ae(""),n0=new ae("",-1),r0=new ae(""),Ja=class{get(e,n=Qo){if(n===Qo){let r=new Error(`NullInjectorError: No provider for ${Ut(e)}!`);throw r.name="NullInjectorError",r}return n}},i0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(i0||{}),Ln=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ln||{}),xr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(xr||{});function cv(t,e,n){let r=t.length;for(;;){let a=t.indexOf(e,n);if(a===-1)return a;if(a===0||t.charCodeAt(a-1)<=32){let l=e.length;if(a+l===r||t.charCodeAt(a+l)<=32)return a}n=a+1}}function ju(t,e,n){let r=0;for(;r<n.length;){let a=n[r];if(typeof a=="number"){if(a!==0)break;r++;let l=n[r++],h=n[r++],g=n[r++];t.setAttribute(e,h,g,l)}else{let l=a,h=n[++r];uv(l)?t.setProperty(e,l,h):t.setAttribute(e,l,h),r++}}return r}function lv(t){return t===3||t===4||t===6}function uv(t){return t.charCodeAt(0)===64}function Ko(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let a=e[r];typeof a=="number"?n=a:n===0||(n===-1||n===2?gg(t,n,a,null,e[++r]):gg(t,n,a,null,null))}}return t}function gg(t,e,n,r,a){let l=0,h=t.length;if(e===-1)h=-1;else for(;l<t.length;){let g=t[l++];if(typeof g=="number"){if(g===e){h=-1;break}else if(g>e){h=l-1;break}}}for(;l<t.length;){let g=t[l];if(typeof g=="number")break;if(g===n){if(r===null){a!==null&&(t[l+1]=a);return}else if(r===t[l+1]){t[l+2]=a;return}}l++,r!==null&&l++,a!==null&&l++}h!==-1&&(t.splice(h,0,e),l=h+1),t.splice(l++,0,n),r!==null&&t.splice(l++,0,r),a!==null&&t.splice(l++,0,a)}var o0="ng-template";function dv(t,e,n,r){let a=0;if(r){for(;a<e.length&&typeof e[a]=="string";a+=2)if(e[a]==="class"&&cv(e[a+1].toLowerCase(),n,0)!==-1)return!0}else if(Rd(t))return!1;if(a=e.indexOf(1,a),a>-1){let l;for(;++a<e.length&&typeof(l=e[a])=="string";)if(l.toLowerCase()===n)return!0}return!1}function Rd(t){return t.type===4&&t.value!==o0}function fv(t,e,n){let r=t.type===4&&!n?o0:t.value;return e===r}function hv(t,e,n){let r=4,a=t.attrs,l=a!==null?mv(a):0,h=!1;for(let g=0;g<e.length;g++){let C=e[g];if(typeof C=="number"){if(!h&&!En(r)&&!En(C))return!1;if(h&&En(C))continue;h=!1,r=C|r&1;continue}if(!h)if(r&4){if(r=2|r&1,C!==""&&!fv(t,C,n)||C===""&&e.length===1){if(En(r))return!1;h=!0}}else if(r&8){if(a===null||!dv(t,a,C,n)){if(En(r))return!1;h=!0}}else{let y=e[++g],E=pv(C,a,Rd(t),n);if(E===-1){if(En(r))return!1;h=!0;continue}if(y!==""){let b;if(E>l?b="":b=a[E+1].toLowerCase(),r&2&&y!==b){if(En(r))return!1;h=!0}}}}return En(r)||h}function En(t){return(t&1)===0}function pv(t,e,n,r){if(e===null)return-1;let a=0;if(r||!n){let l=!1;for(;a<e.length;){let h=e[a];if(h===t)return a;if(h===3||h===6)l=!0;else if(h===1||h===2){let g=e[++a];for(;typeof g=="string";)g=e[++a];continue}else{if(h===4)break;if(h===0){a+=4;continue}}a+=l?1:2}return-1}else return yv(e,t)}function gv(t,e,n=!1){for(let r=0;r<e.length;r++)if(hv(t,e[r],n))return!0;return!1}function mv(t){for(let e=0;e<t.length;e++){let n=t[e];if(lv(n))return e}return t.length}function yv(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function mg(t,e){return t?":not("+e.trim()+")":e}function wv(t){let e=t[0],n=1,r=2,a="",l=!1;for(;n<t.length;){let h=t[n];if(typeof h=="string")if(r&2){let g=t[++n];a+="["+h+(g.length>0?'="'+g+'"':"")+"]"}else r&8?a+="."+h:r&4&&(a+=" "+h);else a!==""&&!En(h)&&(e+=mg(l,a),a=""),r=h,l=l||!En(r);n++}return a!==""&&(e+=mg(l,a)),e}function Cv(t){return t.map(wv).join(",")}function xv(t){let e=[],n=[],r=1,a=2;for(;r<t.length;){let l=t[r];if(typeof l=="string")a===2?l!==""&&e.push(l,t[++r]):a===8&&n.push(l);else{if(!En(a))break;a=l}r++}return{attrs:e,classes:n}}function Dr(t){return mc(()=>{let e=u0(t),n=be(q({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===i0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ln.Emulated,styles:t.styles||nn,_:null,schemas:t.schemas||null,tView:null,id:""});d0(n);let r=t.dependencies;return n.directiveDefs=wg(r,!1),n.pipeDefs=wg(r,!0),n.id=Iv(n),n})}function vv(t){return Yr(t)||s0(t)}function Ev(t){return t!==null}function eo(t){return mc(()=>({type:t.type,bootstrap:t.bootstrap||nn,declarations:t.declarations||nn,imports:t.imports||nn,exports:t.exports||nn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function yg(t,e){if(t==null)return Hi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let a=t[r],l,h,g=xr.None;Array.isArray(a)?(g=a[0],l=a[1],h=a[2]??l):(l=a,h=a),e?(n[l]=g!==xr.None?[r,g]:r,e[l]=h):n[l]=r}return n}function sn(t){return mc(()=>{let e=u0(t);return d0(e),e})}function Yr(t){return t[jx]||null}function s0(t){return t[Hx]||null}function a0(t){return t[zx]||null}function c0(t){let e=Yr(t)||s0(t)||a0(t);return e!==null?e.standalone:!1}function l0(t,e){let n=t[Gx]||null;if(!n&&e===!0)throw new Error(`Type ${Ut(t)} does not have '\u0275mod' property.`);return n}function u0(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Hi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||nn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yg(t.inputs,e),outputs:yg(t.outputs),debugInfo:null}}function d0(t){t.features?.forEach(e=>e(t))}function wg(t,e){if(!t)return null;let n=e?a0:vv;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Ev)}function Iv(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let a of n)e=Math.imul(31,e)+a.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Cc(t){return{\u0275providers:t}}function Dv(...t){return{\u0275providers:f0(!0,t),\u0275fromNgModule:!0}}function f0(t,...e){let n=[],r=new Set,a,l=h=>{n.push(h)};return Nd(e,h=>{let g=h;Hu(g,l,[],r)&&(a||=[],a.push(g))}),a!==void 0&&h0(a,l),n}function h0(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:a}=t[n];Od(a,l=>{e(l,r)})}}function Hu(t,e,n,r){if(t=Ot(t),!t)return!1;let a=null,l=dg(t),h=!l&&Yr(t);if(!l&&!h){let C=t.ngModule;if(l=dg(C),l)a=C;else return!1}else{if(h&&!h.standalone)return!1;a=t}let g=r.has(a);if(h){if(g)return!1;if(r.add(a),h.dependencies){let C=typeof h.dependencies=="function"?h.dependencies():h.dependencies;for(let y of C)Hu(y,e,n,r)}}else if(l){if(l.imports!=null&&!g){r.add(a);let y;try{Nd(l.imports,E=>{Hu(E,e,n,r)&&(y||=[],y.push(E))})}finally{}y!==void 0&&h0(y,e)}if(!g){let y=ji(a)||(()=>new a);e({provide:a,useFactory:y,deps:nn},a),e({provide:r0,useValue:a,multi:!0},a),e({provide:zi,useValue:()=>Ie(a),multi:!0},a)}let C=l.providers;if(C!=null&&!g){let y=t;Od(C,E=>{e(E,y)})}}else return!1;return a!==t&&t.providers!==void 0}function Od(t,e){for(let n of t)Qg(n)&&(n=n.\u0275providers),Array.isArray(n)?Od(n,e):e(n)}var Av=$e({provide:String,useValue:$e});function p0(t){return t!==null&&typeof t=="object"&&Av in t}function bv(t){return!!(t&&t.useExisting)}function Sv(t){return!!(t&&t.useFactory)}function Gi(t){return typeof t=="function"}function Tv(t){return!!t.useClass}var xc=new ae(""),Ga={},Mv={},Su;function Ld(){return Su===void 0&&(Su=new Ja),Su}var on=class{},Jo=class extends on{get destroyed(){return this._destroyed}constructor(e,n,r,a){super(),this.parent=n,this.source=r,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gu(e,h=>this.processProvider(h)),this.records.set(n0,Pi(void 0,this)),a.has("environment")&&this.records.set(on,Pi(void 0,this));let l=this.records.get(xc);l!=null&&typeof l.value=="string"&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(r0,nn,Ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ne(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ne(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=yr(this),r=tn(void 0),a;try{return e()}finally{yr(n),tn(r)}}get(e,n=Qo,r=Ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(hg))return e[hg](this);r=wc(r);let a,l=yr(this),h=tn(void 0);try{if(!(r&Ce.SkipSelf)){let C=this.records.get(e);if(C===void 0){let y=Lv(e)&&yc(e);y&&this.injectableDefInScope(y)?C=Pi(zu(e),Ga):C=null,this.records.set(e,C)}if(C!=null)return this.hydrate(e,C)}let g=r&Ce.Self?Ld():this.parent;return n=r&Ce.Optional&&n===Qo?null:n,g.get(e,n)}catch(g){if(g.name==="NullInjectorError"){if((g[Qa]=g[Qa]||[]).unshift(Ut(e)),l)throw g;return tv(g,e,"R3InjectorError",this.source)}else throw g}finally{tn(h),yr(l)}}resolveInjectorInitializers(){let e=Ne(null),n=yr(this),r=tn(void 0),a;try{let l=this.get(zi,nn,Ce.Self);for(let h of l)h()}finally{yr(n),tn(r),Ne(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ie(205,!1)}processProvider(e){e=Ot(e);let n=Gi(e)?e:Ot(e&&e.provide),r=Nv(e);if(!Gi(e)&&e.multi===!0){let a=this.records.get(n);a||(a=Pi(void 0,Ga,!0),a.factory=()=>Uu(a.multi),this.records.set(n,a)),n=e,a.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ne(null);try{return n.value===Ga&&(n.value=Mv,n.value=n.factory()),typeof n.value=="object"&&n.value&&Ov(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ne(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ot(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function zu(t){let e=yc(t),n=e!==null?e.factory:ji(t);if(n!==null)return n;if(t instanceof ae)throw new ie(204,!1);if(t instanceof Function)return _v(t);throw new ie(204,!1)}function _v(t){if(t.length>0)throw new ie(204,!1);let n=Vx(t);return n!==null?()=>n.factory(t):()=>new t}function Nv(t){if(p0(t))return Pi(void 0,t.useValue);{let e=g0(t);return Pi(e,Ga)}}function g0(t,e,n){let r;if(Gi(t)){let a=Ot(t);return ji(a)||zu(a)}else if(p0(t))r=()=>Ot(t.useValue);else if(Sv(t))r=()=>t.useFactory(...Uu(t.deps||[]));else if(bv(t))r=()=>Ie(Ot(t.useExisting));else{let a=Ot(t&&(t.useClass||t.provide));if(Rv(t))r=()=>new a(...Uu(t.deps));else return ji(a)||zu(a)}return r}function Pi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Rv(t){return!!t.deps}function Ov(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Lv(t){return typeof t=="function"||typeof t=="object"&&t instanceof ae}function Gu(t,e){for(let n of t)Array.isArray(n)?Gu(n,e):n&&Qg(n)?Gu(n.\u0275providers,e):e(n)}function qn(t,e){t instanceof Jo&&t.assertNotDestroyed();let n,r=yr(t),a=tn(void 0);try{return e()}finally{yr(r),tn(a)}}function Fv(){return Jg()!==void 0||Kx()!=null}function Pv(t){return typeof t=="function"}var Zn=0,ye=1,le=2,Mt=3,In=4,Dn=5,ec=6,tc=7,Fn=8,Wi=9,Gn=10,Lt=11,es=12,Cg=13,ss=14,Pn=15,qr=16,ki=17,Wn=18,vc=19,m0=20,wr=21,Tu=22,rn=23,Zr=25,y0=1;var Xr=7,nc=8,$i=9,Yt=10,rc=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(rc||{});function Cr(t){return Array.isArray(t)&&typeof t[y0]=="object"}function Xn(t){return Array.isArray(t)&&t[y0]===!0}function w0(t){return(t.flags&4)!==0}function Ec(t){return t.componentOffset>-1}function C0(t){return(t.flags&1)===1}function vr(t){return!!t.template}function Wu(t){return(t[le]&512)!==0}var $u=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function x0(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function ri(){return v0}function v0(t){return t.type.prototype.ngOnChanges&&(t.setInput=Bv),kv}ri.ngInherit=!0;function kv(){let t=I0(this),e=t?.current;if(e){let n=t.previous;if(n===Hi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Bv(t,e,n,r,a){let l=this.declaredInputs[r],h=I0(t)||Vv(t,{previous:Hi,current:null}),g=h.current||(h.current={}),C=h.previous,y=C[l];g[l]=new $u(y&&y.currentValue,n,C===Hi),x0(t,e,a,n)}var E0="__ngSimpleChanges__";function I0(t){return t[E0]||null}function Vv(t,e){return t[E0]=e}var xg=null;var Rn=function(t,e,n){xg?.(t,e,n)},Uv="svg",jv="math";function kn(t){for(;Array.isArray(t);)t=t[Zn];return t}function D0(t,e){return kn(e[t])}function An(t,e){return kn(e[t.index])}function A0(t,e){return t.data[e]}function Ar(t,e){let n=e[t];return Cr(n)?n:n[Zn]}function Hv(t){return(t[le]&4)===4}function Fd(t){return(t[le]&128)===128}function zv(t){return Xn(t[Mt])}function vg(t,e){return e==null?null:t[e]}function b0(t){t[ki]=0}function S0(t){t[le]&1024||(t[le]|=1024,Fd(t)&&Dc(t))}function Ic(t){return!!(t[le]&9216||t[rn]?.dirty)}function Yu(t){t[Gn].changeDetectionScheduler?.notify(8),t[le]&64&&(t[le]|=1024),Ic(t)&&Dc(t)}function Dc(t){t[Gn].changeDetectionScheduler?.notify(0);let e=Qr(t);for(;e!==null&&!(e[le]&8192||(e[le]|=8192,!Fd(e)));)e=Qr(e)}function T0(t,e){if((t[le]&256)===256)throw new ie(911,!1);t[wr]===null&&(t[wr]=[]),t[wr].push(e)}function Gv(t,e){if(t[wr]===null)return;let n=t[wr].indexOf(e);n!==-1&&t[wr].splice(n,1)}function Qr(t){let e=t[Mt];return Xn(e)?e[Mt]:e}var Ae={lFrame:B0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var M0=!1;function Wv(){return Ae.lFrame.elementDepthCount}function $v(){Ae.lFrame.elementDepthCount++}function Yv(){Ae.lFrame.elementDepthCount--}function _0(){return Ae.bindingsEnabled}function qv(){return Ae.skipHydrationRootTNode!==null}function Zv(t){return Ae.skipHydrationRootTNode===t}function Xv(){Ae.skipHydrationRootTNode=null}function Qe(){return Ae.lFrame.lView}function bn(){return Ae.lFrame.tView}function Ac(t){return Ae.lFrame.contextLView=t,t[Fn]}function bc(t){return Ae.lFrame.contextLView=null,t}function qt(){let t=N0();for(;t!==null&&t.type===64;)t=t.parent;return t}function N0(){return Ae.lFrame.currentTNode}function Qv(){let t=Ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Sc(t,e){let n=Ae.lFrame;n.currentTNode=t,n.isParent=e}function R0(){return Ae.lFrame.isParent}function Kv(){Ae.lFrame.isParent=!1}function O0(){return M0}function Eg(t){M0=t}function Jv(t){return Ae.lFrame.bindingIndex=t}function L0(){return Ae.lFrame.bindingIndex++}function eE(t){let e=Ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function tE(){return Ae.lFrame.inI18n}function nE(t,e){let n=Ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,qu(e)}function rE(){return Ae.lFrame.currentDirectiveIndex}function qu(t){Ae.lFrame.currentDirectiveIndex=t}function iE(t){let e=Ae.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function F0(){return Ae.lFrame.currentQueryIndex}function Pd(t){Ae.lFrame.currentQueryIndex=t}function oE(t){let e=t[ye];return e.type===2?e.declTNode:e.type===1?t[Dn]:null}function P0(t,e,n){if(n&Ce.SkipSelf){let a=e,l=t;for(;a=a.parent,a===null&&!(n&Ce.Host);)if(a=oE(l),a===null||(l=l[ss],a.type&10))break;if(a===null)return!1;e=a,t=l}let r=Ae.lFrame=k0();return r.currentTNode=e,r.lView=t,!0}function kd(t){let e=k0(),n=t[ye];Ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function k0(){let t=Ae.lFrame,e=t===null?null:t.child;return e===null?B0(t):e}function B0(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function V0(){let t=Ae.lFrame;return Ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var U0=V0;function Bd(){let t=V0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function to(){return Ae.lFrame.selectedIndex}function Kr(t){Ae.lFrame.selectedIndex=t}function sE(){let t=Ae.lFrame;return A0(t.tView,t.selectedIndex)}function aE(){return Ae.lFrame.currentNamespace}var j0=!0;function H0(){return j0}function z0(t){j0=t}function cE(t,e,n){let{ngOnChanges:r,ngOnInit:a,ngDoCheck:l}=e.type.prototype;if(r){let h=v0(e);(n.preOrderHooks??=[]).push(t,h),(n.preOrderCheckHooks??=[]).push(t,h)}a&&(n.preOrderHooks??=[]).push(0-t,a),l&&((n.preOrderHooks??=[]).push(t,l),(n.preOrderCheckHooks??=[]).push(t,l))}function G0(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let l=t.data[n].type.prototype,{ngAfterContentInit:h,ngAfterContentChecked:g,ngAfterViewInit:C,ngAfterViewChecked:y,ngOnDestroy:E}=l;h&&(t.contentHooks??=[]).push(-n,h),g&&((t.contentHooks??=[]).push(n,g),(t.contentCheckHooks??=[]).push(n,g)),C&&(t.viewHooks??=[]).push(-n,C),y&&((t.viewHooks??=[]).push(n,y),(t.viewCheckHooks??=[]).push(n,y)),E!=null&&(t.destroyHooks??=[]).push(n,E)}}function Wa(t,e,n){W0(t,e,3,n)}function $a(t,e,n,r){(t[le]&3)===n&&W0(t,e,n,r)}function Mu(t,e){let n=t[le];(n&3)===e&&(n&=16383,n+=1,t[le]=n)}function W0(t,e,n,r){let a=r!==void 0?t[ki]&65535:0,l=r??-1,h=e.length-1,g=0;for(let C=a;C<h;C++)if(typeof e[C+1]=="number"){if(g=e[C],r!=null&&g>=r)break}else e[C]<0&&(t[ki]+=65536),(g<l||l==-1)&&(lE(t,n,e,C),t[ki]=(t[ki]&4294901760)+C+2),C++}function Ig(t,e){Rn(4,t,e);let n=Ne(null);try{e.call(t)}finally{Ne(n),Rn(5,t,e)}}function lE(t,e,n,r){let a=n[r]<0,l=n[r+1],h=a?-n[r]:n[r],g=t[h];a?t[le]>>14<t[ki]>>16&&(t[le]&3)===e&&(t[le]+=16384,Ig(g,l)):Ig(g,l)}var Ui=-1,Jr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function uE(t){return t instanceof Jr}function dE(t){return(t.flags&8)!==0}function fE(t){return(t.flags&16)!==0}var _u={},Zu=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=wc(r);let a=this.injector.get(e,_u,r);return a!==_u||n===_u?a:this.parentInjector.get(e,n,r)}};function $0(t){return t!==Ui}function ic(t){return t&32767}function hE(t){return t>>16}function oc(t,e){let n=hE(t),r=e;for(;n>0;)r=r[ss],n--;return r}var Xu=!0;function Dg(t){let e=Xu;return Xu=t,e}var pE=256,Y0=pE-1,q0=5,gE=0,On={};function mE(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Xo)&&(r=n[Xo]),r==null&&(r=n[Xo]=gE++);let a=r&Y0,l=1<<a;e.data[t+(a>>q0)]|=l}function sc(t,e){let n=Z0(t,e);if(n!==-1)return n;let r=e[ye];r.firstCreatePass&&(t.injectorIndex=e.length,Nu(r.data,t),Nu(e,null),Nu(r.blueprint,null));let a=Vd(t,e),l=t.injectorIndex;if($0(a)){let h=ic(a),g=oc(a,e),C=g[ye].data;for(let y=0;y<8;y++)e[l+y]=g[h+y]|C[h+y]}return e[l+8]=a,l}function Nu(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Z0(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Vd(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,a=e;for(;a!==null;){if(r=e1(a),r===null)return Ui;if(n++,a=a[ss],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ui}function Qu(t,e,n){mE(t,e,n)}function X0(t,e,n){if(n&Ce.Optional||t!==void 0)return t;_d(e,"NodeInjector")}function Q0(t,e,n,r){if(n&Ce.Optional&&r===void 0&&(r=null),!(n&(Ce.Self|Ce.Host))){let a=t[Wi],l=tn(void 0);try{return a?a.get(e,r,n&Ce.Optional):e0(e,r,n&Ce.Optional)}finally{tn(l)}}return X0(r,e,n)}function K0(t,e,n,r=Ce.Default,a){if(t!==null){if(e[le]&2048&&!(r&Ce.Self)){let h=xE(t,e,n,r,On);if(h!==On)return h}let l=J0(t,e,n,r,On);if(l!==On)return l}return Q0(e,n,r,a)}function J0(t,e,n,r,a){let l=wE(n);if(typeof l=="function"){if(!P0(e,t,r))return r&Ce.Host?X0(a,n,r):Q0(e,n,r,a);try{let h;if(h=l(r),h==null&&!(r&Ce.Optional))_d(n);else return h}finally{U0()}}else if(typeof l=="number"){let h=null,g=Z0(t,e),C=Ui,y=r&Ce.Host?e[Pn][Dn]:null;for((g===-1||r&Ce.SkipSelf)&&(C=g===-1?Vd(t,e):e[g+8],C===Ui||!bg(r,!1)?g=-1:(h=e[ye],g=ic(C),e=oc(C,e)));g!==-1;){let E=e[ye];if(Ag(l,g,E.data)){let b=yE(g,e,n,h,r,y);if(b!==On)return b}C=e[g+8],C!==Ui&&bg(r,e[ye].data[g+8]===y)&&Ag(l,g,e)?(h=E,g=ic(C),e=oc(C,e)):g=-1}}return a}function yE(t,e,n,r,a,l){let h=e[ye],g=h.data[t+8],C=r==null?Ec(g)&&Xu:r!=h&&(g.type&3)!==0,y=a&Ce.Host&&l===g,E=Ya(g,h,n,C,y);return E!==null?ei(e,h,E,g):On}function Ya(t,e,n,r,a){let l=t.providerIndexes,h=e.data,g=l&1048575,C=t.directiveStart,y=t.directiveEnd,E=l>>20,b=r?g:g+E,N=a?g+E:y;for(let M=b;M<N;M++){let U=h[M];if(M<C&&n===U||M>=C&&U.type===n)return M}if(a){let M=h[C];if(M&&vr(M)&&M.type===n)return C}return null}function ei(t,e,n,r){let a=t[n],l=e.data;if(uE(a)){let h=a;h.resolving&&$x(Wx(l[n]));let g=Dg(h.canSeeViewProviders);h.resolving=!0;let C,y=h.injectImpl?tn(h.injectImpl):null,E=P0(t,r,Ce.Default);try{a=t[n]=h.factory(void 0,l,t,r),e.firstCreatePass&&n>=r.directiveStart&&cE(n,l[n],e)}finally{y!==null&&tn(y),Dg(g),h.resolving=!1,U0()}}return a}function wE(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Xo)?t[Xo]:void 0;return typeof e=="number"?e>=0?e&Y0:CE:e}function Ag(t,e,n){let r=1<<t;return!!(n[e+(t>>q0)]&r)}function bg(t,e){return!(t&Ce.Self)&&!(t&Ce.Host&&e)}var $r=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return K0(this._tNode,this._lView,e,wc(r),n)}};function CE(){return new $r(qt(),Qe())}function as(t){return mc(()=>{let e=t.prototype.constructor,n=e[Xa]||Ku(e),r=Object.prototype,a=Object.getPrototypeOf(t.prototype).constructor;for(;a&&a!==r;){let l=a[Xa]||Ku(a);if(l&&l!==n)return l;a=Object.getPrototypeOf(a)}return l=>new l})}function Ku(t){return Yg(t)?()=>{let e=Ku(Ot(t));return e&&e()}:ji(t)}function xE(t,e,n,r,a){let l=t,h=e;for(;l!==null&&h!==null&&h[le]&2048&&!(h[le]&512);){let g=J0(l,h,n,r|Ce.Self,On);if(g!==On)return g;let C=l.parent;if(!C){let y=h[m0];if(y){let E=y.get(n,On,r);if(E!==On)return E}C=e1(h),h=h[ss]}l=C}return a}function e1(t){let e=t[ye],n=e.type;return n===2?e.declTNode:n===1?t[Dn]:null}function Sg(t,e=null,n=null,r){let a=t1(t,e,n,r);return a.resolveInjectorInitializers(),a}function t1(t,e=null,n=null,r,a=new Set){let l=[n||nn,Dv(t)];return r=r||(typeof t=="object"?void 0:Ut(t)),new Jo(l,e||Ld(),r||null,a)}var Gr=class Gr{static create(e,n){if(Array.isArray(e))return Sg({name:""},n,e,"");{let r=e.name??"";return Sg({name:r},e.parent,e.providers,r)}}};Gr.THROW_IF_NOT_FOUND=Qo,Gr.NULL=new Ja,Gr.\u0275prov=ue({token:Gr,providedIn:"any",factory:()=>Ie(n0)}),Gr.__NG_ELEMENT_ID__=-1;var Er=Gr;var vE=new ae("");vE.__NG_ELEMENT_ID__=t=>{let e=qt();if(e===null)throw new ie(204,!1);if(e.type&2)return e.value;if(t&Ce.Optional)return null;throw new ie(204,!1)};var EE="ngOriginalError";function Ru(t){return t[EE]}var n1=!0,r1=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=IE,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Ju=class extends r1{constructor(e){super(),this._lView=e}onDestroy(e){return T0(this._lView,e),()=>Gv(this._lView,e)}};function IE(){return new Ju(Qe())}var no=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new It(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=ue({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var ed=class extends Et{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Fv()&&(this.destroyRef=$(r1,{optional:!0})??void 0,this.pendingTasks=$(no,{optional:!0})??void 0)}emit(e){let n=Ne(null);try{super.next(e)}finally{Ne(n)}}subscribe(e,n,r){let a=e,l=n||(()=>null),h=r;if(e&&typeof e=="object"){let C=e;a=C.next?.bind(C),l=C.error?.bind(C),h=C.complete?.bind(C)}this.__isAsync&&(l=this.wrapInTimeout(l),a&&(a=this.wrapInTimeout(a)),h&&(h=this.wrapInTimeout(h)));let g=super.subscribe({next:a,error:l,complete:h});return e instanceof st&&e.add(g),g}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},rt=ed;function ac(...t){}function i1(t){let e,n;function r(){t=ac;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Tg(t){return queueMicrotask(()=>t()),()=>{t=ac}}var Ud="isAngularZone",cc=Ud+"_ID",DE=0,ct=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rt(!1),this.onMicrotaskEmpty=new rt(!1),this.onStable=new rt(!1),this.onError=new rt(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:l=n1}=e;if(typeof Zone>"u")throw new ie(908,!1);Zone.assertZonePatched();let h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!a&&r,h.shouldCoalesceRunChangeDetection=a,h.callbackScheduled=!1,h.scheduleInRootZone=l,SE(h)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ud)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ie(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ie(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,a){let l=this._inner,h=l.scheduleEventTask("NgZoneEvent: "+a,e,AE,ac,ac);try{return l.runTask(h,n,r)}finally{l.cancelTask(h)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},AE={};function jd(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function bE(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){i1(()=>{t.callbackScheduled=!1,td(t),t.isCheckStableRunning=!0,jd(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),td(t)}function SE(t){let e=()=>{bE(t)},n=DE++;t._inner=t._inner.fork({name:"angular",properties:{[Ud]:!0,[cc]:n,[cc+n]:!0},onInvokeTask:(r,a,l,h,g,C)=>{if(TE(C))return r.invokeTask(l,h,g,C);try{return Mg(t),r.invokeTask(l,h,g,C)}finally{(t.shouldCoalesceEventChangeDetection&&h.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),_g(t)}},onInvoke:(r,a,l,h,g,C,y)=>{try{return Mg(t),r.invoke(l,h,g,C,y)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!ME(C)&&e(),_g(t)}},onHasTask:(r,a,l,h)=>{r.hasTask(l,h),a===l&&(h.change=="microTask"?(t._hasPendingMicrotasks=h.microTask,td(t),jd(t)):h.change=="macroTask"&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(r,a,l,h)=>(r.handleError(l,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}function td(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Mg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _g(t){t._nesting--,jd(t)}var nd=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rt,this.onMicrotaskEmpty=new rt,this.onStable=new rt,this.onError=new rt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,a){return e.apply(n,r)}};function TE(t){return o1(t,"__ignore_ng_zone__")}function ME(t){return o1(t,"__scheduler_tick__")}function o1(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var $n=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ru(e);for(;n&&Ru(n);)n=Ru(n);return n||null}},_E=new ae("",{providedIn:"root",factory:()=>{let t=$(ct),e=$($n);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function NE(){return ro(qt(),Qe())}function ro(t,e){return new Bn(An(t,e))}var Bn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=NE;let t=e;return t})();function RE(t){return t instanceof Bn?t.nativeElement:t}function OE(){return this._results[Symbol.iterator]()}var rd=class t{get changes(){return this._changes??=new rt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=OE)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=iv(e);(this._changesDetected=!rv(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function s1(t){return(t.flags&128)===128}var a1=new Map,LE=0;function FE(){return LE++}function PE(t){a1.set(t[vc],t)}function id(t){a1.delete(t[vc])}var Ng="__ngContext__";function Yi(t,e){Cr(e)?(t[Ng]=e[vc],PE(e)):t[Ng]=e}function c1(t){return u1(t[es])}function l1(t){return u1(t[In])}function u1(t){for(;t!==null&&!Xn(t);)t=t[In];return t}var od;function d1(t){od=t}function kE(){if(od!==void 0)return od;if(typeof document<"u")return document;throw new ie(210,!1)}var Hd=new ae("",{providedIn:"root",factory:()=>BE}),BE="ng",zd=new ae(""),io=new ae("",{providedIn:"platform",factory:()=>"unknown"});var Gd=new ae("",{providedIn:"root",factory:()=>kE().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var VE="h",UE="b";var jE=()=>null;function Wd(t,e,n=!1){return jE(t,e,n)}var f1=!1,HE=new ae("",{providedIn:"root",factory:()=>f1});var sd=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Px})`}};function $d(t){return t instanceof sd?t.changingThisBreaksApplicationSecurity:t}function h1(t){return t instanceof Function?t():t}var Yn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Yn||{}),zE;function Yd(t,e){return zE(t,e)}function Bi(t,e,n,r,a){if(r!=null){let l,h=!1;Xn(r)?l=r:Cr(r)&&(h=!0,r=r[Zn]);let g=kn(r);t===0&&n!==null?a==null?w1(e,n,g):lc(e,n,g,a||null,!0):t===1&&n!==null?lc(e,n,g,a||null,!0):t===2?iI(e,g,h):t===3&&e.destroyNode(g),l!=null&&sI(e,t,l,n,a)}}function GE(t,e){return t.createText(e)}function WE(t,e,n){t.setValue(e,n)}function p1(t,e,n){return t.createElement(e,n)}function $E(t,e){g1(t,e),e[Zn]=null,e[Dn]=null}function YE(t,e,n,r,a,l){r[Zn]=a,r[Dn]=e,Tc(t,r,n,1,a,l)}function g1(t,e){e[Gn].changeDetectionScheduler?.notify(9),Tc(t,e,e[Lt],2,null,null)}function qE(t){let e=t[es];if(!e)return Ou(t[ye],t);for(;e;){let n=null;if(Cr(e))n=e[es];else{let r=e[Yt];r&&(n=r)}if(!n){for(;e&&!e[In]&&e!==t;)Cr(e)&&Ou(e[ye],e),e=e[Mt];e===null&&(e=t),Cr(e)&&Ou(e[ye],e),n=e&&e[In]}e=n}}function ZE(t,e,n,r){let a=Yt+r,l=n.length;r>0&&(n[a-1][In]=e),r<l-Yt?(e[In]=n[a],t0(n,Yt+r,e)):(n.push(e),e[In]=null),e[Mt]=n;let h=e[qr];h!==null&&n!==h&&m1(h,e);let g=e[Wn];g!==null&&g.insertView(t),Yu(e),e[le]|=128}function m1(t,e){let n=t[$i],r=e[Mt];if(Cr(r))t[le]|=rc.HasTransplantedViews;else{let a=r[Mt][Pn];e[Pn]!==a&&(t[le]|=rc.HasTransplantedViews)}n===null?t[$i]=[e]:n.push(e)}function qd(t,e){let n=t[$i],r=n.indexOf(e);n.splice(r,1)}function ad(t,e){if(t.length<=Yt)return;let n=Yt+e,r=t[n];if(r){let a=r[qr];a!==null&&a!==t&&qd(a,r),e>0&&(t[n-1][In]=r[In]);let l=Ka(t,Yt+e);$E(r[ye],r);let h=l[Wn];h!==null&&h.detachView(l[ye]),r[Mt]=null,r[In]=null,r[le]&=-129}return r}function y1(t,e){if(!(e[le]&256)){let n=e[Lt];n.destroyNode&&Tc(t,e,n,3,null,null),qE(e)}}function Ou(t,e){if(e[le]&256)return;let n=Ne(null);try{e[le]&=-129,e[le]|=256,e[rn]&&au(e[rn]),QE(t,e),XE(t,e),e[ye].type===1&&e[Lt].destroy();let r=e[qr];if(r!==null&&Xn(e[Mt])){r!==e[Mt]&&qd(r,e);let a=e[Wn];a!==null&&a.detachView(t)}id(e)}finally{Ne(n)}}function XE(t,e){let n=t.cleanup,r=e[tc];if(n!==null)for(let l=0;l<n.length-1;l+=2)if(typeof n[l]=="string"){let h=n[l+3];h>=0?r[h]():r[-h].unsubscribe(),l+=2}else{let h=r[n[l+1]];n[l].call(h)}r!==null&&(e[tc]=null);let a=e[wr];if(a!==null){e[wr]=null;for(let l=0;l<a.length;l++){let h=a[l];h()}}}function QE(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let a=e[n[r]];if(!(a instanceof Jr)){let l=n[r+1];if(Array.isArray(l))for(let h=0;h<l.length;h+=2){let g=a[l[h]],C=l[h+1];Rn(4,g,C);try{C.call(g)}finally{Rn(5,g,C)}}else{Rn(4,a,l);try{l.call(a)}finally{Rn(5,a,l)}}}}}function KE(t,e,n){return JE(t,e.parent,n)}function JE(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Zn];{let{componentOffset:a}=r;if(a>-1){let{encapsulation:l}=t.data[r.directiveStart+a];if(l===Ln.None||l===Ln.Emulated)return null}return An(r,n)}}function lc(t,e,n,r,a){t.insertBefore(e,n,r,a)}function w1(t,e,n){t.appendChild(e,n)}function Rg(t,e,n,r,a){r!==null?lc(t,e,n,r,a):w1(t,e,n)}function C1(t,e){return t.parentNode(e)}function eI(t,e){return t.nextSibling(e)}function tI(t,e,n){return rI(t,e,n)}function nI(t,e,n){return t.type&40?An(t,n):null}var rI=nI,Og;function x1(t,e,n,r){let a=KE(t,r,e),l=e[Lt],h=r.parent||e[Dn],g=tI(h,r,e);if(a!=null)if(Array.isArray(n))for(let C=0;C<n.length;C++)Rg(l,a,n[C],g,!1);else Rg(l,a,n,g,!1);Og!==void 0&&Og(l,r,e,n,a)}function qo(t,e){if(e!==null){let n=e.type;if(n&3)return An(e,t);if(n&4)return cd(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return qo(t,r);{let a=t[e.index];return Xn(a)?cd(-1,a):kn(a)}}else{if(n&128)return qo(t,e.next);if(n&32)return Yd(e,t)()||kn(t[e.index]);{let r=v1(t,e);if(r!==null){if(Array.isArray(r))return r[0];let a=Qr(t[Pn]);return qo(a,r)}else return qo(t,e.next)}}}return null}function v1(t,e){if(e!==null){let r=t[Pn][Dn],a=e.projection;return r.projection[a]}return null}function cd(t,e){let n=Yt+t+1;if(n<e.length){let r=e[n],a=r[ye].firstChild;if(a!==null)return qo(r,a)}return e[Xr]}function iI(t,e,n){t.removeChild(null,e,n)}function Zd(t,e,n,r,a,l,h){for(;n!=null;){if(n.type===128){n=n.next;continue}let g=r[n.index],C=n.type;if(h&&e===0&&(g&&Yi(kn(g),r),n.flags|=2),(n.flags&32)!==32)if(C&8)Zd(t,e,n.child,r,a,l,!1),Bi(e,t,a,g,l);else if(C&32){let y=Yd(n,r),E;for(;E=y();)Bi(e,t,a,E,l);Bi(e,t,a,g,l)}else C&16?oI(t,e,r,n,a,l):Bi(e,t,a,g,l);n=h?n.projectionNext:n.next}}function Tc(t,e,n,r,a,l){Zd(n,r,t.firstChild,e,a,l,!1)}function oI(t,e,n,r,a,l){let h=n[Pn],C=h[Dn].projection[r.projection];if(Array.isArray(C))for(let y=0;y<C.length;y++){let E=C[y];Bi(e,t,a,E,l)}else{let y=C,E=h[Mt];s1(r)&&(y.flags|=128),Zd(t,e,y,E,a,l,!0)}}function sI(t,e,n,r,a){let l=n[Xr],h=kn(n);l!==h&&Bi(e,t,r,l,a);for(let g=Yt;g<n.length;g++){let C=n[g];Tc(C[ye],C,t,e,r,l)}}function aI(t,e,n,r,a){if(e)a?t.addClass(n,r):t.removeClass(n,r);else{let l=r.indexOf("-")===-1?void 0:Yn.DashCase;a==null?t.removeStyle(n,r,l):(typeof a=="string"&&a.endsWith("!important")&&(a=a.slice(0,-10),l|=Yn.Important),t.setStyle(n,r,a,l))}}function cI(t,e,n){t.setAttribute(e,"style",n)}function E1(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function I1(t,e,n){let{mergedAttrs:r,classes:a,styles:l}=n;r!==null&&ju(t,e,r),a!==null&&E1(t,e,a),l!==null&&cI(t,e,l)}var oo={};function so(t=1){D1(bn(),Qe(),to()+t,!1)}function D1(t,e,n,r){if(!r)if((e[le]&3)===3){let l=t.preOrderCheckHooks;l!==null&&Wa(e,l,n)}else{let l=t.preOrderHooks;l!==null&&$a(e,l,0,n)}Kr(n)}function it(t,e=Ce.Default){let n=Qe();if(n===null)return Ie(t,e);let r=qt();return K0(r,n,Ot(t),e)}function A1(t,e,n,r,a,l){let h=Ne(null);try{let g=null;a&xr.SignalBased&&(g=e[r][hr]),g!==null&&g.transformFn!==void 0&&(l=g.transformFn(l)),a&xr.HasDecoratorInputTransform&&(l=t.inputTransforms[r].call(e,l)),t.setInput!==null?t.setInput(e,g,l,n,r):x0(e,g,r,l)}finally{Ne(h)}}function lI(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let a=n[r];if(a<0)Kr(~a);else{let l=a,h=n[++r],g=n[++r];nE(h,l);let C=e[l];g(2,C)}}}finally{Kr(-1)}}function Mc(t,e,n,r,a,l,h,g,C,y,E){let b=e.blueprint.slice();return b[Zn]=a,b[le]=r|4|128|8|64,(y!==null||t&&t[le]&2048)&&(b[le]|=2048),b0(b),b[Mt]=b[ss]=t,b[Fn]=n,b[Gn]=h||t&&t[Gn],b[Lt]=g||t&&t[Lt],b[Wi]=C||t&&t[Wi]||null,b[Dn]=l,b[vc]=FE(),b[ec]=E,b[m0]=y,b[Pn]=e.type==2?t[Pn]:b,b}function Xd(t,e,n,r,a){let l=t.data[e];if(l===null)l=uI(t,e,n,r,a),tE()&&(l.flags|=32);else if(l.type&64){l.type=n,l.value=r,l.attrs=a;let h=Qv();l.injectorIndex=h===null?-1:h.injectorIndex}return Sc(l,!0),l}function uI(t,e,n,r,a){let l=N0(),h=R0(),g=h?l:l&&l.parent,C=t.data[e]=wI(t,g,n,e,r,a);return t.firstChild===null&&(t.firstChild=C),l!==null&&(h?l.child==null&&C.parent!==null&&(l.child=C):l.next===null&&(l.next=C,C.prev=l)),C}function b1(t,e,n,r){if(n===0)return-1;let a=e.length;for(let l=0;l<n;l++)e.push(r),t.blueprint.push(r),t.data.push(null);return a}function S1(t,e,n,r,a){let l=to(),h=r&2;try{Kr(-1),h&&e.length>Zr&&D1(t,e,Zr,!1),Rn(h?2:0,a),n(r,a)}finally{Kr(l),Rn(h?3:1,a)}}function T1(t,e,n){if(w0(e)){let r=Ne(null);try{let a=e.directiveStart,l=e.directiveEnd;for(let h=a;h<l;h++){let g=t.data[h];if(g.contentQueries){let C=n[h];g.contentQueries(1,C,h)}}}finally{Ne(r)}}}function dI(t,e,n){_0()&&(bI(t,e,n,An(n,e)),(n.flags&64)===64&&R1(t,e,n))}function fI(t,e,n=An){let r=e.localNames;if(r!==null){let a=e.index+1;for(let l=0;l<r.length;l+=2){let h=r[l+1],g=h===-1?n(e,t):t[h];t[a++]=g}}}function M1(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=_1(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function _1(t,e,n,r,a,l,h,g,C,y,E){let b=Zr+r,N=b+a,M=hI(b,N),U=typeof y=="function"?y():y;return M[ye]={type:t,blueprint:M,template:n,queries:null,viewQuery:g,declTNode:e,data:M.slice().fill(null,b),bindingStartIndex:b,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof l=="function"?l():l,pipeRegistry:typeof h=="function"?h():h,firstChild:null,schemas:C,consts:U,incompleteFirstPass:!1,ssrId:E}}function hI(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:oo);return n}function pI(t,e,n,r){let l=r.get(HE,f1)||n===Ln.ShadowDom,h=t.selectRootElement(e,l);return gI(h),h}function gI(t){mI(t)}var mI=()=>null;function yI(t,e,n,r){let a=L1(e);a.push(n),t.firstCreatePass&&F1(t).push(r,a.length-1)}function wI(t,e,n,r,a,l){let h=e?e.injectorIndex:-1,g=0;return qv()&&(g|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:h,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:g,providerIndexes:0,value:a,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Lg(t,e,n,r,a){for(let l in e){if(!e.hasOwnProperty(l))continue;let h=e[l];if(h===void 0)continue;r??={};let g,C=xr.None;Array.isArray(h)?(g=h[0],C=h[1]):g=h;let y=l;if(a!==null){if(!a.hasOwnProperty(l))continue;y=a[l]}t===0?Fg(r,n,y,g,C):Fg(r,n,y,g)}return r}function Fg(t,e,n,r,a){let l;t.hasOwnProperty(n)?(l=t[n]).push(e,r):l=t[n]=[e,r],a!==void 0&&l.push(a)}function CI(t,e,n){let r=e.directiveStart,a=e.directiveEnd,l=t.data,h=e.attrs,g=[],C=null,y=null;for(let E=r;E<a;E++){let b=l[E],N=n?n.get(b):null,M=N?N.inputs:null,U=N?N.outputs:null;C=Lg(0,b.inputs,E,C,M),y=Lg(1,b.outputs,E,y,U);let Y=C!==null&&h!==null&&!Rd(e)?FI(C,E,h):null;g.push(Y)}C!==null&&(C.hasOwnProperty("class")&&(e.flags|=8),C.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=g,e.inputs=C,e.outputs=y}function xI(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function vI(t,e,n,r,a,l,h,g){let C=An(e,n),y=e.inputs,E;!g&&y!=null&&(E=y[r])?(Kd(t,n,E,r,a),Ec(e)&&EI(n,e.index)):e.type&3?(r=xI(r),a=h!=null?h(a,e.value||"",r):a,l.setProperty(C,r,a)):e.type&12}function EI(t,e){let n=Ar(e,t);n[le]&16||(n[le]|=64)}function II(t,e,n,r){if(_0()){let a=r===null?null:{"":-1},l=TI(t,n),h,g;l===null?h=g=null:[h,g]=l,h!==null&&N1(t,e,n,h,a,g),a&&MI(n,r,a)}n.mergedAttrs=Ko(n.mergedAttrs,n.attrs)}function N1(t,e,n,r,a,l){for(let y=0;y<r.length;y++)Qu(sc(n,e),t,r[y].type);NI(n,t.data.length,r.length);for(let y=0;y<r.length;y++){let E=r[y];E.providersResolver&&E.providersResolver(E)}let h=!1,g=!1,C=b1(t,e,r.length,null);for(let y=0;y<r.length;y++){let E=r[y];n.mergedAttrs=Ko(n.mergedAttrs,E.hostAttrs),RI(t,n,e,C,E),_I(C,E,a),E.contentQueries!==null&&(n.flags|=4),(E.hostBindings!==null||E.hostAttrs!==null||E.hostVars!==0)&&(n.flags|=64);let b=E.type.prototype;!h&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),h=!0),!g&&(b.ngOnChanges||b.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),g=!0),C++}CI(t,n,l)}function DI(t,e,n,r,a){let l=a.hostBindings;if(l){let h=t.hostBindingOpCodes;h===null&&(h=t.hostBindingOpCodes=[]);let g=~e.index;AI(h)!=g&&h.push(g),h.push(n,r,l)}}function AI(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function bI(t,e,n,r){let a=n.directiveStart,l=n.directiveEnd;Ec(n)&&OI(e,n,t.data[a+n.componentOffset]),t.firstCreatePass||sc(n,e),Yi(r,e);let h=n.initialInputs;for(let g=a;g<l;g++){let C=t.data[g],y=ei(e,t,g,n);if(Yi(y,e),h!==null&&LI(e,g-a,y,C,n,h),vr(C)){let E=Ar(n.index,e);E[Fn]=ei(e,t,g,n)}}}function R1(t,e,n){let r=n.directiveStart,a=n.directiveEnd,l=n.index,h=rE();try{Kr(l);for(let g=r;g<a;g++){let C=t.data[g],y=e[g];qu(g),(C.hostBindings!==null||C.hostVars!==0||C.hostAttrs!==null)&&SI(C,y)}}finally{Kr(-1),qu(h)}}function SI(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function TI(t,e){let n=t.directiveRegistry,r=null,a=null;if(n)for(let l=0;l<n.length;l++){let h=n[l];if(gv(e,h.selectors,!1))if(r||(r=[]),vr(h))if(h.findHostDirectiveDefs!==null){let g=[];a=a||new Map,h.findHostDirectiveDefs(h,g,a),r.unshift(...g,h);let C=g.length;ld(t,e,C)}else r.unshift(h),ld(t,e,0);else a=a||new Map,h.findHostDirectiveDefs?.(h,r,a),r.push(h)}return r===null?null:[r,a]}function ld(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function MI(t,e,n){if(e){let r=t.localNames=[];for(let a=0;a<e.length;a+=2){let l=n[e[a+1]];if(l==null)throw new ie(-301,!1);r.push(e[a],l)}}}function _I(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vr(e)&&(n[""]=t)}}function NI(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function RI(t,e,n,r,a){t.data[r]=a;let l=a.factory||(a.factory=ji(a.type,!0)),h=new Jr(l,vr(a),it);t.blueprint[r]=h,n[r]=h,DI(t,e,r,b1(t,n,a.hostVars,oo),a)}function OI(t,e,n){let r=An(e,t),a=M1(n),l=t[Gn].rendererFactory,h=16;n.signals?h=4096:n.onPush&&(h=64);let g=Qd(t,Mc(t,a,null,h,r,e,null,l.createRenderer(r,n),null,null,null));t[e.index]=g}function LI(t,e,n,r,a,l){let h=l[e];if(h!==null)for(let g=0;g<h.length;){let C=h[g++],y=h[g++],E=h[g++],b=h[g++];A1(r,n,C,y,E,b)}}function FI(t,e,n){let r=null,a=0;for(;a<n.length;){let l=n[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}if(typeof l=="number")break;if(t.hasOwnProperty(l)){r===null&&(r=[]);let h=t[l];for(let g=0;g<h.length;g+=3)if(h[g]===e){r.push(l,h[g+1],h[g+2],n[a+1]);break}}a+=2}return r}function PI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function O1(t,e){let n=t.contentQueries;if(n!==null){let r=Ne(null);try{for(let a=0;a<n.length;a+=2){let l=n[a],h=n[a+1];if(h!==-1){let g=t.data[h];Pd(l),g.contentQueries(2,e[h],h)}}}finally{Ne(r)}}}function Qd(t,e){return t[es]?t[Cg][In]=e:t[es]=e,t[Cg]=e,e}function ud(t,e,n){Pd(0);let r=Ne(null);try{e(t,n)}finally{Ne(r)}}function L1(t){return t[tc]??=[]}function F1(t){return t.cleanup??=[]}function P1(t,e){let n=t[Wi],r=n?n.get($n,null):null;r&&r.handleError(e)}function Kd(t,e,n,r,a){for(let l=0;l<n.length;){let h=n[l++],g=n[l++],C=n[l++],y=e[h],E=t.data[h];A1(E,y,r,g,C,a)}}function kI(t,e,n){let r=D0(e,t);WE(t[Lt],r,n)}function BI(t,e){let n=Ar(e,t),r=n[ye];VI(r,n);let a=n[Zn];a!==null&&n[ec]===null&&(n[ec]=Wd(a,n[Wi])),Jd(r,n,n[Fn])}function VI(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Jd(t,e,n){kd(e);try{let r=t.viewQuery;r!==null&&ud(1,r,n);let a=t.template;a!==null&&S1(t,e,a,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Wn]?.finishViewCreation(t),t.staticContentQueries&&O1(t,e),t.staticViewQueries&&ud(2,t.viewQuery,n);let l=t.components;l!==null&&UI(e,l)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[le]&=-5,Bd()}}function UI(t,e){for(let n=0;n<e.length;n++)BI(t,e[n])}function jI(t,e,n,r){let a=Ne(null);try{let l=e.tView,g=t[le]&4096?4096:16,C=Mc(t,l,n,g,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),y=t[e.index];C[qr]=y;let E=t[Wn];return E!==null&&(C[Wn]=E.createEmbeddedView(l)),Jd(l,C,n),C}finally{Ne(a)}}function Pg(t,e){return!e||e.firstChild===null||s1(t)}function HI(t,e,n,r=!0){let a=e[ye];if(ZE(a,e,t,n),r){let h=cd(n,t),g=e[Lt],C=C1(g,t[Xr]);C!==null&&YE(a,t[Dn],g,e,C,h)}let l=e[ec];l!==null&&l.firstChild!==null&&(l.firstChild=null)}function uc(t,e,n,r,a=!1){for(;n!==null;){if(n.type===128){n=a?n.projectionNext:n.next;continue}let l=e[n.index];l!==null&&r.push(kn(l)),Xn(l)&&zI(l,r);let h=n.type;if(h&8)uc(t,e,n.child,r);else if(h&32){let g=Yd(n,e),C;for(;C=g();)r.push(C)}else if(h&16){let g=v1(e,n);if(Array.isArray(g))r.push(...g);else{let C=Qr(e[Pn]);uc(C[ye],C,g,r,!0)}}n=a?n.projectionNext:n.next}return r}function zI(t,e){for(let n=Yt;n<t.length;n++){let r=t[n],a=r[ye].firstChild;a!==null&&uc(r[ye],r,a,e)}t[Xr]!==t[Zn]&&e.push(t[Xr])}var k1=[];function GI(t){return t[rn]??WI(t)}function WI(t){let e=k1.pop()??Object.create(YI);return e.lView=t,e}function $I(t){t.lView[rn]!==t&&(t.lView=null,k1.push(t))}var YI=be(q({},Go),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Dc(t.lView)},consumerOnSignalRead(){this.lView[rn]=this}});function qI(t){let e=t[rn]??Object.create(ZI);return e.lView=t,e}var ZI=be(q({},Go),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Qr(t.lView);for(;e&&!B1(e[ye]);)e=Qr(e);e&&S0(e)},consumerOnSignalRead(){this.lView[rn]=this}});function B1(t){return t.type!==2}var XI=100;function V1(t,e=!0,n=0){let r=t[Gn],a=r.rendererFactory,l=!1;l||a.begin?.();try{QI(t,n)}catch(h){throw e&&P1(t,h),h}finally{l||(a.end?.(),r.inlineEffectRunner?.flush())}}function QI(t,e){let n=O0();try{Eg(!0),dd(t,e);let r=0;for(;Ic(t);){if(r===XI)throw new ie(103,!1);r++,dd(t,1)}}finally{Eg(n)}}function KI(t,e,n,r){let a=e[le];if((a&256)===256)return;let l=!1,h=!1;!l&&e[Gn].inlineEffectRunner?.flush(),kd(e);let g=!0,C=null,y=null;l||(B1(t)?(y=GI(e),C=pa(y)):Ap()===null?(g=!1,y=qI(e),C=pa(y)):e[rn]&&(au(e[rn]),e[rn]=null));try{b0(e),Jv(t.bindingStartIndex),n!==null&&S1(t,e,n,2,r);let E=(a&3)===3;if(!l)if(E){let M=t.preOrderCheckHooks;M!==null&&Wa(e,M,null)}else{let M=t.preOrderHooks;M!==null&&$a(e,M,0,null),Mu(e,0)}if(h||JI(e),U1(e,0),t.contentQueries!==null&&O1(t,e),!l)if(E){let M=t.contentCheckHooks;M!==null&&Wa(e,M)}else{let M=t.contentHooks;M!==null&&$a(e,M,1),Mu(e,1)}lI(t,e);let b=t.components;b!==null&&H1(e,b,0);let N=t.viewQuery;if(N!==null&&ud(2,N,r),!l)if(E){let M=t.viewCheckHooks;M!==null&&Wa(e,M)}else{let M=t.viewHooks;M!==null&&$a(e,M,2),Mu(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Tu]){for(let M of e[Tu])M();e[Tu]=null}l||(e[le]&=-73)}catch(E){throw l||Dc(e),E}finally{y!==null&&(ou(y,C),g&&$I(y)),Bd()}}function U1(t,e){for(let n=c1(t);n!==null;n=l1(n))for(let r=Yt;r<n.length;r++){let a=n[r];j1(a,e)}}function JI(t){for(let e=c1(t);e!==null;e=l1(e)){if(!(e[le]&rc.HasTransplantedViews))continue;let n=e[$i];for(let r=0;r<n.length;r++){let a=n[r];S0(a)}}}function eD(t,e,n){let r=Ar(e,t);j1(r,n)}function j1(t,e){Fd(t)&&dd(t,e)}function dd(t,e){let r=t[ye],a=t[le],l=t[rn],h=!!(e===0&&a&16);if(h||=!!(a&64&&e===0),h||=!!(a&1024),h||=!!(l?.dirty&&su(l)),h||=!1,l&&(l.dirty=!1),t[le]&=-9217,h)KI(r,t,r.template,t[Fn]);else if(a&8192){U1(t,1);let g=r.components;g!==null&&H1(t,g,1)}}function H1(t,e,n){for(let r=0;r<e.length;r++)eD(t,e[r],n)}function ef(t,e){let n=O0()?64:1088;for(t[Gn].changeDetectionScheduler?.notify(e);t;){t[le]|=n;let r=Qr(t);if(Wu(t)&&!r)return t;t=r}return null}var ti=class{get rootNodes(){let e=this._lView,n=e[ye];return uc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Fn]}set context(e){this._lView[Fn]=e}get destroyed(){return(this._lView[le]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Mt];if(Xn(e)){let n=e[nc],r=n?n.indexOf(this):-1;r>-1&&(ad(e,r),Ka(n,r))}this._attachedToViewContainer=!1}y1(this._lView[ye],this._lView)}onDestroy(e){T0(this._lView,e)}markForCheck(){ef(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[le]&=-129}reattach(){Yu(this._lView),this._lView[le]|=128}detectChanges(){this._lView[le]|=1024,V1(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Wu(this._lView),n=this._lView[qr];n!==null&&!e&&qd(n,this._lView),g1(this._lView[ye],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ie(902,!1);this._appRef=e;let n=Wu(this._lView),r=this._lView[qr];r!==null&&!n&&m1(r,this._lView),Yu(this._lView)}},ts=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=rD;let t=e;return t})(),tD=ts,nD=class extends tD{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let a=jI(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ti(a)}};function rD(){return tf(qt(),Qe())}function tf(t,e){return t.type&4?new nD(e,t,ro(t,e)):null}var RO=new RegExp(`^(\\d+)*(${UE}|${VE})*(.*)`);var iD=()=>null;function kg(t,e){return iD(t,e)}var qi=class{},nf=new ae("",{providedIn:"root",factory:()=>!1});var z1=new ae(""),G1=new ae(""),fd=class{},dc=class{};function oD(t){let e=Error(`No component factory found for ${Ut(t)}.`);return e[sD]=t,e}var sD="ngComponent";var hd=class{resolveComponentFactory(e){throw oD(e)}},df=class df{};df.NULL=new hd;var Zi=df,Xi=class{},ao=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>aD();let t=e;return t})();function aD(){let t=Qe(),e=qt(),n=Ar(e.index,t);return(Cr(n)?n:t)[Lt]}var cD=(()=>{let e=class e{};e.\u0275prov=ue({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function pd(t,e,n){let r=n?t.styles:null,a=n?t.classes:null,l=0;if(e!==null)for(let h=0;h<e.length;h++){let g=e[h];if(typeof g=="number")l=g;else if(l==1)a=lg(a,g);else if(l==2){let C=g,y=e[++h];r=lg(r,C+": "+y+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=a:t.classesWithoutHost=a}var fc=class extends Zi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Yr(e);return new ns(n,this.ngModule)}};function Bg(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let a=t[r];if(a===void 0)continue;let l=Array.isArray(a),h=l?a[0]:a,g=l?a[1]:xr.None;e?n.push({propName:h,templateName:r,isSignal:(g&xr.SignalBased)!==0}):n.push({propName:h,templateName:r})}return n}function lD(t){let e=t.toLowerCase();return e==="svg"?Uv:e==="math"?jv:null}var ns=class extends dc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Bg(e.inputs,!0);if(n!==null)for(let a of r)n.hasOwnProperty(a.propName)&&(a.transform=n[a.propName]);return r}get outputs(){return Bg(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Cv(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,a){let l=Ne(null);try{a=a||this.ngModule;let h=a instanceof on?a:a?.injector;h&&this.componentDef.getStandaloneInjector!==null&&(h=this.componentDef.getStandaloneInjector(h)||h);let g=h?new Zu(e,h):e,C=g.get(Xi,null);if(C===null)throw new ie(407,!1);let y=g.get(cD,null),E=g.get(qi,null),b={rendererFactory:C,sanitizer:y,inlineEffectRunner:null,changeDetectionScheduler:E},N=C.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",U=r?pI(N,r,this.componentDef.encapsulation,g):p1(N,M,lD(M)),Y=512;this.componentDef.signals?Y|=4096:this.componentDef.onPush||(Y|=16);let W=null;U!==null&&(W=Wd(U,g,!0));let H=_1(0,null,null,1,0,null,null,null,null,null,null),ee=Mc(null,H,null,Y,null,null,b,N,g,null,W);kd(ee);let Ue,oe,B=null;try{let K=this.componentDef,V,zt=null;K.findHostDirectiveDefs?(V=[],zt=new Map,K.findHostDirectiveDefs(K,V,zt),V.push(K)):V=[K];let bt=uD(ee,U);B=dD(bt,U,K,V,ee,b,N),oe=A0(H,Zr),U&&pD(N,K,U,r),n!==void 0&&gD(oe,this.ngContentSelectors,n),Ue=hD(B,K,V,zt,ee,[mD]),Jd(H,ee,null)}catch(K){throw B!==null&&id(B),id(ee),K}finally{Bd()}return new gd(this.componentType,Ue,ro(oe,ee),ee,oe)}finally{Ne(l)}}},gd=class extends fd{constructor(e,n,r,a,l){super(),this.location=r,this._rootLView=a,this._tNode=l,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ti(a,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,a;if(r!==null&&(a=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let l=this._rootLView;Kd(l[ye],l,a,e,n),this.previousInputValues.set(e,n);let h=Ar(this._tNode.index,l);ef(h,1)}}get injector(){return new $r(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function uD(t,e){let n=t[ye],r=Zr;return t[r]=e,Xd(n,r,2,"#host",null)}function dD(t,e,n,r,a,l,h){let g=a[ye];fD(r,t,e,h);let C=null;e!==null&&(C=Wd(e,a[Wi]));let y=l.rendererFactory.createRenderer(e,n),E=16;n.signals?E=4096:n.onPush&&(E=64);let b=Mc(a,M1(n),null,E,a[t.index],t,l,y,null,null,C);return g.firstCreatePass&&ld(g,t,r.length-1),Qd(a,b),a[t.index]=b}function fD(t,e,n,r){for(let a of t)e.mergedAttrs=Ko(e.mergedAttrs,a.hostAttrs);e.mergedAttrs!==null&&(pd(e,e.mergedAttrs,!0),n!==null&&I1(r,n,e))}function hD(t,e,n,r,a,l){let h=qt(),g=a[ye],C=An(h,a);N1(g,a,h,n,null,r);for(let E=0;E<n.length;E++){let b=h.directiveStart+E,N=ei(a,g,b,h);Yi(N,a)}R1(g,a,h),C&&Yi(C,a);let y=ei(a,g,h.directiveStart+h.componentOffset,h);if(t[Fn]=a[Fn]=y,l!==null)for(let E of l)E(y,e);return T1(g,h,a),y}function pD(t,e,n,r){if(r)ju(t,n,["ng-version","18.2.3"]);else{let{attrs:a,classes:l}=xv(e.selectors[0]);a&&ju(t,n,a),l&&l.length>0&&E1(t,n,l.join(" "))}}function gD(t,e,n){let r=t.projection=[];for(let a=0;a<e.length;a++){let l=n[a];r.push(l!=null?Array.from(l):null)}}function mD(){let t=qt();G0(Qe()[ye],t)}var co=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=yD;let t=e;return t})();function yD(){let t=qt();return $1(t,Qe())}var wD=co,W1=class extends wD{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ro(this._hostTNode,this._hostLView)}get injector(){return new $r(this._hostTNode,this._hostLView)}get parentInjector(){let e=Vd(this._hostTNode,this._hostLView);if($0(e)){let n=oc(e,this._hostLView),r=ic(e),a=n[ye].data[r+8];return new $r(a,n)}else return new $r(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Vg(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Yt}createEmbeddedView(e,n,r){let a,l;typeof r=="number"?a=r:r!=null&&(a=r.index,l=r.injector);let h=kg(this._lContainer,e.ssrId),g=e.createEmbeddedViewImpl(n||{},l,h);return this.insertImpl(g,a,Pg(this._hostTNode,h)),g}createComponent(e,n,r,a,l){let h=e&&!Pv(e),g;if(h)g=n;else{let U=n||{};g=U.index,r=U.injector,a=U.projectableNodes,l=U.environmentInjector||U.ngModuleRef}let C=h?e:new ns(Yr(e)),y=r||this.parentInjector;if(!l&&C.ngModule==null){let Y=(h?y:this.parentInjector).get(on,null);Y&&(l=Y)}let E=Yr(C.componentType??{}),b=kg(this._lContainer,E?.id??null),N=b?.firstChild??null,M=C.create(y,a,N,l);return this.insertImpl(M.hostView,g,Pg(this._hostTNode,b)),M}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let a=e._lView;if(zv(a)){let g=this.indexOf(e);if(g!==-1)this.detach(g);else{let C=a[Mt],y=new W1(C,C[Dn],C[Mt]);y.detach(y.indexOf(e))}}let l=this._adjustIndex(n),h=this._lContainer;return HI(h,a,l,r),e.attachToViewContainerRef(),t0(Lu(h),l,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Vg(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ad(this._lContainer,n);r&&(Ka(Lu(this._lContainer),n),y1(r[ye],r))}detach(e){let n=this._adjustIndex(e,-1),r=ad(this._lContainer,n);return r&&Ka(Lu(this._lContainer),n)!=null?new ti(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Vg(t){return t[nc]}function Lu(t){return t[nc]||(t[nc]=[])}function $1(t,e){let n,r=e[t.index];return Xn(r)?n=r:(n=PI(r,e,null,t),e[t.index]=n,Qd(e,n)),xD(n,e,t,r),new W1(n,t,e)}function CD(t,e){let n=t[Lt],r=n.createComment(""),a=An(e,t),l=C1(n,a);return lc(n,l,r,eI(n,a),!1),r}var xD=vD;function vD(t,e,n,r){if(t[Xr])return;let a;n.type&8?a=kn(r):a=CD(e,n),t[Xr]=a}var md=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},yd=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,a=[];for(let l=0;l<r;l++){let h=n.getByIndex(l),g=this.queries[h.indexInDeclarationView];a.push(g.clone())}return new t(a)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)rf(e,n).matches!==null&&this.queries[n].setDirty()}},wd=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=MD(e):this.predicate=e}},Cd=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let a=n!==null?n.length:0,l=this.getByIndex(r).embeddedTView(e,a);l&&(l.indexInDeclarationView=r,n!==null?n.push(l):n=[l])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},xd=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let a=0;a<r.length;a++){let l=r[a];this.matchTNodeWithReadOption(e,n,ED(n,l)),this.matchTNodeWithReadOption(e,n,Ya(n,e,l,!1,!1))}else r===ts?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Ya(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let a=this.metadata.read;if(a!==null)if(a===Bn||a===co||a===ts&&n.type&4)this.addMatch(n.index,-2);else{let l=Ya(n,e,a,!1,!1);l!==null&&this.addMatch(n.index,l)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function ED(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function ID(t,e){return t.type&11?ro(t,e):t.type&4?tf(t,e):null}function DD(t,e,n,r){return n===-1?ID(e,t):n===-2?AD(t,e,r):ei(t,t[ye],n,e)}function AD(t,e,n){if(n===Bn)return ro(e,t);if(n===ts)return tf(e,t);if(n===co)return $1(e,t)}function Y1(t,e,n,r){let a=e[Wn].queries[r];if(a.matches===null){let l=t.data,h=n.matches,g=[];for(let C=0;h!==null&&C<h.length;C+=2){let y=h[C];if(y<0)g.push(null);else{let E=l[y];g.push(DD(e,E,h[C+1],n.metadata.read))}}a.matches=g}return a.matches}function vd(t,e,n,r){let a=t.queries.getByIndex(n),l=a.matches;if(l!==null){let h=Y1(t,e,a,n);for(let g=0;g<l.length;g+=2){let C=l[g];if(C>0)r.push(h[g/2]);else{let y=l[g+1],E=e[-C];for(let b=Yt;b<E.length;b++){let N=E[b];N[qr]===N[Mt]&&vd(N[ye],N,y,r)}if(E[$i]!==null){let b=E[$i];for(let N=0;N<b.length;N++){let M=b[N];vd(M[ye],M,y,r)}}}}}return r}function bD(t,e){return t[Wn].queries[e].queryList}function SD(t,e,n){let r=new rd((n&4)===4);return yI(t,e,r,r.destroy),(e[Wn]??=new yd).queries.push(new md(r))-1}function TD(t,e,n){let r=bn();return r.firstCreatePass&&(_D(r,new wd(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),SD(r,Qe(),e)}function MD(t){return t.split(",").map(e=>e.trim())}function _D(t,e,n){t.queries===null&&(t.queries=new Cd),t.queries.track(new xd(e,n))}function rf(t,e){return t.queries.getByIndex(e)}function ND(t,e){let n=t[ye],r=rf(n,e);return r.crossesNgTemplate?vd(n,t,e,[]):Y1(n,t,r,e)}var Ug=new Set;function cs(t){Ug.has(t)||(Ug.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function ls(t,e){cs("NgSignals");let n=Pp(t),r=n[hr];return e?.equal&&(r.equal=e.equal),n.set=a=>cu(r,a),n.update=a=>kp(r,a),n.asReadonly=RD.bind(n),n}function RD(){let t=this[hr];if(t.readonlyFn===void 0){let e=()=>this();e[hr]=t,t.readonlyFn=e}return t.readonlyFn}function OD(t){return Object.getPrototypeOf(t.prototype).constructor}function br(t){let e=OD(t.type),n=!0,r=[t];for(;e;){let a;if(vr(t))a=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ie(903,!1);a=e.\u0275dir}if(a){if(n){r.push(a);let h=t;h.inputs=ja(t.inputs),h.inputTransforms=ja(t.inputTransforms),h.declaredInputs=ja(t.declaredInputs),h.outputs=ja(t.outputs);let g=a.hostBindings;g&&BD(t,g);let C=a.viewQuery,y=a.contentQueries;if(C&&PD(t,C),y&&kD(t,y),LD(t,a),kx(t.outputs,a.outputs),vr(a)&&a.data.animation){let E=t.data;E.animation=(E.animation||[]).concat(a.data.animation)}}let l=a.features;if(l)for(let h=0;h<l.length;h++){let g=l[h];g&&g.ngInherit&&g(t),g===br&&(n=!1)}}e=Object.getPrototypeOf(e)}FD(r)}function LD(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let a=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(a))continue;t.inputTransforms??={},t.inputTransforms[a]=e.inputTransforms[a]}}}function FD(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let a=t[r];a.hostVars=e+=a.hostVars,a.hostAttrs=Ko(a.hostAttrs,n=Ko(n,a.hostAttrs))}}function ja(t){return t===Hi?{}:t===nn?[]:t}function PD(t,e){let n=t.viewQuery;n?t.viewQuery=(r,a)=>{e(r,a),n(r,a)}:t.viewQuery=e}function kD(t,e){let n=t.contentQueries;n?t.contentQueries=(r,a,l)=>{e(r,a,l),n(r,a,l)}:t.contentQueries=e}function BD(t,e){let n=t.hostBindings;n?t.hostBindings=(r,a)=>{e(r,a),n(r,a)}:t.hostBindings=e}var Ir=class{},rs=class{};var Ed=class extends Ir{constructor(e,n,r,a=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fc(this);let l=l0(e);this._bootstrapComponents=h1(l.bootstrap),this._r3Injector=t1(e,n,[{provide:Ir,useValue:this},{provide:Zi,useValue:this.componentFactoryResolver},...r],Ut(e),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Id=class extends rs{constructor(e){super(),this.moduleType=e}create(e){return new Ed(this.moduleType,e,[])}};var hc=class extends Ir{constructor(e){super(),this.componentFactoryResolver=new fc(this),this.instance=null;let n=new Jo([...e.providers,{provide:Ir,useValue:this},{provide:Zi,useValue:this.componentFactoryResolver}],e.parent||Ld(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function of(t,e,n=null){return new hc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function sf(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function VD(t){return(t.flags&32)===32}var Zo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Zo||{}),UD=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=ue({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),Wr=class Wr{constructor(){this.ngZone=$(ct),this.scheduler=$(qi),this.errorHandler=$($n,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Wr.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Wr.PHASES=[Zo.EarlyRead,Zo.Write,Zo.MixedReadWrite,Zo.Read],Wr.\u0275prov=ue({token:Wr,providedIn:"root",factory:()=>new Wr});var jg=Wr;function jD(t,e,n,r){return sf(t,L0(),n)?e+Kg(n)+r:oo}function Ha(t,e){return t<<17|e<<2}function ni(t){return t>>17&32767}function HD(t){return(t&2)==2}function zD(t,e){return t&131071|e<<17}function Dd(t){return t|2}function Qi(t){return(t&131068)>>2}function Fu(t,e){return t&-131069|e<<2}function GD(t){return(t&1)===1}function Ad(t){return t|1}function WD(t,e,n,r,a,l){let h=l?e.classBindings:e.styleBindings,g=ni(h),C=Qi(h);t[r]=n;let y=!1,E;if(Array.isArray(n)){let b=n;E=b[1],(E===null||os(b,E)>0)&&(y=!0)}else E=n;if(a)if(C!==0){let N=ni(t[g+1]);t[r+1]=Ha(N,g),N!==0&&(t[N+1]=Fu(t[N+1],r)),t[g+1]=zD(t[g+1],r)}else t[r+1]=Ha(g,0),g!==0&&(t[g+1]=Fu(t[g+1],r)),g=r;else t[r+1]=Ha(C,0),g===0?g=r:t[C+1]=Fu(t[C+1],r),C=r;y&&(t[r+1]=Dd(t[r+1])),Hg(t,E,r,!0),Hg(t,E,r,!1),$D(e,E,t,r,l),h=Ha(g,C),l?e.classBindings=h:e.styleBindings=h}function $D(t,e,n,r,a){let l=a?t.residualClasses:t.residualStyles;l!=null&&typeof e=="string"&&os(l,e)>=0&&(n[r+1]=Ad(n[r+1]))}function Hg(t,e,n,r){let a=t[n+1],l=e===null,h=r?ni(a):Qi(a),g=!1;for(;h!==0&&(g===!1||l);){let C=t[h],y=t[h+1];YD(C,e)&&(g=!0,t[h+1]=r?Ad(y):Dd(y)),h=r?ni(y):Qi(y)}g&&(t[n+1]=r?Dd(a):Ad(a))}function YD(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?os(t,e)>=0:!1}function lo(t,e,n){let r=Qe(),a=L0();if(sf(r,a,e)){let l=bn(),h=sE();vI(l,h,r,t,e,r[Lt],n,!1)}return lo}function zg(t,e,n,r,a){let l=e.inputs,h=a?"class":"style";Kd(t,n,l[h],h,r)}function _c(t,e){return qD(t,e,null,!0),_c}function qD(t,e,n,r){let a=Qe(),l=bn(),h=eE(2);if(l.firstUpdatePass&&XD(l,t,h,r),e!==oo&&sf(a,h,e)){let g=l.data[to()];t2(l,g,a,a[Lt],t,a[h+1]=n2(e,n),r,h)}}function ZD(t,e){return e>=t.expandoStartIndex}function XD(t,e,n,r){let a=t.data;if(a[n+1]===null){let l=a[to()],h=ZD(t,n);r2(l,r)&&e===null&&!h&&(e=!1),e=QD(a,l,e,r),WD(a,l,e,n,h,r)}}function QD(t,e,n,r){let a=iE(t),l=r?e.residualClasses:e.residualStyles;if(a===null)(r?e.classBindings:e.styleBindings)===0&&(n=Pu(null,t,e,n,r),n=is(n,e.attrs,r),l=null);else{let h=e.directiveStylingLast;if(h===-1||t[h]!==a)if(n=Pu(a,t,e,n,r),l===null){let C=KD(t,e,r);C!==void 0&&Array.isArray(C)&&(C=Pu(null,t,e,C[1],r),C=is(C,e.attrs,r),JD(t,e,r,C))}else l=e2(t,e,r)}return l!==void 0&&(r?e.residualClasses=l:e.residualStyles=l),n}function KD(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Qi(r)!==0)return t[ni(r)]}function JD(t,e,n,r){let a=n?e.classBindings:e.styleBindings;t[ni(a)]=r}function e2(t,e,n){let r,a=e.directiveEnd;for(let l=1+e.directiveStylingLast;l<a;l++){let h=t[l].hostAttrs;r=is(r,h,n)}return is(r,e.attrs,n)}function Pu(t,e,n,r,a){let l=null,h=n.directiveEnd,g=n.directiveStylingLast;for(g===-1?g=n.directiveStart:g++;g<h&&(l=e[g],r=is(r,l.hostAttrs,a),l!==t);)g++;return t!==null&&(n.directiveStylingLast=g),r}function is(t,e,n){let r=n?1:2,a=-1;if(e!==null)for(let l=0;l<e.length;l++){let h=e[l];typeof h=="number"?a=h:a===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),sv(t,h,n?!0:e[++l]))}return t===void 0?null:t}function t2(t,e,n,r,a,l,h,g){if(!(e.type&3))return;let C=t.data,y=C[g+1],E=GD(y)?Gg(C,e,n,a,Qi(y),h):void 0;if(!pc(E)){pc(l)||HD(y)&&(l=Gg(C,null,n,a,g,h));let b=D0(to(),n);aI(r,h,b,a,l)}}function Gg(t,e,n,r,a,l){let h=e===null,g;for(;a>0;){let C=t[a],y=Array.isArray(C),E=y?C[1]:C,b=E===null,N=n[a+1];N===oo&&(N=b?nn:void 0);let M=b?bu(N,r):E===r?N:void 0;if(y&&!pc(M)&&(M=bu(C,r)),pc(M)&&(g=M,h))return g;let U=t[a+1];a=h?ni(U):Qi(U)}if(e!==null){let C=l?e.residualClasses:e.residualStyles;C!=null&&(g=bu(C,r))}return g}function pc(t){return t!==void 0}function n2(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ut($d(t)))),t}function r2(t,e){return(t.flags&(e?8:16))!==0}function i2(t,e,n,r,a,l){let h=e.consts,g=vg(h,a),C=Xd(e,t,2,r,g);return II(e,n,C,vg(h,l)),C.attrs!==null&&pd(C,C.attrs,!1),C.mergedAttrs!==null&&pd(C,C.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,C),C}function an(t,e,n,r){let a=Qe(),l=bn(),h=Zr+t,g=a[Lt],C=l.firstCreatePass?i2(h,l,a,e,n,r):l.data[h],y=o2(l,a,C,g,e,t);a[h]=y;let E=C0(C);return Sc(C,!0),I1(g,y,C),!VD(C)&&H0()&&x1(l,a,y,C),Wv()===0&&Yi(y,a),$v(),E&&(dI(l,a,C),T1(l,C,a)),r!==null&&fI(a,C),an}function cn(){let t=qt();R0()?Kv():(t=t.parent,Sc(t,!1));let e=t;Zv(e)&&Xv(),Yv();let n=bn();return n.firstCreatePass&&(G0(n,t),w0(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&dE(e)&&zg(n,e,Qe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&fE(e)&&zg(n,e,Qe(),e.stylesWithoutHost,!1),cn}function Sr(t,e,n,r){return an(t,e,n,r),cn(),Sr}var o2=(t,e,n,r,a,l)=>(z0(!0),p1(r,a,aE()));function Nc(){return Qe()}var gc="en-US";var s2=gc;function a2(t){typeof t=="string"&&(s2=t.toLowerCase().replace(/_/g,"-"))}var c2=(t,e,n)=>{};function Qn(t,e,n,r){let a=Qe(),l=bn(),h=qt();return u2(l,a,a[Lt],h,t,e,r),Qn}function l2(t,e,n,r){let a=t.cleanup;if(a!=null)for(let l=0;l<a.length-1;l+=2){let h=a[l];if(h===n&&a[l+1]===r){let g=e[tc],C=a[l+2];return g.length>C?g[C]:null}typeof h=="string"&&(l+=2)}return null}function u2(t,e,n,r,a,l,h){let g=C0(r),y=t.firstCreatePass&&F1(t),E=e[Fn],b=L1(e),N=!0;if(r.type&3||h){let Y=An(r,e),W=h?h(Y):Y,H=b.length,ee=h?oe=>h(kn(oe[r.index])):r.index,Ue=null;if(!h&&g&&(Ue=l2(t,e,a,r.index)),Ue!==null){let oe=Ue.__ngLastListenerFn__||Ue;oe.__ngNextListenerFn__=l,Ue.__ngLastListenerFn__=l,N=!1}else{l=$g(r,e,E,l),c2(Y,a,l);let oe=n.listen(W,a,l);b.push(l,oe),y&&y.push(a,ee,H,H+1)}}else l=$g(r,e,E,l);let M=r.outputs,U;if(N&&M!==null&&(U=M[a])){let Y=U.length;if(Y)for(let W=0;W<Y;W+=2){let H=U[W],ee=U[W+1],B=e[H][ee].subscribe(l),K=b.length;b.push(l,B),y&&y.push(a,r.index,K,-(K+1))}}}function Wg(t,e,n,r){let a=Ne(null);try{return Rn(6,e,n),n(r)!==!1}catch(l){return P1(t,l),!1}finally{Rn(7,e,n),Ne(a)}}function $g(t,e,n,r){return function a(l){if(l===Function)return r;let h=t.componentOffset>-1?Ar(t.index,e):e;ef(h,5);let g=Wg(e,n,r,l),C=a.__ngNextListenerFn__;for(;C;)g=Wg(e,n,C,l)&&g,C=C.__ngNextListenerFn__;return g}}function Rc(t,e,n){TD(t,e,n)}function us(t){let e=Qe(),n=bn(),r=F0();Pd(r+1);let a=rf(n,r);if(t.dirty&&Hv(e)===((a.metadata.flags&2)===2)){if(a.matches===null)t.reset([]);else{let l=ND(e,r);t.reset(l,RE),t.notifyOnChanges()}return!0}return!1}function ds(){return bD(Qe(),F0())}function ii(t,e=""){let n=Qe(),r=bn(),a=t+Zr,l=r.firstCreatePass?Xd(r,a,1,e,null):r.data[a],h=d2(r,n,l,e,t);n[a]=h,H0()&&x1(r,n,h,l),Sc(l,!1)}var d2=(t,e,n,r,a)=>(z0(!0),GE(e[Lt],r));function af(t){return q1("",t,""),af}function q1(t,e,n){let r=Qe(),a=jD(r,t,e,n);return a!==oo&&kI(r,to(),a),q1}function f2(t,e,n){let r=bn();if(r.firstCreatePass){let a=vr(t);bd(n,r.data,r.blueprint,a,!0),bd(e,r.data,r.blueprint,a,!1)}}function bd(t,e,n,r,a){if(t=Ot(t),Array.isArray(t))for(let l=0;l<t.length;l++)bd(t[l],e,n,r,a);else{let l=bn(),h=Qe(),g=qt(),C=Gi(t)?t:Ot(t.provide),y=g0(t),E=g.providerIndexes&1048575,b=g.directiveStart,N=g.providerIndexes>>20;if(Gi(t)||!t.multi){let M=new Jr(y,a,it),U=Bu(C,e,a?E:E+N,b);U===-1?(Qu(sc(g,h),l,C),ku(l,t,e.length),e.push(C),g.directiveStart++,g.directiveEnd++,a&&(g.providerIndexes+=1048576),n.push(M),h.push(M)):(n[U]=M,h[U]=M)}else{let M=Bu(C,e,E+N,b),U=Bu(C,e,E,E+N),Y=M>=0&&n[M],W=U>=0&&n[U];if(a&&!W||!a&&!Y){Qu(sc(g,h),l,C);let H=g2(a?p2:h2,n.length,a,r,y);!a&&W&&(n[U].providerFactory=H),ku(l,t,e.length,0),e.push(C),g.directiveStart++,g.directiveEnd++,a&&(g.providerIndexes+=1048576),n.push(H),h.push(H)}else{let H=Z1(n[a?U:M],y,!a&&r);ku(l,t,M>-1?M:U,H)}!a&&r&&W&&n[U].componentProviders++}}}function ku(t,e,n,r){let a=Gi(e),l=Tv(e);if(a||l){let C=(l?Ot(e.useClass):e).prototype.ngOnDestroy;if(C){let y=t.destroyHooks||(t.destroyHooks=[]);if(!a&&e.multi){let E=y.indexOf(n);E===-1?y.push(n,[r,C]):y[E+1].push(r,C)}else y.push(n,C)}}}function Z1(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Bu(t,e,n,r){for(let a=n;a<r;a++)if(e[a]===t)return a;return-1}function h2(t,e,n,r){return Sd(this.multi,[])}function p2(t,e,n,r){let a=this.multi,l;if(this.providerFactory){let h=this.providerFactory.componentProviders,g=ei(n,n[ye],this.providerFactory.index,r);l=g.slice(0,h),Sd(a,l);for(let C=h;C<g.length;C++)l.push(g[C])}else l=[],Sd(a,l);return l}function Sd(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function g2(t,e,n,r,a){let l=new Jr(t,n,it);return l.multi=[],l.index=e,l.componentProviders=0,Z1(l,a,r&&!n),l}function Oc(t,e=[]){return n=>{n.providersResolver=(r,a)=>f2(r,a?a(t):t,e)}}var m2=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let a=f0(!1,r.type),l=a.length>0?of([a],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,l)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=ue({token:e,providedIn:"environment",factory:()=>new e(Ie(on))});let t=e;return t})();function Tr(t){cs("NgStandalone"),t.getStandaloneInjector=e=>e.get(m2).getOrCreateStandaloneInjector(t)}var Lc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var X1=new ae("");function oi(t){return!!t&&typeof t.then=="function"}function Q1(t){return!!t&&typeof t.subscribe=="function"}var K1=new ae(""),J1=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,a)=>{this.resolve=r,this.reject=a}),this.appInits=$(K1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let l of this.appInits){let h=l();if(oi(h))r.push(h);else if(Q1(h)){let g=new Promise((C,y)=>{h.subscribe({complete:C,error:y})});r.push(g)}}let a=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{a()}).catch(l=>{this.reject(l)}),r.length===0&&a(),this.initialized=!0}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cf=new ae("");function y2(){Fp(()=>{throw new ie(600,!1)})}function w2(t){return t.isBoundToModule}var C2=10;function x2(t,e,n){try{let r=n();return oi(r)?r.catch(a=>{throw e.runOutsideAngular(()=>t.handleError(a)),a}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var si=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$(_E),this.afterRenderManager=$(UD),this.zonelessEnabled=$(nf),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Et,this.afterTick=new Et,this.componentTypes=[],this.components=[],this.isStable=$(no).hasPendingTasks.pipe(ve(r=>!r)),this._injector=$(on)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(a=>{r=this.isStable.subscribe({next:l=>{l&&a()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,a){let l=r instanceof dc;if(!this._injector.get(J1).done){let M=!l&&c0(r),U=!1;throw new ie(405,U)}let g;l?g=r:g=this._injector.get(Zi).resolveComponentFactory(r),this.componentTypes.push(g.componentType);let C=w2(g)?void 0:this._injector.get(Ir),y=a||g.selector,E=g.create(Er.NULL,[],y,C),b=E.location.nativeElement,N=E.injector.get(X1,null);return N?.registerApplication(b),E.onDestroy(()=>{this.detachView(E.hostView),qa(this.components,E),N?.unregisterApplication(b)}),this._loadComponent(E),E}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ie(101,!1);let r=Ne(null);try{this._runningTick=!0,this.synchronize()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1,Ne(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(Xi,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let a=0;for(;this.dirtyFlags!==0&&a++<C2;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let a=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(a);for(let{_lView:l,notifyErrorHandler:h}of this._views)v2(l,h,a,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>Ic(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let a=r;this._views.push(a),a.attachToAppRef(this)}detachView(r){let a=r;qa(this._views,a),a.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let a=this._injector.get(cf,[]);[...this._bootstrapListeners,...a].forEach(l=>l(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>qa(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ie(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qa(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function v2(t,e,n,r){if(!n&&!Ic(t))return;V1(t,e,n&&!r?0:1)}var Td=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},lf=(()=>{let e=class e{compileModuleSync(r){return new Id(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let a=this.compileModuleSync(r),l=l0(r),h=h1(l.declarations).reduce((g,C)=>{let y=Yr(C);return y&&g.push(new ns(y)),g},[]);return new Td(a,h)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var E2=(()=>{let e=class e{constructor(){this.zone=$(ct),this.changeDetectionScheduler=$(qi),this.applicationRef=$(si)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),I2=new ae("",{factory:()=>!1});function em({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ct(be(q({},nm()),{scheduleInRootZone:n})),[{provide:ct,useFactory:t},{provide:zi,multi:!0,useFactory:()=>{let r=$(E2,{optional:!0});return()=>r.initialize()}},{provide:zi,multi:!0,useFactory:()=>{let r=$(D2);return()=>{r.initialize()}}},e===!0?{provide:z1,useValue:!0}:[],{provide:G1,useValue:n??n1}]}function tm(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=em({ngZoneFactory:()=>{let a=nm(t);return a.scheduleInRootZone=n,a.shouldCoalesceEventChangeDetection&&cs("NgZone_CoalesceEvent"),new ct(a)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Cc([{provide:I2,useValue:!0},{provide:nf,useValue:!1},r])}function nm(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var D2=(()=>{let e=class e{constructor(){this.subscription=new st,this.initialized=!1,this.zone=$(ct),this.pendingTasks=$(no)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ct.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ct.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var A2=(()=>{let e=class e{constructor(){this.appRef=$(si),this.taskService=$(no),this.ngZone=$(ct),this.zonelessEnabled=$(nf),this.disableScheduling=$(z1,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new st,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(cc):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&($(G1,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof nd||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let a=this.useMicrotaskScheduler?Tg:i1;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>a(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(cc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(a){throw this.taskService.remove(r),a}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Tg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function b2(){return typeof $localize<"u"&&$localize.locale||gc}var uf=new ae("",{providedIn:"root",factory:()=>$(uf,Ce.Optional|Ce.SkipSelf)||b2()});var rm=new ae("");function za(t){return!!t.platformInjector}function S2(t){let e=za(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ct);return n.run(()=>{za(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get($n,null),a;if(n.runOutsideAngular(()=>{a=n.onError.subscribe({next:l=>{r.handleError(l)}})}),za(t)){let l=()=>e.destroy(),h=t.platformInjector.get(rm);h.add(l),e.onDestroy(()=>{a.unsubscribe(),h.delete(l)})}else t.moduleRef.onDestroy(()=>{qa(t.allPlatformModules,t.moduleRef),a.unsubscribe()});return x2(r,n,()=>{let l=e.get(J1);return l.runInitializers(),l.donePromise.then(()=>{let h=e.get(uf,gc);if(a2(h||gc),za(t)){let g=e.get(si);return t.rootComponent!==void 0&&g.bootstrap(t.rootComponent),g}else return T2(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function T2(t,e){let n=t.injector.get(si);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new ie(-403,!1);e.push(t)}var Za=null;function M2(t=[],e){return Er.create({name:e,providers:[{provide:xc,useValue:"platform"},{provide:rm,useValue:new Set([()=>Za=null])},...t]})}function _2(t=[]){if(Za)return Za;let e=M2(t);return Za=e,y2(),N2(e),e}function N2(t){t.get(zd,null)?.forEach(n=>n())}var uo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=R2;let t=e;return t})();function R2(t){return O2(qt(),Qe(),(t&16)===16)}function O2(t,e,n){if(Ec(t)&&!n){let r=Ar(t.index,e);return new ti(r,r)}else if(t.type&175){let r=e[Pn];return new ti(r,e)}return null}function im(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,a=_2(r),l=[em({}),{provide:qi,useExisting:A2},...n||[]],h=new hc({providers:l,parent:a,debugName:"",runEnvironmentInitializers:!1});return S2({r3Injector:h.injector,platformInjector:a,rootComponent:e})}catch(e){return Promise.reject(e)}}var om=new ae("");function fs(t,e){cs("NgSignals");let n=Rp(t);return e?.equal&&(n[hr].equal=e.equal),n}function Kn(t){let e=Ne(null);try{return t()}finally{Ne(e)}}var lm=null;function Jn(){return lm}function um(t){lm??=t}var Fc=class{};var Zt=new ae(""),dm=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=ue({token:e,factory:()=>$(P2),providedIn:"platform"});let t=e;return t})();var P2=(()=>{let e=class e extends dm{constructor(){super(),this._doc=$(Zt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Jn().getBaseHref(this._doc)}onPopState(r){let a=Jn().getGlobalEventTarget(this._doc,"window");return a.addEventListener("popstate",r,!1),()=>a.removeEventListener("popstate",r)}onHashChange(r){let a=Jn().getGlobalEventTarget(this._doc,"window");return a.addEventListener("hashchange",r,!1),()=>a.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,a,l){this._history.pushState(r,a,l)}replaceState(r,a,l){this._history.replaceState(r,a,l)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=ue({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function fm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function sm(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ci(t){return t&&t[0]!=="?"?"?"+t:t}var kc=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=ue({token:e,factory:()=>$(hm),providedIn:"root"});let t=e;return t})(),k2=new ae(""),hm=(()=>{let e=class e extends kc{constructor(r,a){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=a??this._platformLocation.getBaseHrefFromDOM()??$(Zt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return fm(this._baseHref,r)}path(r=!1){let a=this._platformLocation.pathname+ci(this._platformLocation.search),l=this._platformLocation.hash;return l&&r?`${a}${l}`:a}pushState(r,a,l,h){let g=this.prepareExternalUrl(l+ci(h));this._platformLocation.pushState(r,a,g)}replaceState(r,a,l,h){let g=this.prepareExternalUrl(l+ci(h));this._platformLocation.replaceState(r,a,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(a){return new(a||e)(Ie(dm),Ie(k2,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var hs=(()=>{let e=class e{constructor(r){this._subject=new rt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let a=this._locationStrategy.getBaseHref();this._basePath=U2(sm(am(a))),this._locationStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,a=""){return this.path()==this.normalize(r+ci(a))}normalize(r){return e.stripTrailingSlash(V2(this._basePath,am(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,a="",l=null){this._locationStrategy.pushState(l,"",r,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ci(a)),l)}replaceState(r,a="",l=null){this._locationStrategy.replaceState(l,"",r,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ci(a)),l)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(a=>{this._notifyUrlChangeListeners(a.url,a.state)}),()=>{let a=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(a,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",a){this._urlChangeListeners.forEach(l=>l(r,a))}subscribe(r,a,l){return this._subject.subscribe({next:r,error:a,complete:l})}};e.normalizeQueryParams=ci,e.joinWithSlash=fm,e.stripTrailingSlash=sm,e.\u0275fac=function(a){return new(a||e)(Ie(kc))},e.\u0275prov=ue({token:e,factory:()=>B2(),providedIn:"root"});let t=e;return t})();function B2(){return new hs(Ie(kc))}function V2(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function am(t){return t.replace(/\/index.html$/,"")}function U2(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function pm(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[a,l]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(a.trim()===e)return decodeURIComponent(l)}return null}var gm="browser",j2="server";function hf(t){return t===j2}var Pc=class{};var mf=class extends Fc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},yf=class t extends mf{static makeCurrent(){um(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=z2();return n==null?null:G2(n)}resetBaseElement(){ps=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return pm(document.cookie,e)}},ps=null;function z2(){return ps=ps||document.querySelector("base"),ps?ps.getAttribute("href"):null}function G2(t){return new URL(t,document.baseURI).pathname}var W2=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let t=e;return t})(),Bc=new ae(""),Cm=(()=>{let e=class e{constructor(r,a){this._zone=a,this._eventNameToPlugin=new Map,r.forEach(l=>{l.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,a,l){return this._findPluginFor(a).addEventListener(r,a,l)}getZone(){return this._zone}_findPluginFor(r){let a=this._eventNameToPlugin.get(r);if(a)return a;if(a=this._plugins.find(h=>h.supports(r)),!a)throw new ie(5101,!1);return this._eventNameToPlugin.set(r,a),a}};e.\u0275fac=function(a){return new(a||e)(Ie(Bc),Ie(ct))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let t=e;return t})(),gs=class{constructor(e){this._doc=e}},pf="ng-app-id",xm=(()=>{let e=class e{constructor(r,a,l,h={}){this.doc=r,this.appId=a,this.nonce=l,this.platformId=h,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=hf(h),this.resetHostNodes()}addStyles(r){for(let a of r)this.changeUsageCount(a,1)===1&&this.onStyleAdded(a)}removeStyles(r){for(let a of r)this.changeUsageCount(a,-1)<=0&&this.onStyleRemoved(a)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(a=>a.remove()),r.clear());for(let a of this.getAllStyles())this.onStyleRemoved(a);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let a of this.getAllStyles())this.addStyleToHost(r,a)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let a of this.hostNodes)this.addStyleToHost(a,r)}onStyleRemoved(r){let a=this.styleRef;a.get(r)?.elements?.forEach(l=>l.remove()),a.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${pf}="${this.appId}"]`);if(r?.length){let a=new Map;return r.forEach(l=>{l.textContent!=null&&a.set(l.textContent,l)}),a}return null}changeUsageCount(r,a){let l=this.styleRef;if(l.has(r)){let h=l.get(r);return h.usage+=a,h.usage}return l.set(r,{usage:a,elements:[]}),a}getStyleElement(r,a){let l=this.styleNodesInDOM,h=l?.get(a);if(h?.parentNode===r)return l.delete(a),h.removeAttribute(pf),h;{let g=this.doc.createElement("style");return this.nonce&&g.setAttribute("nonce",this.nonce),g.textContent=a,this.platformIsServer&&g.setAttribute(pf,this.appId),r.appendChild(g),g}}addStyleToHost(r,a){let l=this.getStyleElement(r,a),h=this.styleRef,g=h.get(a)?.elements;g?g.push(l):h.set(a,{elements:[l],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(a){return new(a||e)(Ie(Zt),Ie(Hd),Ie(Gd,8),Ie(io))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let t=e;return t})(),gf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Cf=/%COMP%/g,vm="%COMP%",$2=`_nghost-${vm}`,Y2=`_ngcontent-${vm}`,q2=!0,Z2=new ae("",{providedIn:"root",factory:()=>q2});function X2(t){return Y2.replace(Cf,t)}function Q2(t){return $2.replace(Cf,t)}function Em(t,e){return e.map(n=>n.replace(Cf,t))}var mm=(()=>{let e=class e{constructor(r,a,l,h,g,C,y,E=null){this.eventManager=r,this.sharedStylesHost=a,this.appId=l,this.removeStylesOnCompDestroy=h,this.doc=g,this.platformId=C,this.ngZone=y,this.nonce=E,this.rendererByCompId=new Map,this.platformIsServer=hf(C),this.defaultRenderer=new ms(r,g,y,this.platformIsServer)}createRenderer(r,a){if(!r||!a)return this.defaultRenderer;this.platformIsServer&&a.encapsulation===Ln.ShadowDom&&(a=be(q({},a),{encapsulation:Ln.Emulated}));let l=this.getOrCreateRenderer(r,a);return l instanceof Vc?l.applyToHost(r):l instanceof ys&&l.applyStyles(),l}getOrCreateRenderer(r,a){let l=this.rendererByCompId,h=l.get(a.id);if(!h){let g=this.doc,C=this.ngZone,y=this.eventManager,E=this.sharedStylesHost,b=this.removeStylesOnCompDestroy,N=this.platformIsServer;switch(a.encapsulation){case Ln.Emulated:h=new Vc(y,E,a,this.appId,b,g,C,N);break;case Ln.ShadowDom:return new wf(y,E,r,a,g,C,this.nonce,N);default:h=new ys(y,E,a,b,g,C,N);break}l.set(a.id,h)}return h}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(a){return new(a||e)(Ie(Cm),Ie(xm),Ie(Hd),Ie(Z2),Ie(Zt),Ie(io),Ie(ct),Ie(Gd))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let t=e;return t})(),ms=class{constructor(e,n,r,a){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=a,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(gf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ym(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ym(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ie(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,a){if(a){n=a+":"+n;let l=gf[a];l?e.setAttributeNS(l,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let a=gf[r];a?e.removeAttributeNS(a,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,a){a&(Yn.DashCase|Yn.Important)?e.style.setProperty(n,r,a&Yn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Yn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Jn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function ym(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var wf=class extends ms{constructor(e,n,r,a,l,h,g,C){super(e,l,h,C),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let y=Em(a.id,a.styles);for(let E of y){let b=document.createElement("style");g&&b.setAttribute("nonce",g),b.textContent=E,this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ys=class extends ms{constructor(e,n,r,a,l,h,g,C){super(e,l,h,g),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=a,this.styles=C?Em(C,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Vc=class extends ys{constructor(e,n,r,a,l,h,g,C){let y=a+"-"+r.id;super(e,n,r,l,h,g,C,y),this.contentAttr=X2(y),this.hostAttr=Q2(y)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},K2=(()=>{let e=class e extends gs{constructor(r){super(r)}supports(r){return!0}addEventListener(r,a,l){return r.addEventListener(a,l,!1),()=>this.removeEventListener(r,a,l)}removeEventListener(r,a,l){return r.removeEventListener(a,l)}};e.\u0275fac=function(a){return new(a||e)(Ie(Zt))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let t=e;return t})(),J2=(()=>{let e=class e extends gs{constructor(r){super(r),this.delegate=$(om,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,a,l){return this.delegate.addEventListener(r,a,l)}removeEventListener(r,a,l){return this.delegate.removeEventListener(r,a,l)}};e.\u0275fac=function(a){return new(a||e)(Ie(Zt))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let t=e;return t})(),wm=["alt","control","meta","shift"],eA={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tA={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},nA=(()=>{let e=class e extends gs{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,a,l){let h=e.parseEventName(a),g=e.eventCallback(h.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Jn().onAndCancel(r,h.domEventName,g))}static parseEventName(r){let a=r.toLowerCase().split("."),l=a.shift();if(a.length===0||!(l==="keydown"||l==="keyup"))return null;let h=e._normalizeKey(a.pop()),g="",C=a.indexOf("code");if(C>-1&&(a.splice(C,1),g="code."),wm.forEach(E=>{let b=a.indexOf(E);b>-1&&(a.splice(b,1),g+=E+".")}),g+=h,a.length!=0||h.length===0)return null;let y={};return y.domEventName=l,y.fullKey=g,y}static matchEventFullKeyCode(r,a){let l=eA[r.key]||r.key,h="";return a.indexOf("code.")>-1&&(l=r.code,h="code."),l==null||!l?!1:(l=l.toLowerCase(),l===" "?l="space":l==="."&&(l="dot"),wm.forEach(g=>{if(g!==l){let C=tA[g];C(r)&&(h+=g+".")}}),h+=l,h===a)}static eventCallback(r,a,l){return h=>{e.matchEventFullKeyCode(h,r)&&l.runGuarded(()=>a(h))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(a){return new(a||e)(Ie(Zt))},e.\u0275prov=ue({token:e,factory:e.\u0275fac});let t=e;return t})();function Im(t,e){return im(q({rootComponent:t},rA(e)))}function rA(t){return{appProviders:[...cA,...t?.providers??[]],platformProviders:aA}}function iA(){yf.makeCurrent()}function oA(){return new $n}function sA(){return d1(document),document}var aA=[{provide:io,useValue:gm},{provide:zd,useValue:iA,multi:!0},{provide:Zt,useFactory:sA,deps:[]}];var cA=[{provide:xc,useValue:"root"},{provide:$n,useFactory:oA,deps:[]},{provide:Bc,useClass:K2,multi:!0,deps:[Zt,ct,io]},{provide:Bc,useClass:nA,multi:!0,deps:[Zt]},{provide:Bc,useClass:J2,multi:!0},mm,xm,Cm,{provide:Xi,useExisting:mm},{provide:Pc,useClass:W2,deps:[]},[]];var Dm=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(a){return new(a||e)(Ie(Zt))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var pe="primary",Ls=Symbol("RouteTitle"),Df=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function yo(t){return new Df(t)}function dA(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let a={};for(let l=0;l<r.length;l++){let h=r[l],g=t[l];if(h[0]===":")a[h.substring(1)]=g;else if(h!==g.path)return null}return{consumed:t.slice(0,r.length),posParams:a}}function fA(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Vn(t[n],e[n]))return!1;return!0}function Vn(t,e){let n=t?Af(t):void 0,r=e?Af(e):void 0;if(!n||!r||n.length!=r.length)return!1;let a;for(let l=0;l<n.length;l++)if(a=n[l],!Rm(t[a],e[a]))return!1;return!0}function Af(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Rm(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((a,l)=>r[l]===a)}else return t===e}function Om(t){return t.length>0?t[t.length-1]:null}function Mr(t){return wu(t)?t:oi(t)?nt(Promise.resolve(t)):he(t)}var hA={exact:Fm,subset:Pm},Lm={exact:pA,subset:gA,ignored:()=>!0};function Am(t,e,n){return hA[n.paths](t.root,e.root,n.matrixParams)&&Lm[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function pA(t,e){return Vn(t,e)}function Fm(t,e,n){if(!ui(t.segments,e.segments)||!Hc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Fm(t.children[r],e.children[r],n))return!1;return!0}function gA(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Rm(t[n],e[n]))}function Pm(t,e,n){return km(t,e,e.segments,n)}function km(t,e,n,r){if(t.segments.length>n.length){let a=t.segments.slice(0,n.length);return!(!ui(a,n)||e.hasChildren()||!Hc(a,n,r))}else if(t.segments.length===n.length){if(!ui(t.segments,n)||!Hc(t.segments,n,r))return!1;for(let a in e.children)if(!t.children[a]||!Pm(t.children[a],e.children[a],r))return!1;return!0}else{let a=n.slice(0,t.segments.length),l=n.slice(t.segments.length);return!ui(t.segments,a)||!Hc(t.segments,a,r)||!t.children[pe]?!1:km(t.children[pe],e,l,r)}}function Hc(t,e,n){return e.every((r,a)=>Lm[n](t[a].parameters,r.parameters))}var tr=class{constructor(e=new ke([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=yo(this.queryParams),this._queryParamMap}toString(){return wA.serialize(this)}},ke=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zc(this)}},li=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=yo(this.parameters),this._parameterMap}toString(){return Vm(this)}};function mA(t,e){return ui(t,e)&&t.every((n,r)=>Vn(n.parameters,e[r].parameters))}function ui(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function yA(t,e){let n=[];return Object.entries(t.children).forEach(([r,a])=>{r===pe&&(n=n.concat(e(a,r)))}),Object.entries(t.children).forEach(([r,a])=>{r!==pe&&(n=n.concat(e(a,r)))}),n}var Qf=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=ue({token:e,factory:()=>new Ds,providedIn:"root"});let t=e;return t})(),Ds=class{parse(e){let n=new Sf(e);return new tr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ws(e.root,!0)}`,r=vA(e.queryParams),a=typeof e.fragment=="string"?`#${CA(e.fragment)}`:"";return`${n}${r}${a}`}},wA=new Ds;function zc(t){return t.segments.map(e=>Vm(e)).join("/")}function ws(t,e){if(!t.hasChildren())return zc(t);if(e){let n=t.children[pe]?ws(t.children[pe],!1):"",r=[];return Object.entries(t.children).forEach(([a,l])=>{a!==pe&&r.push(`${a}:${ws(l,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=yA(t,(r,a)=>a===pe?[ws(t.children[pe],!1)]:[`${a}:${ws(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[pe]!=null?`${zc(t)}/${n[0]}`:`${zc(t)}/(${n.join("//")})`}}function Bm(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Uc(t){return Bm(t).replace(/%3B/gi,";")}function CA(t){return encodeURI(t)}function bf(t){return Bm(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gc(t){return decodeURIComponent(t)}function bm(t){return Gc(t.replace(/\+/g,"%20"))}function Vm(t){return`${bf(t.path)}${xA(t.parameters)}`}function xA(t){return Object.entries(t).map(([e,n])=>`;${bf(e)}=${bf(n)}`).join("")}function vA(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(a=>`${Uc(n)}=${Uc(a)}`).join("&"):`${Uc(n)}=${Uc(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var EA=/^[^\/()?;#]+/;function xf(t){let e=t.match(EA);return e?e[0]:""}var IA=/^[^\/()?;=#]+/;function DA(t){let e=t.match(IA);return e?e[0]:""}var AA=/^[^=?&#]+/;function bA(t){let e=t.match(AA);return e?e[0]:""}var SA=/^[^&#]+/;function TA(t){let e=t.match(SA);return e?e[0]:""}var Sf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[pe]=new ke(e,n)),r}parseSegment(){let e=xf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ie(4009,!1);return this.capture(e),new li(Gc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=DA(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let a=xf(this.remaining);a&&(r=a,this.capture(r))}e[Gc(n)]=Gc(r)}parseQueryParam(e){let n=bA(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let h=TA(this.remaining);h&&(r=h,this.capture(r))}let a=bm(n),l=bm(r);if(e.hasOwnProperty(a)){let h=e[a];Array.isArray(h)||(h=[h],e[a]=h),h.push(l)}else e[a]=l}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=xf(this.remaining),a=this.remaining[r.length];if(a!=="/"&&a!==")"&&a!==";")throw new ie(4010,!1);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=pe);let h=this.parseChildren();n[l]=Object.keys(h).length===1?h[pe]:new ke([],h),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ie(4011,!1)}};function Um(t){return t.segments.length>0?new ke([],{[pe]:t}):t}function jm(t){let e={};for(let[r,a]of Object.entries(t.children)){let l=jm(a);if(r===pe&&l.segments.length===0&&l.hasChildren())for(let[h,g]of Object.entries(l.children))e[h]=g;else(l.segments.length>0||l.hasChildren())&&(e[r]=l)}let n=new ke(t.segments,e);return MA(n)}function MA(t){if(t.numberOfChildren===1&&t.children[pe]){let e=t.children[pe];return new ke(t.segments.concat(e.segments),e.children)}return t}function As(t){return t instanceof tr}function _A(t,e,n=null,r=null){let a=Hm(t);return zm(a,e,n,r)}function Hm(t){let e;function n(l){let h={};for(let C of l.children){let y=n(C);h[C.outlet]=y}let g=new ke(l.url,h);return l===t&&(e=g),g}let r=n(t.root),a=Um(r);return e??a}function zm(t,e,n,r){let a=t;for(;a.parent;)a=a.parent;if(e.length===0)return vf(a,a,a,n,r);let l=NA(e);if(l.toRoot())return vf(a,a,new ke([],{}),n,r);let h=RA(l,a,t),g=h.processChildren?vs(h.segmentGroup,h.index,l.commands):Wm(h.segmentGroup,h.index,l.commands);return vf(a,h.segmentGroup,g,n,r)}function Wc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function bs(t){return typeof t=="object"&&t!=null&&t.outlets}function vf(t,e,n,r,a){let l={};r&&Object.entries(r).forEach(([C,y])=>{l[C]=Array.isArray(y)?y.map(E=>`${E}`):`${y}`});let h;t===e?h=n:h=Gm(t,e,n);let g=Um(jm(h));return new tr(g,l,a)}function Gm(t,e,n){let r={};return Object.entries(t.children).forEach(([a,l])=>{l===e?r[a]=n:r[a]=Gm(l,e,n)}),new ke(t.segments,r)}var $c=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Wc(r[0]))throw new ie(4003,!1);let a=r.find(bs);if(a&&a!==Om(r))throw new ie(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function NA(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new $c(!0,0,t);let e=0,n=!1,r=t.reduce((a,l,h)=>{if(typeof l=="object"&&l!=null){if(l.outlets){let g={};return Object.entries(l.outlets).forEach(([C,y])=>{g[C]=typeof y=="string"?y.split("/"):y}),[...a,{outlets:g}]}if(l.segmentPath)return[...a,l.segmentPath]}return typeof l!="string"?[...a,l]:h===0?(l.split("/").forEach((g,C)=>{C==0&&g==="."||(C==0&&g===""?n=!0:g===".."?e++:g!=""&&a.push(g))}),a):[...a,l]},[]);return new $c(n,e,r)}var po=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function RA(t,e,n){if(t.isAbsolute)return new po(e,!0,0);if(!n)return new po(e,!1,NaN);if(n.parent===null)return new po(n,!0,0);let r=Wc(t.commands[0])?0:1,a=n.segments.length-1+r;return OA(n,a,t.numberOfDoubleDots)}function OA(t,e,n){let r=t,a=e,l=n;for(;l>a;){if(l-=a,r=r.parent,!r)throw new ie(4005,!1);a=r.segments.length}return new po(r,!1,a-l)}function LA(t){return bs(t[0])?t[0].outlets:{[pe]:t}}function Wm(t,e,n){if(t??=new ke([],{}),t.segments.length===0&&t.hasChildren())return vs(t,e,n);let r=FA(t,e,n),a=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let l=new ke(t.segments.slice(0,r.pathIndex),{});return l.children[pe]=new ke(t.segments.slice(r.pathIndex),t.children),vs(l,0,a)}else return r.match&&a.length===0?new ke(t.segments,{}):r.match&&!t.hasChildren()?Tf(t,e,n):r.match?vs(t,0,a):Tf(t,e,n)}function vs(t,e,n){if(n.length===0)return new ke(t.segments,{});{let r=LA(n),a={};if(Object.keys(r).some(l=>l!==pe)&&t.children[pe]&&t.numberOfChildren===1&&t.children[pe].segments.length===0){let l=vs(t.children[pe],e,n);return new ke(t.segments,l.children)}return Object.entries(r).forEach(([l,h])=>{typeof h=="string"&&(h=[h]),h!==null&&(a[l]=Wm(t.children[l],e,h))}),Object.entries(t.children).forEach(([l,h])=>{r[l]===void 0&&(a[l]=h)}),new ke(t.segments,a)}}function FA(t,e,n){let r=0,a=e,l={match:!1,pathIndex:0,commandIndex:0};for(;a<t.segments.length;){if(r>=n.length)return l;let h=t.segments[a],g=n[r];if(bs(g))break;let C=`${g}`,y=r<n.length-1?n[r+1]:null;if(a>0&&C===void 0)break;if(C&&y&&typeof y=="object"&&y.outlets===void 0){if(!Tm(C,y,h))return l;r+=2}else{if(!Tm(C,{},h))return l;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}function Tf(t,e,n){let r=t.segments.slice(0,e),a=0;for(;a<n.length;){let l=n[a];if(bs(l)){let C=PA(l.outlets);return new ke(r,C)}if(a===0&&Wc(n[0])){let C=t.segments[e];r.push(new li(C.path,Sm(n[0]))),a++;continue}let h=bs(l)?l.outlets[pe]:`${l}`,g=a<n.length-1?n[a+1]:null;h&&g&&Wc(g)?(r.push(new li(h,Sm(g))),a+=2):(r.push(new li(h,{})),a++)}return new ke(r,{})}function PA(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Tf(new ke([],{}),0,r))}),e}function Sm(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Tm(t,e,n){return t==n.path&&Vn(e,n.parameters)}var Es="imperative",At=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(At||{}),ln=class{constructor(e,n){this.id=e,this.url=n}},Ss=class extends ln{constructor(e,n,r="imperative",a=null){super(e,n),this.type=At.NavigationStart,this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},di=class extends ln{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=At.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Qt||{}),Mf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Mf||{}),er=class extends ln{constructor(e,n,r,a){super(e,n),this.reason=r,this.code=a,this.type=At.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fi=class extends ln{constructor(e,n,r,a){super(e,n),this.reason=r,this.code=a,this.type=At.NavigationSkipped}},Ts=class extends ln{constructor(e,n,r,a){super(e,n),this.error=r,this.target=a,this.type=At.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Yc=class extends ln{constructor(e,n,r,a){super(e,n),this.urlAfterRedirects=r,this.state=a,this.type=At.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_f=class extends ln{constructor(e,n,r,a){super(e,n),this.urlAfterRedirects=r,this.state=a,this.type=At.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nf=class extends ln{constructor(e,n,r,a,l){super(e,n),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=l,this.type=At.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Rf=class extends ln{constructor(e,n,r,a){super(e,n),this.urlAfterRedirects=r,this.state=a,this.type=At.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Of=class extends ln{constructor(e,n,r,a){super(e,n),this.urlAfterRedirects=r,this.state=a,this.type=At.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lf=class{constructor(e){this.route=e,this.type=At.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ff=class{constructor(e){this.route=e,this.type=At.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Pf=class{constructor(e){this.snapshot=e,this.type=At.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kf=class{constructor(e){this.snapshot=e,this.type=At.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bf=class{constructor(e){this.snapshot=e,this.type=At.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vf=class{constructor(e){this.snapshot=e,this.type=At.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ms=class{},wo=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function kA(t,e){return t.providers&&!t._injector&&(t._injector=of(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Sn(t){return t.outlet||pe}function BA(t,e){let n=t.filter(r=>Sn(r)===e);return n.push(...t.filter(r=>Sn(r)!==e)),n}function Fs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Uf=class{get injector(){return Fs(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new el(this.rootInjector),this.attachRef=null}},el=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,a){let l=this.getOrCreateContext(r);l.outlet=a,this.contexts.set(r,l)}onChildOutletDestroyed(r){let a=this.getContext(r);a&&(a.outlet=null,a.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let a=this.getContext(r);return a||(a=new Uf(this.rootInjector),this.contexts.set(r,a)),a}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(a){return new(a||e)(Ie(on))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=jf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=jf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Hf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return Hf(e,this._root).map(n=>n.value)}};function jf(t,e){if(t===e.value)return e;for(let n of e.children){let r=jf(t,n);if(r)return r}return null}function Hf(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Hf(t,n);if(r.length)return r.unshift(e),r}return[]}var Xt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ho(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Zc=class extends qc{constructor(e,n){super(e),this.snapshot=n,Kf(this,e)}toString(){return this.snapshot.toString()}};function $m(t){let e=VA(t),n=new It([new li("",{})]),r=new It({}),a=new It({}),l=new It({}),h=new It(""),g=new Co(n,r,l,h,a,pe,t,e.root);return g.snapshot=e.root,new Zc(new Xt(g,[]),e)}function VA(t){let e={},n={},r={},a="",l=new go([],e,r,a,n,pe,t,null,{});return new Qc("",new Xt(l,[]))}var Co=class{constructor(e,n,r,a,l,h,g,C){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=a,this.dataSubject=l,this.outlet=h,this.component=g,this._futureSnapshot=C,this.title=this.dataSubject?.pipe(ve(y=>y[Ls]))??he(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=a,this.data=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ve(e=>yo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ve(e=>yo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Xc(t,e,n="emptyOnly"){let r,{routeConfig:a}=t;return e!==null&&(n==="always"||a?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:q(q({},e.params),t.params),data:q(q({},e.data),t.data),resolve:q(q(q(q({},t.data),e.data),a?.data),t._resolvedData)}:r={params:q({},t.params),data:q({},t.data),resolve:q(q({},t.data),t._resolvedData??{})},a&&qm(a)&&(r.resolve[Ls]=a.title),r}var go=class{get title(){return this.data?.[Ls]}constructor(e,n,r,a,l,h,g,C,y){this.url=e,this.params=n,this.queryParams=r,this.fragment=a,this.data=l,this.outlet=h,this.component=g,this.routeConfig=C,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=yo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=yo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Qc=class extends qc{constructor(e,n){super(n),this.url=e,Kf(this,n)}toString(){return Ym(this._root)}};function Kf(t,e){e.value._routerState=t,e.children.forEach(n=>Kf(t,n))}function Ym(t){let e=t.children.length>0?` { ${t.children.map(Ym).join(", ")} } `:"";return`${t.value}${e}`}function Ef(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Vn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Vn(e.params,n.params)||t.paramsSubject.next(n.params),fA(e.url,n.url)||t.urlSubject.next(n.url),Vn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function zf(t,e){let n=Vn(t.params,e.params)&&mA(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||zf(t.parent,e.parent))}function qm(t){return typeof t.title=="string"||t.title===null}var Jf=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=pe,this.activateEvents=new rt,this.deactivateEvents=new rt,this.attachEvents=new rt,this.detachEvents=new rt,this.parentContexts=$(el),this.location=$(co),this.changeDetector=$(uo),this.inputBinder=$(eh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:a,previousValue:l}=r.name;if(a)return;this.isTrackedInParentContexts(l)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(l)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ie(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ie(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ie(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,a){this.activated=r,this._activatedRoute=a,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,a){if(this.isActivated)throw new ie(4013,!1);this._activatedRoute=r;let l=this.location,g=r.snapshot.component,C=this.parentContexts.getOrCreateContext(this.name).children,y=new Gf(r,C,l.injector);this.activated=l.createComponent(g,{index:l.length,injector:y,environmentInjector:a}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(a){return new(a||e)},e.\u0275dir=sn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ri]});let t=e;return t})(),Gf=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Co?this.route:e===el?this.childContexts:this.parent.get(e,n)}},eh=new ae("");function UA(t,e,n){let r=_s(t,e._root,n?n._root:void 0);return new Zc(r,e)}function _s(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let a=jA(t,e,n);return new Xt(r,a)}else{if(t.shouldAttach(e.value)){let l=t.retrieve(e.value);if(l!==null){let h=l.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(g=>_s(t,g)),h}}let r=HA(e.value),a=e.children.map(l=>_s(t,l));return new Xt(r,a)}}function jA(t,e,n){return e.children.map(r=>{for(let a of n.children)if(t.shouldReuseRoute(r.value,a.value.snapshot))return _s(t,r,a);return _s(t,r)})}function HA(t){return new Co(new It(t.url),new It(t.params),new It(t.queryParams),new It(t.fragment),new It(t.data),t.outlet,t.component,t)}var Ns=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Zm="ngNavigationCancelingError";function Kc(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=As(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,a=Xm(!1,Qt.Redirect);return a.url=n,a.navigationBehaviorOptions=r,a}function Xm(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Zm]=!0,n.cancellationCode=e,n}function zA(t){return Qm(t)&&As(t.url)}function Qm(t){return!!t&&t[Zm]}var GA=(t,e,n,r)=>ve(a=>(new Wf(e,a.targetRouterState,a.currentRouterState,n,r).activate(t),a)),Wf=class{constructor(e,n,r,a,l){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=a,this.inputBindingEnabled=l}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Ef(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let a=ho(n);e.children.forEach(l=>{let h=l.value.outlet;this.deactivateRoutes(l,a[h],r),delete a[h]}),Object.values(a).forEach(l=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,n,r){let a=e.value,l=n?n.value:null;if(a===l)if(a.component){let h=r.getContext(a.outlet);h&&this.deactivateChildRoutes(e,n,h.children)}else this.deactivateChildRoutes(e,n,r);else l&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),a=r&&e.value.component?r.children:n,l=ho(e);for(let h of Object.values(l))this.deactivateRouteAndItsChildren(h,a);if(r&&r.outlet){let h=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:g})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),a=r&&e.value.component?r.children:n,l=ho(e);for(let h of Object.values(l))this.deactivateRouteAndItsChildren(h,a);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let a=ho(n);e.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],r),this.forwardEvent(new Vf(l.value.snapshot))}),e.children.length&&this.forwardEvent(new kf(e.value.snapshot))}activateRoutes(e,n,r){let a=e.value,l=n?n.value:null;if(Ef(a),a===l)if(a.component){let h=r.getOrCreateContext(a.outlet);this.activateChildRoutes(e,n,h.children)}else this.activateChildRoutes(e,n,r);else if(a.component){let h=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){let g=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),h.children.onOutletReAttached(g.contexts),h.attachRef=g.componentRef,h.route=g.route.value,h.outlet&&h.outlet.attach(g.componentRef,g.route.value),Ef(g.route.value),this.activateChildRoutes(e,null,h.children)}else h.attachRef=null,h.route=a,h.outlet&&h.outlet.activateWith(a,h.injector),this.activateChildRoutes(e,null,h.children)}else this.activateChildRoutes(e,null,r)}},Jc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},mo=class{constructor(e,n){this.component=e,this.route=n}};function WA(t,e,n){let r=t._root,a=e?e._root:null;return Cs(r,a,n,[r.value])}function $A(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function vo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!qg(t)?t:e.get(t):r}function Cs(t,e,n,r,a={canDeactivateChecks:[],canActivateChecks:[]}){let l=ho(e);return t.children.forEach(h=>{YA(h,l[h.value.outlet],n,r.concat([h.value]),a),delete l[h.value.outlet]}),Object.entries(l).forEach(([h,g])=>Is(g,n.getContext(h),a)),a}function YA(t,e,n,r,a={canDeactivateChecks:[],canActivateChecks:[]}){let l=t.value,h=e?e.value:null,g=n?n.getContext(t.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){let C=qA(h,l,l.routeConfig.runGuardsAndResolvers);C?a.canActivateChecks.push(new Jc(r)):(l.data=h.data,l._resolvedData=h._resolvedData),l.component?Cs(t,e,g?g.children:null,r,a):Cs(t,e,n,r,a),C&&g&&g.outlet&&g.outlet.isActivated&&a.canDeactivateChecks.push(new mo(g.outlet.component,h))}else h&&Is(e,g,a),a.canActivateChecks.push(new Jc(r)),l.component?Cs(t,null,g?g.children:null,r,a):Cs(t,null,n,r,a);return a}function qA(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ui(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ui(t.url,e.url)||!Vn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zf(t,e)||!Vn(t.queryParams,e.queryParams);case"paramsChange":default:return!zf(t,e)}}function Is(t,e,n){let r=ho(t),a=t.value;Object.entries(r).forEach(([l,h])=>{a.component?e?Is(h,e.children.getContext(l),n):Is(h,null,n):Is(h,e,n)}),a.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new mo(e.outlet.component,a)):n.canDeactivateChecks.push(new mo(null,a)):n.canDeactivateChecks.push(new mo(null,a))}function Ps(t){return typeof t=="function"}function ZA(t){return typeof t=="boolean"}function XA(t){return t&&Ps(t.canLoad)}function QA(t){return t&&Ps(t.canActivate)}function KA(t){return t&&Ps(t.canActivateChild)}function JA(t){return t&&Ps(t.canDeactivate)}function eb(t){return t&&Ps(t.canMatch)}function Km(t){return t instanceof Hn||t?.name==="EmptyError"}var jc=Symbol("INITIAL_VALUE");function xo(){return vn(t=>Ba(t.map(e=>e.pipe(zn(1),Du(jc)))).pipe(ve(e=>{for(let n of e)if(n!==!0){if(n===jc)return jc;if(n===!1||tb(n))return n}return!0}),xn(e=>e!==jc),zn(1)))}function tb(t){return As(t)||t instanceof Ns}function nb(t,e){return ft(n=>{let{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:h}}=n;return h.length===0&&l.length===0?he(be(q({},n),{guardsResult:!0})):rb(h,r,a,t).pipe(ft(g=>g&&ZA(g)?ib(r,l,t,e):he(g)),ve(g=>be(q({},n),{guardsResult:g})))})}function rb(t,e,n,r){return nt(t).pipe(ft(a=>lb(a.component,a.route,n,e,r)),Nn(a=>a!==!0,!0))}function ib(t,e,n,r){return nt(e).pipe(Li(a=>Oi(sb(a.route.parent,r),ob(a.route,r),cb(t,a.path,n),ab(t,a.route,n))),Nn(a=>a!==!0,!0))}function ob(t,e){return t!==null&&e&&e(new Bf(t)),he(!0)}function sb(t,e){return t!==null&&e&&e(new Pf(t)),he(!0)}function ab(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return he(!0);let a=r.map(l=>Va(()=>{let h=Fs(e)??n,g=vo(l,h),C=QA(g)?g.canActivate(e,t):qn(h,()=>g(e,t));return Mr(C).pipe(Nn())}));return he(a).pipe(xo())}function cb(t,e,n){let r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(h=>$A(h)).filter(h=>h!==null).map(h=>Va(()=>{let g=h.guards.map(C=>{let y=Fs(h.node)??n,E=vo(C,y),b=KA(E)?E.canActivateChild(r,t):qn(y,()=>E(r,t));return Mr(b).pipe(Nn())});return he(g).pipe(xo())}));return he(l).pipe(xo())}function lb(t,e,n,r,a){let l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!l||l.length===0)return he(!0);let h=l.map(g=>{let C=Fs(e)??a,y=vo(g,C),E=JA(y)?y.canDeactivate(t,e,n,r):qn(C,()=>y(t,e,n,r));return Mr(E).pipe(Nn())});return he(h).pipe(xo())}function ub(t,e,n,r){let a=e.canLoad;if(a===void 0||a.length===0)return he(!0);let l=a.map(h=>{let g=vo(h,t),C=XA(g)?g.canLoad(e,n):qn(t,()=>g(e,n));return Mr(C)});return he(l).pipe(xo(),Jm(r))}function Jm(t){return pu(Dt(e=>{if(typeof e!="boolean")throw Kc(t,e)}),ve(e=>e===!0))}function db(t,e,n,r){let a=e.canMatch;if(!a||a.length===0)return he(!0);let l=a.map(h=>{let g=vo(h,t),C=eb(g)?g.canMatch(e,n):qn(t,()=>g(e,n));return Mr(C)});return he(l).pipe(xo(),Jm(r))}var Rs=class{constructor(e){this.segmentGroup=e||null}},Os=class extends Error{constructor(e){super(),this.urlTree=e}};function fo(t){return Ri(new Rs(t))}function fb(t){return Ri(new ie(4e3,!1))}function hb(t){return Ri(Xm(!1,Qt.GuardRejected))}var $f=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],a=n.root;for(;;){if(r=r.concat(a.segments),a.numberOfChildren===0)return he(r);if(a.numberOfChildren>1||!a.children[pe])return fb(`${e.redirectTo}`);a=a.children[pe]}}applyRedirectCommands(e,n,r,a,l){if(typeof n!="string"){let g=n,{queryParams:C,fragment:y,routeConfig:E,url:b,outlet:N,params:M,data:U,title:Y}=a,W=qn(l,()=>g({params:M,data:U,queryParams:C,fragment:y,routeConfig:E,url:b,outlet:N,title:Y}));if(W instanceof tr)throw new Os(W);n=W}let h=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Os(h);return h}applyRedirectCreateUrlTree(e,n,r,a){let l=this.createSegmentGroup(e,n.root,r,a);return new tr(l,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([a,l])=>{if(typeof l=="string"&&l[0]===":"){let g=l.substring(1);r[a]=n[g]}else r[a]=l}),r}createSegmentGroup(e,n,r,a){let l=this.createSegments(e,n.segments,r,a),h={};return Object.entries(n.children).forEach(([g,C])=>{h[g]=this.createSegmentGroup(e,C,r,a)}),new ke(l,h)}createSegments(e,n,r,a){return n.map(l=>l.path[0]===":"?this.findPosParam(e,l,a):this.findOrReturn(l,r))}findPosParam(e,n,r){let a=r[n.path.substring(1)];if(!a)throw new ie(4001,!1);return a}findOrReturn(e,n){let r=0;for(let a of n){if(a.path===e.path)return n.splice(r),a;r++}return e}},Yf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pb(t,e,n,r,a){let l=ey(t,e,n);return l.matched?(r=kA(e,r),db(r,e,n,a).pipe(ve(h=>h===!0?l:q({},Yf)))):he(l)}function ey(t,e,n){if(e.path==="**")return gb(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?q({},Yf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let a=(e.matcher||dA)(n,t,e);if(!a)return q({},Yf);let l={};Object.entries(a.posParams??{}).forEach(([g,C])=>{l[g]=C.path});let h=a.consumed.length>0?q(q({},l),a.consumed[a.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:a.consumed,remainingSegments:n.slice(a.consumed.length),parameters:h,positionalParamSegments:a.posParams??{}}}function gb(t){return{matched:!0,parameters:t.length>0?Om(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Mm(t,e,n,r){return n.length>0&&wb(t,n,r)?{segmentGroup:new ke(e,yb(r,new ke(n,t.children))),slicedSegments:[]}:n.length===0&&Cb(t,n,r)?{segmentGroup:new ke(t.segments,mb(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ke(t.segments,t.children),slicedSegments:n}}function mb(t,e,n,r){let a={};for(let l of n)if(tl(t,e,l)&&!r[Sn(l)]){let h=new ke([],{});a[Sn(l)]=h}return q(q({},r),a)}function yb(t,e){let n={};n[pe]=e;for(let r of t)if(r.path===""&&Sn(r)!==pe){let a=new ke([],{});n[Sn(r)]=a}return n}function wb(t,e,n){return n.some(r=>tl(t,e,r)&&Sn(r)!==pe)}function Cb(t,e,n){return n.some(r=>tl(t,e,r))}function tl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function xb(t,e,n){return e.length===0&&!t.children[n]}var qf=class{};function vb(t,e,n,r,a,l,h="emptyOnly"){return new Zf(t,e,n,r,a,h,l).recognize()}var Eb=31,Zf=class{constructor(e,n,r,a,l,h,g){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=a,this.urlTree=l,this.paramsInheritanceStrategy=h,this.urlSerializer=g,this.applyRedirects=new $f(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ie(4002,`'${e.segmentGroup}'`)}recognize(){let e=Mm(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ve(({children:n,rootSnapshot:r})=>{let a=new Xt(r,n),l=new Qc("",a),h=_A(r,[],this.urlTree.queryParams,this.urlTree.fragment);return h.queryParams=this.urlTree.queryParams,l.url=this.urlSerializer.serialize(h),{state:l,tree:h}}))}match(e){let n=new go([],Object.freeze({}),Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),pe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,pe,n).pipe(ve(r=>({children:r,rootSnapshot:n})),gr(r=>{if(r instanceof Os)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Rs?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,a,l){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,l):this.processSegment(e,n,r,r.segments,a,!0,l).pipe(ve(h=>h instanceof Xt?[h]:[]))}processChildren(e,n,r,a){let l=[];for(let h of Object.keys(r.children))h==="primary"?l.unshift(h):l.push(h);return nt(l).pipe(Li(h=>{let g=r.children[h],C=BA(n,h);return this.processSegmentGroup(e,C,g,h,a)}),Iu((h,g)=>(h.push(...g),h)),mr(null),Eu(),ft(h=>{if(h===null)return fo(r);let g=ty(h);return Ib(g),he(g)}))}processSegment(e,n,r,a,l,h,g){return nt(n).pipe(Li(C=>this.processSegmentAgainstRoute(C._injector??e,n,C,r,a,l,h,g).pipe(gr(y=>{if(y instanceof Rs)return he(null);throw y}))),Nn(C=>!!C),gr(C=>{if(Km(C))return xb(r,a,l)?he(new qf):fo(r);throw C}))}processSegmentAgainstRoute(e,n,r,a,l,h,g,C){return Sn(r)!==h&&(h===pe||!tl(a,l,r))?fo(a):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,a,r,l,h,C):this.allowRedirects&&g?this.expandSegmentAgainstRouteUsingRedirect(e,a,n,r,l,h,C):fo(a)}expandSegmentAgainstRouteUsingRedirect(e,n,r,a,l,h,g){let{matched:C,parameters:y,consumedSegments:E,positionalParamSegments:b,remainingSegments:N}=ey(n,a,l);if(!C)return fo(n);typeof a.redirectTo=="string"&&a.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Eb&&(this.allowRedirects=!1));let M=new go(l,y,Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,_m(a),Sn(a),a.component??a._loadedComponent??null,a,Nm(a)),U=Xc(M,g,this.paramsInheritanceStrategy);M.params=Object.freeze(U.params),M.data=Object.freeze(U.data);let Y=this.applyRedirects.applyRedirectCommands(E,a.redirectTo,b,M,e);return this.applyRedirects.lineralizeSegments(a,Y).pipe(ft(W=>this.processSegment(e,r,n,W.concat(N),h,!1,g)))}matchSegmentAgainstRoute(e,n,r,a,l,h){let g=pb(n,r,a,e,this.urlSerializer);return r.path==="**"&&(n.children={}),g.pipe(vn(C=>C.matched?(e=r._injector??e,this.getChildConfig(e,r,a).pipe(vn(({routes:y})=>{let E=r._loadedInjector??e,{parameters:b,consumedSegments:N,remainingSegments:M}=C,U=new go(N,b,Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,_m(r),Sn(r),r.component??r._loadedComponent??null,r,Nm(r)),Y=Xc(U,h,this.paramsInheritanceStrategy);U.params=Object.freeze(Y.params),U.data=Object.freeze(Y.data);let{segmentGroup:W,slicedSegments:H}=Mm(n,N,M,y);if(H.length===0&&W.hasChildren())return this.processChildren(E,y,W,U).pipe(ve(Ue=>new Xt(U,Ue)));if(y.length===0&&H.length===0)return he(new Xt(U,[]));let ee=Sn(r)===l;return this.processSegment(E,y,W,H,ee?pe:l,!0,U).pipe(ve(Ue=>new Xt(U,Ue instanceof Xt?[Ue]:[])))}))):fo(n)))}getChildConfig(e,n,r){return n.children?he({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?he({routes:n._loadedRoutes,injector:n._loadedInjector}):ub(e,n,r,this.urlSerializer).pipe(ft(a=>a?this.configLoader.loadChildren(e,n).pipe(Dt(l=>{n._loadedRoutes=l.routes,n._loadedInjector=l.injector})):hb(n))):he({routes:[],injector:e})}};function Ib(t){t.sort((e,n)=>e.value.outlet===pe?-1:n.value.outlet===pe?1:e.value.outlet.localeCompare(n.value.outlet))}function Db(t){let e=t.value.routeConfig;return e&&e.path===""}function ty(t){let e=[],n=new Set;for(let r of t){if(!Db(r)){e.push(r);continue}let a=e.find(l=>r.value.routeConfig===l.value.routeConfig);a!==void 0?(a.children.push(...r.children),n.add(a)):e.push(r)}for(let r of n){let a=ty(r.children);e.push(new Xt(r.value,a))}return e.filter(r=>!n.has(r))}function _m(t){return t.data||{}}function Nm(t){return t.resolve||{}}function Ab(t,e,n,r,a,l){return ft(h=>vb(t,e,n,r,h.extractedUrl,a,l).pipe(ve(({state:g,tree:C})=>be(q({},h),{targetSnapshot:g,urlAfterRedirects:C}))))}function bb(t,e){return ft(n=>{let{targetSnapshot:r,guards:{canActivateChecks:a}}=n;if(!a.length)return he(n);let l=new Set(a.map(C=>C.route)),h=new Set;for(let C of l)if(!h.has(C))for(let y of ny(C))h.add(y);let g=0;return nt(h).pipe(Li(C=>l.has(C)?Sb(C,r,t,e):(C.data=Xc(C,C.parent,t).resolve,he(void 0))),Dt(()=>g++),Fi(1),ft(C=>g===h.size?he(n):$t))})}function ny(t){let e=t.children.map(n=>ny(n)).flat();return[t,...e]}function Sb(t,e,n,r){let a=t.routeConfig,l=t._resolve;return a?.title!==void 0&&!qm(a)&&(l[Ls]=a.title),Tb(l,t,e,r).pipe(ve(h=>(t._resolvedData=h,t.data=Xc(t,t.parent,n).resolve,null)))}function Tb(t,e,n,r){let a=Af(t);if(a.length===0)return he({});let l={};return nt(a).pipe(ft(h=>Mb(t[h],e,n,r).pipe(Nn(),Dt(g=>{if(g instanceof Ns)throw Kc(new Ds,g);l[h]=g}))),Fi(1),vu(l),gr(h=>Km(h)?$t:Ri(h)))}function Mb(t,e,n,r){let a=Fs(e)??r,l=vo(t,a),h=l.resolve?l.resolve(e,n):qn(a,()=>l(e,n));return Mr(h)}function If(t){return vn(e=>{let n=t(e);return n?nt(n).pipe(ve(()=>e)):he(e)})}var ry=(()=>{let e=class e{buildTitle(r){let a,l=r.root;for(;l!==void 0;)a=this.getResolvedTitleForRoute(l)??a,l=l.children.find(h=>h.outlet===pe);return a}getResolvedTitleForRoute(r){return r.data[Ls]}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=ue({token:e,factory:()=>$(_b),providedIn:"root"});let t=e;return t})(),_b=(()=>{let e=class e extends ry{constructor(r){super(),this.title=r}updateTitle(r){let a=this.buildTitle(r);a!==void 0&&this.title.setTitle(a)}};e.\u0275fac=function(a){return new(a||e)(Ie(Dm))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),th=new ae("",{providedIn:"root",factory:()=>({})}),Nb=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=Dr({type:e,selectors:[["ng-component"]],standalone:!0,features:[Tr],decls:1,vars:0,template:function(a,l){a&1&&Sr(0,"router-outlet")},dependencies:[Jf],encapsulation:2});let t=e;return t})();function nh(t){let e=t.children&&t.children.map(nh),n=e?be(q({},t),{children:e}):q({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==pe&&(n.component=Nb),n}var rh=new ae(""),Rb=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=$(lf)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return he(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let a=Mr(r.loadComponent()).pipe(ve(iy),Dt(h=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=h}),Yo(()=>{this.componentLoaders.delete(r)})),l=new Ni(a,()=>new Et).pipe(_i());return this.componentLoaders.set(r,l),l}loadChildren(r,a){if(this.childrenLoaders.get(a))return this.childrenLoaders.get(a);if(a._loadedRoutes)return he({routes:a._loadedRoutes,injector:a._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(a);let h=Ob(a,this.compiler,r,this.onLoadEndListener).pipe(Yo(()=>{this.childrenLoaders.delete(a)})),g=new Ni(h,()=>new Et).pipe(_i());return this.childrenLoaders.set(a,g),g}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ob(t,e,n,r){return Mr(t.loadChildren()).pipe(ve(iy),ft(a=>a instanceof rs||Array.isArray(a)?he(a):nt(e.compileModuleAsync(a))),ve(a=>{r&&r(t);let l,h,g=!1;return Array.isArray(a)?(h=a,g=!0):(l=a.create(n).injector,h=l.get(rh,[],{optional:!0,self:!0}).flat()),{routes:h.map(nh),injector:l}}))}function Lb(t){return t&&typeof t=="object"&&"default"in t}function iy(t){return Lb(t)?t.default:t}var ih=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=ue({token:e,factory:()=>$(Fb),providedIn:"root"});let t=e;return t})(),Fb=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,a){return r}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Pb=new ae("");var kb=new ae(""),Bb=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Et,this.transitionAbortSubject=new Et,this.configLoader=$(Rb),this.environmentInjector=$(on),this.urlSerializer=$(Qf),this.rootContexts=$(el),this.location=$(hs),this.inputBindingEnabled=$(eh,{optional:!0})!==null,this.titleStrategy=$(ry),this.options=$(th,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=$(ih),this.createViewTransition=$(Pb,{optional:!0}),this.navigationErrorHandler=$(kb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>he(void 0),this.rootComponentType=null;let r=l=>this.events.next(new Lf(l)),a=l=>this.events.next(new Ff(l));this.configLoader.onLoadEndListener=a,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let a=++this.navigationId;this.transitions?.next(be(q(q({},this.transitions.value),r),{id:a}))}setupNavigations(r,a,l){return this.transitions=new It({id:0,currentUrlTree:a,currentRawUrl:a,extractedUrl:this.urlHandlingStrategy.extract(a),urlAfterRedirects:this.urlHandlingStrategy.extract(a),rawUrl:a,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Es,restoredState:null,currentSnapshot:l.snapshot,targetSnapshot:null,currentRouterState:l,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xn(h=>h.id!==0),ve(h=>be(q({},h),{extractedUrl:this.urlHandlingStrategy.extract(h.rawUrl)})),vn(h=>{let g=!1,C=!1;return he(h).pipe(vn(y=>{if(this.navigationId>h.id)return this.cancelNavigationTransition(h,"",Qt.SupersededByNewNavigation),$t;this.currentTransition=h,this.currentNavigation={id:y.id,initialUrl:y.rawUrl,extractedUrl:y.extractedUrl,targetBrowserUrl:typeof y.extras.browserUrl=="string"?this.urlSerializer.parse(y.extras.browserUrl):y.extras.browserUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?be(q({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let E=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),b=y.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!E&&b!=="reload"){let N="";return this.events.next(new fi(y.id,this.urlSerializer.serialize(y.rawUrl),N,Mf.IgnoredSameUrlNavigation)),y.resolve(!1),$t}if(this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return he(y).pipe(vn(N=>{let M=this.transitions?.getValue();return this.events.next(new Ss(N.id,this.urlSerializer.serialize(N.extractedUrl),N.source,N.restoredState)),M!==this.transitions?.getValue()?$t:Promise.resolve(N)}),Ab(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Dt(N=>{h.targetSnapshot=N.targetSnapshot,h.urlAfterRedirects=N.urlAfterRedirects,this.currentNavigation=be(q({},this.currentNavigation),{finalUrl:N.urlAfterRedirects});let M=new Yc(N.id,this.urlSerializer.serialize(N.extractedUrl),this.urlSerializer.serialize(N.urlAfterRedirects),N.targetSnapshot);this.events.next(M)}));if(E&&this.urlHandlingStrategy.shouldProcessUrl(y.currentRawUrl)){let{id:N,extractedUrl:M,source:U,restoredState:Y,extras:W}=y,H=new Ss(N,this.urlSerializer.serialize(M),U,Y);this.events.next(H);let ee=$m(this.rootComponentType).snapshot;return this.currentTransition=h=be(q({},y),{targetSnapshot:ee,urlAfterRedirects:M,extras:be(q({},W),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=M,he(h)}else{let N="";return this.events.next(new fi(y.id,this.urlSerializer.serialize(y.extractedUrl),N,Mf.IgnoredByUrlHandlingStrategy)),y.resolve(!1),$t}}),Dt(y=>{let E=new _f(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(E)}),ve(y=>(this.currentTransition=h=be(q({},y),{guards:WA(y.targetSnapshot,y.currentSnapshot,this.rootContexts)}),h)),nb(this.environmentInjector,y=>this.events.next(y)),Dt(y=>{if(h.guardsResult=y.guardsResult,y.guardsResult&&typeof y.guardsResult!="boolean")throw Kc(this.urlSerializer,y.guardsResult);let E=new Nf(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.events.next(E)}),xn(y=>y.guardsResult?!0:(this.cancelNavigationTransition(y,"",Qt.GuardRejected),!1)),If(y=>{if(y.guards.canActivateChecks.length)return he(y).pipe(Dt(E=>{let b=new Rf(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(b)}),vn(E=>{let b=!1;return he(E).pipe(bb(this.paramsInheritanceStrategy,this.environmentInjector),Dt({next:()=>b=!0,complete:()=>{b||this.cancelNavigationTransition(E,"",Qt.NoDataFromResolver)}}))}),Dt(E=>{let b=new Of(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(b)}))}),If(y=>{let E=b=>{let N=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&N.push(this.configLoader.loadComponent(b.routeConfig).pipe(Dt(M=>{b.component=M}),ve(()=>{})));for(let M of b.children)N.push(...E(M));return N};return Ba(E(y.targetSnapshot.root)).pipe(mr(null),zn(1))}),If(()=>this.afterPreactivation()),vn(()=>{let{currentSnapshot:y,targetSnapshot:E}=h,b=this.createViewTransition?.(this.environmentInjector,y.root,E.root);return b?nt(b).pipe(ve(()=>h)):he(h)}),ve(y=>{let E=UA(r.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return this.currentTransition=h=be(q({},y),{targetRouterState:E}),this.currentNavigation.targetRouterState=E,h}),Dt(()=>{this.events.next(new Ms)}),GA(this.rootContexts,r.routeReuseStrategy,y=>this.events.next(y),this.inputBindingEnabled),zn(1),Dt({next:y=>{g=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new di(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects))),this.titleStrategy?.updateTitle(y.targetRouterState.snapshot),y.resolve(!0)},complete:()=>{g=!0}}),Au(this.transitionAbortSubject.pipe(Dt(y=>{throw y}))),Yo(()=>{!g&&!C&&this.cancelNavigationTransition(h,"",Qt.SupersededByNewNavigation),this.currentTransition?.id===h.id&&(this.currentNavigation=null,this.currentTransition=null)}),gr(y=>{if(C=!0,Qm(y))this.events.next(new er(h.id,this.urlSerializer.serialize(h.extractedUrl),y.message,y.cancellationCode)),zA(y)?this.events.next(new wo(y.url,y.navigationBehaviorOptions)):h.resolve(!1);else{let E=new Ts(h.id,this.urlSerializer.serialize(h.extractedUrl),y,h.targetSnapshot??void 0);try{let b=qn(this.environmentInjector,()=>this.navigationErrorHandler?.(E));if(b instanceof Ns){let{message:N,cancellationCode:M}=Kc(this.urlSerializer,b);this.events.next(new er(h.id,this.urlSerializer.serialize(h.extractedUrl),N,M)),this.events.next(new wo(b.redirectTo,b.navigationBehaviorOptions))}else{this.events.next(E);let N=r.errorHandler(y);h.resolve(!!N)}}catch(b){this.options.resolveNavigationPromiseOnError?h.resolve(!1):h.reject(b)}}return $t}))}))}cancelNavigationTransition(r,a,l){let h=new er(r.id,this.urlSerializer.serialize(r.extractedUrl),a,l);this.events.next(h),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),a=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==a?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Vb(t){return t!==Es}var Ub=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=ue({token:e,factory:()=>$(jb),providedIn:"root"});let t=e;return t})(),Xf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},jb=(()=>{let e=class e extends Xf{};e.\u0275fac=(()=>{let r;return function(l){return(r||(r=as(e)))(l||e)}})(),e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oy=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=ue({token:e,factory:()=>$(Hb),providedIn:"root"});let t=e;return t})(),Hb=(()=>{let e=class e extends oy{constructor(){super(...arguments),this.location=$(hs),this.urlSerializer=$(Qf),this.options=$(th,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=$(ih),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new tr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=$m(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(a=>{a.type==="popstate"&&r(a.url,a.state)})}handleRouterEvent(r,a){if(r instanceof Ss)this.stateMemento=this.createStateMemento();else if(r instanceof fi)this.rawUrlTree=a.initialUrl;else if(r instanceof Yc){if(this.urlUpdateStrategy==="eager"&&!a.extras.skipLocationChange){let l=this.urlHandlingStrategy.merge(a.finalUrl,a.initialUrl);this.setBrowserUrl(a.targetBrowserUrl??l,a)}}else r instanceof Ms?(this.currentUrlTree=a.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(a.finalUrl,a.initialUrl),this.routerState=a.targetRouterState,this.urlUpdateStrategy==="deferred"&&!a.extras.skipLocationChange&&this.setBrowserUrl(a.targetBrowserUrl??this.rawUrlTree,a)):r instanceof er&&(r.code===Qt.GuardRejected||r.code===Qt.NoDataFromResolver)?this.restoreHistory(a):r instanceof Ts?this.restoreHistory(a,!0):r instanceof di&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,a){let l=r instanceof tr?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(l)||a.extras.replaceUrl){let h=this.browserPageId,g=q(q({},a.extras.state),this.generateNgRouterState(a.id,h));this.location.replaceState(l,"",g)}else{let h=q(q({},a.extras.state),this.generateNgRouterState(a.id,this.browserPageId+1));this.location.go(l,"",h)}}restoreHistory(r,a=!1){if(this.canceledNavigationResolution==="computed"){let l=this.browserPageId,h=this.currentPageId-l;h!==0?this.location.historyGo(h):this.currentUrlTree===r.finalUrl&&h===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(a&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,a){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:a}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(l){return(r||(r=as(e)))(l||e)}})(),e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xs=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(xs||{});function zb(t,e){t.events.pipe(xn(n=>n instanceof di||n instanceof er||n instanceof Ts||n instanceof fi),ve(n=>n instanceof di||n instanceof fi?xs.COMPLETE:(n instanceof er?n.code===Qt.Redirect||n.code===Qt.SupersededByNewNavigation:!1)?xs.REDIRECTING:xs.FAILED),xn(n=>n!==xs.REDIRECTING),zn(1)).subscribe(()=>{e()})}function Gb(t){throw t}var Wb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$b={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},sy=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=$(Lc),this.stateManager=$(oy),this.options=$(th,{optional:!0})||{},this.pendingTasks=$(no),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=$(Bb),this.urlSerializer=$(Qf),this.location=$(hs),this.urlHandlingStrategy=$(ih),this._events=new Et,this.errorHandler=this.options.errorHandler||Gb,this.navigated=!1,this.routeReuseStrategy=$(Ub),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=$(rh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!$(eh,{optional:!0}),this.eventsSubscription=new st,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(a=>{try{let l=this.navigationTransitions.currentTransition,h=this.navigationTransitions.currentNavigation;if(l!==null&&h!==null){if(this.stateManager.handleRouterEvent(a,h),a instanceof er&&a.code!==Qt.Redirect&&a.code!==Qt.SupersededByNewNavigation)this.navigated=!0;else if(a instanceof di)this.navigated=!0;else if(a instanceof wo){let g=a.navigationBehaviorOptions,C=this.urlHandlingStrategy.merge(a.url,l.currentRawUrl),y=q({browserUrl:l.extras.browserUrl,info:l.extras.info,skipLocationChange:l.extras.skipLocationChange,replaceUrl:l.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Vb(l.source)},g);this.scheduleNavigation(C,Es,null,y,{resolve:l.resolve,reject:l.reject,promise:l.promise})}}qb(a)&&this._events.next(a)}catch(l){this.navigationTransitions.transitionAbortSubject.next(l)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Es,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,a)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",a)},0)})}navigateToSyncWithBrowser(r,a,l){let h={replaceUrl:!0},g=l?.navigationId?l:null;if(l){let y=q({},l);delete y.navigationId,delete y.\u0275routerPageId,Object.keys(y).length!==0&&(h.state=y)}let C=this.parseUrl(r);this.scheduleNavigation(C,a,g,h)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(nh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,a={}){let{relativeTo:l,queryParams:h,fragment:g,queryParamsHandling:C,preserveFragment:y}=a,E=y?this.currentUrlTree.fragment:g,b=null;switch(C??this.options.defaultQueryParamsHandling){case"merge":b=q(q({},this.currentUrlTree.queryParams),h);break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=h||null}b!==null&&(b=this.removeEmptyProps(b));let N;try{let M=l?l.snapshot:this.routerState.snapshot.root;N=Hm(M)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),N=this.currentUrlTree.root}return zm(N,r,b,E??null)}navigateByUrl(r,a={skipLocationChange:!1}){let l=As(r)?r:this.parseUrl(r),h=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(h,Es,null,a)}navigate(r,a={skipLocationChange:!1}){return Yb(r),this.navigateByUrl(this.createUrlTree(r,a),a)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,a){let l;if(a===!0?l=q({},Wb):a===!1?l=q({},$b):l=a,As(r))return Am(this.currentUrlTree,r,l);let h=this.parseUrl(r);return Am(this.currentUrlTree,h,l)}removeEmptyProps(r){return Object.entries(r).reduce((a,[l,h])=>(h!=null&&(a[l]=h),a),{})}scheduleNavigation(r,a,l,h,g){if(this.disposed)return Promise.resolve(!1);let C,y,E;g?(C=g.resolve,y=g.reject,E=g.promise):E=new Promise((N,M)=>{C=N,y=M});let b=this.pendingTasks.add();return zb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(b))}),this.navigationTransitions.handleNavigationRequest({source:a,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:h,resolve:C,reject:y,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(N=>Promise.reject(N))}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Yb(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new ie(4008,!1)}function qb(t){return!(t instanceof Ms)&&!(t instanceof wo)}var Zb=new ae("");function ay(t,...e){return Cc([{provide:rh,multi:!0,useValue:t},[],{provide:Co,useFactory:Xb,deps:[sy]},{provide:cf,multi:!0,useFactory:Qb},e.map(n=>n.\u0275providers)])}function Xb(t){return t.routerState.root}function Qb(){let t=$(Er);return e=>{let n=t.get(si);if(e!==n.components[0])return;let r=t.get(sy),a=t.get(Kb);t.get(Jb)===1&&r.initialNavigation(),t.get(eS,null,Ce.Optional)?.setUpPreloading(),t.get(Zb,null,Ce.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),a.closed||(a.next(),a.complete(),a.unsubscribe())}}var Kb=new ae("",{factory:()=>new Et}),Jb=new ae("",{providedIn:"root",factory:()=>1});var eS=new ae("");var cy=[];var ly={providers:[tm({eventCoalescing:!0}),ay(cy)]};var gy=(()=>{let e=class e{constructor(r,a){this._renderer=r,this._elementRef=a,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(r,a){this._renderer.setProperty(this._elementRef.nativeElement,r,a)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(a){return new(a||e)(it(ao),it(Bn))},e.\u0275dir=sn({type:e});let t=e;return t})(),tS=(()=>{let e=class e extends gy{};e.\u0275fac=(()=>{let r;return function(l){return(r||(r=as(e)))(l||e)}})(),e.\u0275dir=sn({type:e,features:[br]});let t=e;return t})(),my=new ae("");var nS={provide:my,useExisting:Ki(()=>fl),multi:!0};function rS(){let t=Jn()?Jn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var iS=new ae(""),fl=(()=>{let e=class e extends gy{constructor(r,a,l){super(r,a),this._compositionMode=l,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!rS())}writeValue(r){let a=r??"";this.setProperty("value",a)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(a){return new(a||e)(it(ao),it(Bn),it(iS,8))},e.\u0275dir=sn({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(a,l){a&1&&Qn("input",function(g){return l._handleInput(g.target.value)})("blur",function(){return l.onTouched()})("compositionstart",function(){return l._compositionStart()})("compositionend",function(g){return l._compositionEnd(g.target.value)})},features:[Oc([nS]),br]});let t=e;return t})();var yy=new ae(""),wy=new ae("");function Cy(t){return t!=null}function xy(t){return oi(t)?nt(t):t}function vy(t){let e={};return t.forEach(n=>{e=n!=null?q(q({},e),n):e}),Object.keys(e).length===0?null:e}function Ey(t,e){return e.map(n=>n(t))}function oS(t){return!t.validate}function Iy(t){return t.map(e=>oS(e)?e:n=>e.validate(n))}function sS(t){if(!t)return null;let e=t.filter(Cy);return e.length==0?null:function(n){return vy(Ey(n,e))}}function Dy(t){return t!=null?sS(Iy(t)):null}function aS(t){if(!t)return null;let e=t.filter(Cy);return e.length==0?null:function(n){let r=Ey(n,e).map(xy);return xu(r).pipe(ve(vy))}}function Ay(t){return t!=null?aS(Iy(t)):null}function uy(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function by(t){return t._rawValidators}function Sy(t){return t._rawAsyncValidators}function oh(t){return t?Array.isArray(t)?t:[t]:[]}function rl(t,e){return Array.isArray(t)?t.includes(e):t===e}function dy(t,e){let n=oh(e);return oh(t).forEach(a=>{rl(n,a)||n.push(a)}),n}function fy(t,e){return oh(e).filter(n=>!rl(t,n))}var il=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Dy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ay(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},js=class extends il{get formDirective(){return null}get path(){return null}},Hs=class extends il{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ol=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},cS={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},N4=be(q({},cS),{"[class.ng-submitted]":"isSubmitted"}),Ty=(()=>{let e=class e extends ol{constructor(r){super(r)}};e.\u0275fac=function(a){return new(a||e)(it(Hs,2))},e.\u0275dir=sn({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(a,l){a&2&&_c("ng-untouched",l.isUntouched)("ng-touched",l.isTouched)("ng-pristine",l.isPristine)("ng-dirty",l.isDirty)("ng-valid",l.isValid)("ng-invalid",l.isInvalid)("ng-pending",l.isPending)},features:[br]});let t=e;return t})(),My=(()=>{let e=class e extends ol{constructor(r){super(r)}};e.\u0275fac=function(a){return new(a||e)(it(js,10))},e.\u0275dir=sn({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(a,l){a&2&&_c("ng-untouched",l.isUntouched)("ng-touched",l.isTouched)("ng-pristine",l.isPristine)("ng-dirty",l.isDirty)("ng-valid",l.isValid)("ng-invalid",l.isInvalid)("ng-pending",l.isPending)("ng-submitted",l.isSubmitted)},features:[br]});let t=e;return t})();var ks="VALID",nl="INVALID",Eo="PENDING",Bs="DISABLED",_r=class{},sl=class extends _r{constructor(e,n){super(),this.value=e,this.source=n}},Vs=class extends _r{constructor(e,n){super(),this.pristine=e,this.source=n}},Us=class extends _r{constructor(e,n){super(),this.touched=e,this.source=n}},Io=class extends _r{constructor(e,n){super(),this.status=e,this.source=n}},sh=class extends _r{constructor(e){super(),this.source=e}},ah=class extends _r{constructor(e){super(),this.source=e}};function _y(t){return(hl(t)?t.validators:t)||null}function lS(t){return Array.isArray(t)?Dy(t):t||null}function Ny(t,e){return(hl(e)?e.asyncValidators:t)||null}function uS(t){return Array.isArray(t)?Ay(t):t||null}function hl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function dS(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new ie(1e3,"");if(!r[n])throw new ie(1001,"")}function fS(t,e,n){t._forEachChild((r,a)=>{if(n[a]===void 0)throw new ie(1002,"")})}var al=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=fs(()=>this.statusReactive()),this.statusReactive=ls(void 0),this._pristine=fs(()=>this.pristineReactive()),this.pristineReactive=ls(!0),this._touched=fs(()=>this.touchedReactive()),this.touchedReactive=ls(!1),this._events=new Et,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Kn(this.statusReactive)}set status(e){Kn(()=>this.statusReactive.set(e))}get valid(){return this.status===ks}get invalid(){return this.status===nl}get pending(){return this.status==Eo}get disabled(){return this.status===Bs}get enabled(){return this.status!==Bs}get pristine(){return Kn(this.pristineReactive)}set pristine(e){Kn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Kn(this.touchedReactive)}set touched(e){Kn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(dy(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(dy(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fy(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fy(e,this._rawAsyncValidators))}hasValidator(e){return rl(this._rawValidators,e)}hasAsyncValidator(e){return rl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(be(q({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Us(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(a=>{a.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Us(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(be(q({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Vs(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(a=>{a.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Vs(!0,r))}markAsPending(e={}){this.status=Eo;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Io(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(be(q({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Bs,this.errors=null,this._forEachChild(a=>{a.disable(be(q({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new sl(this.value,r)),this._events.next(new Io(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(be(q({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(a=>a(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ks,this._forEachChild(r=>{r.enable(be(q({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(be(q({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ks||this.status===Eo)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new sl(this.value,n)),this._events.next(new Io(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(be(q({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bs:ks}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Eo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=xy(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(a=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(a,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,a)=>r&&r._find(a),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Io(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new rt,this.statusChanges=new rt}_calculateStatus(){return this._allControlsDisabled()?Bs:this.errors?nl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Eo)?Eo:this._anyControlsHaveStatus(nl)?nl:ks}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),a=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),a&&this._events.next(new Vs(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Us(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){hl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=lS(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=uS(this._rawAsyncValidators)}},cl=class extends al{constructor(e,n,r){super(_y(n),Ny(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){fS(this,!0,e),Object.keys(e).forEach(r=>{dS(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let a=this.controls[r];a&&a.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,a)=>{r.reset(e?e[a]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,a)=>((r.enabled||this.disabled)&&(n[a]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((a,l)=>{r=n(r,a,l)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var lh=new ae("CallSetDisabledState",{providedIn:"root",factory:()=>uh}),uh="always";function ch(t,e,n=uh){dh(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),pS(t,e),mS(t,e),gS(t,e),hS(t,e)}function ll(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),dl(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ul(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function hS(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function dh(t,e){let n=by(t);e.validator!==null?t.setValidators(uy(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Sy(t);e.asyncValidator!==null?t.setAsyncValidators(uy(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let a=()=>t.updateValueAndValidity();ul(e._rawValidators,a),ul(e._rawAsyncValidators,a)}function dl(t,e){let n=!1;if(t!==null){if(e.validator!==null){let a=by(t);if(Array.isArray(a)&&a.length>0){let l=a.filter(h=>h!==e.validator);l.length!==a.length&&(n=!0,t.setValidators(l))}}if(e.asyncValidator!==null){let a=Sy(t);if(Array.isArray(a)&&a.length>0){let l=a.filter(h=>h!==e.asyncValidator);l.length!==a.length&&(n=!0,t.setAsyncValidators(l))}}}let r=()=>{};return ul(e._rawValidators,r),ul(e._rawAsyncValidators,r),n}function pS(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Ry(t,e)})}function gS(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Ry(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Ry(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function mS(t,e){let n=(r,a)=>{e.valueAccessor.writeValue(r),a&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function yS(t,e){t==null,dh(t,e)}function wS(t,e){return dl(t,e)}function CS(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function xS(t){return Object.getPrototypeOf(t.constructor)===tS}function vS(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ES(t,e){if(!e)return null;Array.isArray(e);let n,r,a;return e.forEach(l=>{l.constructor===fl?n=l:xS(l)?r=l:a=l}),a||r||n||null}function IS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function hy(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function py(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var fh=class extends al{constructor(e=null,n,r){super(_y(n),Ny(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(py(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){hy(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){hy(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){py(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var DS=t=>t instanceof fh;var Oy=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275dir=sn({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var Ly=new ae(""),AS={provide:Hs,useExisting:Ki(()=>hh)},hh=(()=>{let e=class e extends Hs{set isDisabled(r){}constructor(r,a,l,h,g){super(),this._ngModelWarningConfig=h,this.callSetDisabledState=g,this.update=new rt,this._ngModelWarningSent=!1,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=ES(this,l)}ngOnChanges(r){if(this._isControlChanged(r)){let a=r.form.previousValue;a&&ll(a,this,!1),ch(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}CS(r,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ll(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_isControlChanged(r){return r.hasOwnProperty("form")}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(a){return new(a||e)(it(yy,10),it(wy,10),it(my,10),it(Ly,8),it(lh,8))},e.\u0275dir=sn({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Oc([AS]),br,ri]});let t=e;return t})(),bS={provide:js,useExisting:Ki(()=>ph)},ph=(()=>{let e=class e extends js{get submitted(){return Kn(this._submittedReactive)}set submitted(r){this._submittedReactive.set(r)}constructor(r,a,l){super(),this.callSetDisabledState=l,this._submitted=fs(()=>this._submittedReactive()),this._submittedReactive=ls(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new rt,this._setValidators(r),this._setAsyncValidators(a)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(dl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let a=this.form.get(r.path);return ch(a,r,this.callSetDisabledState),a.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),a}getControl(r){return this.form.get(r.path)}removeControl(r){ll(r.control||null,r,!1),IS(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,a){this.form.get(r.path).setValue(a)}onSubmit(r){return this._submittedReactive.set(!0),vS(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new sh(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this._submittedReactive.set(!1),this.form._events.next(new ah(this.form))}_updateDomValue(){this.directives.forEach(r=>{let a=r.control,l=this.form.get(r.path);a!==l&&(ll(a||null,r),DS(l)&&(ch(l,r,this.callSetDisabledState),r.control=l))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let a=this.form.get(r.path);yS(a,r),a.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let a=this.form.get(r.path);a&&wS(a,r)&&a.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){dh(this.form,this),this._oldForm&&dl(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(a){return new(a||e)(it(yy,10),it(wy,10),it(lh,8))},e.\u0275dir=sn({type:e,selectors:[["","formGroup",""]],hostBindings:function(a,l){a&1&&Qn("submit",function(g){return l.onSubmit(g)})("reset",function(){return l.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Oc([bS]),br,ri]});let t=e;return t})();var SS=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=Ji({});let t=e;return t})();var Fy=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Ly,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:lh,useValue:r.callSetDisabledState??uh}]}}};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=Ji({imports:[SS]});let t=e;return t})();var Pw=Ip(Fw());var ET=["qrcode"],kw=(()=>{let e=class e{constructor(){this.input=new cl({input:new fh("",{nonNullable:!0})})}generateQrCode(){(0,Pw.toDataURL)(this.qrcode.nativeElement,this.input.controls.input.value)}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=Dr({type:e,selectors:[["app-generate-qr-code"]],viewQuery:function(a,l){if(a&1&&Rc(ET,5),a&2){let h;us(h=ds())&&(l.qrcode=h.first)}},standalone:!0,features:[Tr],decls:10,vars:2,consts:[["qrcode",""],[3,"formGroup"],[3,"formControl"],[3,"click"]],template:function(a,l){if(a&1){let h=Nc();an(0,"h1"),ii(1,"generate-qr-code"),cn(),an(2,"form",1)(3,"label"),ii(4,"value for qr code "),Sr(5,"textarea",2),cn(),an(6,"button",3),Qn("click",function(){return Ac(h),bc(l.generateQrCode())}),ii(7,"generateQrCode"),cn()(),Sr(8,"canvas",null,0)}a&2&&(so(2),lo("formGroup",l.input),so(3),lo("formControl",l.input.controls.input))},dependencies:[Fy,Oy,fl,Ty,My,hh,ph]});let t=e;return t})();var Z=function(t){return t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",t}(Z||{}),Bw=new Map([[Z.QR_CODE,"QR_CODE"],[Z.AZTEC,"AZTEC"],[Z.CODABAR,"CODABAR"],[Z.CODE_39,"CODE_39"],[Z.CODE_93,"CODE_93"],[Z.CODE_128,"CODE_128"],[Z.DATA_MATRIX,"DATA_MATRIX"],[Z.MAXICODE,"MAXICODE"],[Z.ITF,"ITF"],[Z.EAN_13,"EAN_13"],[Z.EAN_8,"EAN_8"],[Z.PDF_417,"PDF_417"],[Z.RSS_14,"RSS_14"],[Z.RSS_EXPANDED,"RSS_EXPANDED"],[Z.UPC_A,"UPC_A"],[Z.UPC_E,"UPC_E"],[Z.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function Vw(t){return Object.values(Z).includes(t)}var Un=function(t){return t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE",t}(Un||{}),jt=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Un.SCAN_TYPE_CAMERA,Un.SCAN_TYPE_FILE],t}();var Al=function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!Bw.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,Bw.get(e))},t}();var Bh=function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}();var Uw=function(t){return t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR",t}(Uw||{}),bl=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:Uw.UNKWOWN_ERROR}},t}();var Sl=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function dn(t){return typeof t>"u"||t===null}function jw(t,e,n){return t>n?n:t<e?e:t}var Fr=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}();var Te=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t}();var Vh=function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t}();var Uh=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var r=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],l=new Set(a),h=Object.keys(e),g=0,C=h;g<C.length;g++){var y=C[g];if(l.has(y))return n.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},t}();var Ve=Ip(zw());var jh=function(){function t(e,n,r){if(this.formatMap=new Map([[Z.QR_CODE,Ve.BarcodeFormat.QR_CODE],[Z.AZTEC,Ve.BarcodeFormat.AZTEC],[Z.CODABAR,Ve.BarcodeFormat.CODABAR],[Z.CODE_39,Ve.BarcodeFormat.CODE_39],[Z.CODE_93,Ve.BarcodeFormat.CODE_93],[Z.CODE_128,Ve.BarcodeFormat.CODE_128],[Z.DATA_MATRIX,Ve.BarcodeFormat.DATA_MATRIX],[Z.MAXICODE,Ve.BarcodeFormat.MAXICODE],[Z.ITF,Ve.BarcodeFormat.ITF],[Z.EAN_13,Ve.BarcodeFormat.EAN_13],[Z.EAN_8,Ve.BarcodeFormat.EAN_8],[Z.PDF_417,Ve.BarcodeFormat.PDF_417],[Z.RSS_14,Ve.BarcodeFormat.RSS_14],[Z.RSS_EXPANDED,Ve.BarcodeFormat.RSS_EXPANDED],[Z.UPC_A,Ve.BarcodeFormat.UPC_A],[Z.UPC_E,Ve.BarcodeFormat.UPC_E],[Z.UPC_EAN_EXTENSION,Ve.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Ve)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var a=this.createZXingFormats(e),l=new Map;l.set(Ve.DecodeHintType.POSSIBLE_FORMATS,a),l.set(Ve.DecodeHintType.TRY_HARDER,!1),this.hints=l}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(r,a){try{r(n.decode(e))}catch(l){a(l)}})},t.prototype.decode=function(e){var n=new Ve.MultiFormatReader(this.verbose,this.hints),r=new Ve.HTMLCanvasElementLuminanceSource(e),a=new Ve.BinaryBitmap(new Ve.HybridBinarizer(r)),l=n.decode(a);return{text:l.text,format:Al.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,a){e.set(n,r)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],r=0,a=e;r<a.length;r++){var l=a[r];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.logError("".concat(l," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}();var IT=function(t,e,n,r){function a(l){return l instanceof n?l:new n(function(h){h(l)})}return new(n||(n=Promise))(function(l,h){function g(E){try{y(r.next(E))}catch(b){h(b)}}function C(E){try{y(r.throw(E))}catch(b){h(b)}}function y(E){E.done?l(E.value):a(E.value).then(g,C)}y((r=r.apply(t,e||[])).next())})},DT=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(y){return function(E){return C([y,E])}}function C(y){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(r=1,a&&(l=y[0]&2?a.return:y[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,y[1])).done)return l;switch(a=0,l&&(y=[y[0]&2,l.value]),y[0]){case 0:case 1:l=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,a=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!l||y[1]>l[0]&&y[1]<l[3])){n.label=y[1];break}if(y[0]===6&&n.label<l[1]){n.label=l[1],l=y;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(y);break}l[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(E){y=[6,E],a=0}finally{r=l=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Hh=function(){function t(e,n,r){if(this.formatMap=new Map([[Z.QR_CODE,"qr_code"],[Z.AZTEC,"aztec"],[Z.CODABAR,"codabar"],[Z.CODE_39,"code_39"],[Z.CODE_93,"code_93"],[Z.CODE_128,"code_128"],[Z.DATA_MATRIX,"data_matrix"],[Z.ITF,"itf"],[Z.EAN_13,"ean_13"],[Z.EAN_8,"ean_8"],[Z.PDF_417,"pdf417"],[Z.UPC_A,"upc_a"],[Z.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var a=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return IT(this,void 0,void 0,function(){var n,r;return DT(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=a.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:Al.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,r=0,a=0,l=e;a<l.length;a++){var h=l[a],g=h.boundingBox.width*h.boundingBox.height;g>r&&(r=g,n=h)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],r=0,a=e;r<a.length;r++){var l=a[r];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.warn("".concat(l," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,a){e.set(n,r)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}();var Gw=function(t,e,n,r){function a(l){return l instanceof n?l:new n(function(h){h(l)})}return new(n||(n=Promise))(function(l,h){function g(E){try{y(r.next(E))}catch(b){h(b)}}function C(E){try{y(r.throw(E))}catch(b){h(b)}}function y(E){E.done?l(E.value):a(E.value).then(g,C)}y((r=r.apply(t,e||[])).next())})},Ww=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(y){return function(E){return C([y,E])}}function C(y){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(r=1,a&&(l=y[0]&2?a.return:y[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,y[1])).done)return l;switch(a=0,l&&(y=[y[0]&2,l.value]),y[0]){case 0:case 1:l=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,a=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!l||y[1]>l[0]&&y[1]<l[3])){n.label=y[1];break}if(y[0]===6&&n.label<l[1]){n.label=l[1],l=y;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(y);break}l[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(E){y=[6,E],a=0}finally{r=l=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},$w=function(){function t(e,n,r,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&Hh.isSupported()?(this.primaryDecoder=new Hh(e,r,a),this.secondaryDecoder=new jh(e,r,a)):this.primaryDecoder=new jh(e,r,a)}return t.prototype.decodeAsync=function(e){return Gw(this,void 0,void 0,function(){var n;return Ww(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return Gw(this,void 0,void 0,function(){var n,r;return Ww(this,function(a){switch(a.label){case 0:n=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,a.sent()];case 3:if(r=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,r=this.executionResults;n<r.length;n++){var a=r[n];e+=a}var l=e/this.executionResults.length;console.log("".concat(l," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}();var zh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ml=function(t,e,n,r){function a(l){return l instanceof n?l:new n(function(h){h(l)})}return new(n||(n=Promise))(function(l,h){function g(E){try{y(r.next(E))}catch(b){h(b)}}function C(E){try{y(r.throw(E))}catch(b){h(b)}}function y(E){E.done?l(E.value):a(E.value).then(g,C)}y((r=r.apply(t,e||[])).next())})},_l=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(y){return function(E){return C([y,E])}}function C(y){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(r=1,a&&(l=y[0]&2?a.return:y[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,y[1])).done)return l;switch(a=0,l&&(y=[y[0]&2,l.value]),y[0]){case 0:case 1:l=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,a=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!l||y[1]>l[0]&&y[1]<l[3])){n.label=y[1];break}if(y[0]===6&&n.label<l[1]){n.label=l[1],l=y;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(y);break}l[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(E){y=[6,E],a=0}finally{r=l=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Yw=function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var r={advanced:[n]};return this.track.applyConstraints(r)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t}(),AT=function(t){zh(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var r={};r[this.name]=n;var a={advanced:[r]};return this.track.applyConstraints(a)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(Yw),bT=function(t){zh(e,t);function e(n){return t.call(this,"zoom",n)||this}return e}(AT),ST=function(t){zh(e,t);function e(n){return t.call(this,"torch",n)||this}return e}(Yw),TT=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new bT(this.track)},t.prototype.torchFeature=function(){return new ST(this.track)},t}(),MT=function(){function t(e,n,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=e.surface.clientWidth,a=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,a),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,r,a){return Ml(this,void 0,void 0,function(){var l,h;return _l(this,function(g){switch(g.label){case 0:return l=new t(e,n,a),r.aspectRatio?(h={aspectRatio:r.aspectRatio},[4,l.getFirstTrackOrFail().applyConstraints(h)]):[3,2];case 1:g.sent(),g.label=2;case 2:return l.setupSurface(),[2,l]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,r=function(){setTimeout(e,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return Ml(this,void 0,void 0,function(){return _l(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,r){var a=e.mediaStream.getVideoTracks(),l=a.length,h=0;e.mediaStream.getVideoTracks().forEach(function(g){e.mediaStream.removeTrack(g),g.stop(),++h,h>=l&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new TT(this.getFirstTrackOrFail())},t}(),qw=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,r){return Ml(this,void 0,void 0,function(){return _l(this,function(a){return[2,MT.create(e,this.mediaStream,n,r)]})})},t.create=function(e){return Ml(this,void 0,void 0,function(){var n,r;return _l(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=a.sent(),[2,new t(r)]}})})},t}();var Zw=function(t,e,n,r){function a(l){return l instanceof n?l:new n(function(h){h(l)})}return new(n||(n=Promise))(function(l,h){function g(E){try{y(r.next(E))}catch(b){h(b)}}function C(E){try{y(r.throw(E))}catch(b){h(b)}}function y(E){E.done?l(E.value):a(E.value).then(g,C)}y((r=r.apply(t,e||[])).next())})},Xw=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(y){return function(E){return C([y,E])}}function C(y){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(r=1,a&&(l=y[0]&2?a.return:y[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,y[1])).done)return l;switch(a=0,l&&(y=[y[0]&2,l.value]),y[0]){case 0:case 1:l=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,a=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!l||y[1]>l[0]&&y[1]<l[3])){n.label=y[1];break}if(y[0]===6&&n.label<l[1]){n.label=l[1],l=y;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(y);break}l[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(E){y=[6,E],a=0}finally{r=l=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Qw=function(){function t(){}return t.failIfNotSupported=function(){return Zw(this,void 0,void 0,function(){return Xw(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return Zw(this,void 0,void 0,function(){return Xw(this,function(n){return[2,qw.create(e)]})})},t}();var _T=function(t,e,n,r){function a(l){return l instanceof n?l:new n(function(h){h(l)})}return new(n||(n=Promise))(function(l,h){function g(E){try{y(r.next(E))}catch(b){h(b)}}function C(E){try{y(r.throw(E))}catch(b){h(b)}}function y(E){E.done?l(E.value):a(E.value).then(g,C)}y((r=r.apply(t,e||[])).next())})},NT=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(y){return function(E){return C([y,E])}}function C(y){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(r=1,a&&(l=y[0]&2?a.return:y[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,y[1])).done)return l;switch(a=0,l&&(y=[y[0]&2,l.value]),y[0]){case 0:case 1:l=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,a=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!l||y[1]>l[0]&&y[1]<l[3])){n.label=y[1];break}if(y[0]===6&&n.label<l[1]){n.label=l[1],l=y;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(y);break}l[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(E){y=[6,E],a=0}finally{r=l=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Kw=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=Fr.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=Fr.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return _T(this,void 0,void 0,function(){var e,n,r,a,l,h,g;return NT(this,function(C){switch(C.label){case 0:return e=function(y){for(var E=y.getVideoTracks(),b=0,N=E;b<N.length;b++){var M=N[b];M.enabled=!1,M.stop(),y.removeTrack(M)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=C.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=C.sent(),a=[],l=0,h=r;l<h.length;l++)g=h[l],g.kind==="videoinput"&&a.push({id:g.deviceId,label:g.label});return e(n),[2,a]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var r=function(l){for(var h=[],g=0,C=l;g<C.length;g++){var y=C[g];y.kind==="video"&&h.push({id:y.id,label:y.label})}e(h)},a=MediaStreamTrack;a.getSources(r)})},t}();var Ke=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED",t}(Ke||{}),RT=function(){function t(){this.state=Ke.NOT_STARTED,this.onGoingTransactionNewState=Ke.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Ke.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ke.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ke.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ke.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ke.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Ke.UNKNOWN:throw"Transition from unknown is not allowed";case Ke.NOT_STARTED:this.failIfNewStateIs(e,[Ke.PAUSED]);break;case Ke.SCANNING:break;case Ke.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var r=0,a=n;r<a.length;r++){var l=a[r];if(e===l)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),OT=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Ke.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Ke.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ke.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Ke.PAUSED},t}();var Jw=function(){function t(){}return t.create=function(){return new OT(new RT)},t}();var LT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kt=function(t){LT(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(jt),FT=function(){function t(e,n){this.logger=n,this.fps=Kt.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Kt.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Uh.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!dn(this.qrbox)},t.create=function(e,n){return new t(e,n)},t}(),Mo=function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r,a;typeof n=="boolean"?this.verbose=n===!0:n&&(a=n,this.verbose=a.verbose===!0,r=a.experimentalFeatures),this.logger=new Sl(this.verbose),this.qrcode=new $w(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Jw.create()}return t.prototype.start=function(e,n,r,a){var l=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var h;a?h=a:h=this.verbose?this.logger.log:function(){};var g=FT.create(n,this.logger);this.clearElement();var C=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?C=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=C,E=document.getElementById(this.elementId),b=E.clientWidth?E.clientWidth:Kt.DEFAULT_WIDTH;E.style.position="relative",this.shouldScan=!0,this.element=E;var N=this,M=this.stateManagerProxy.startTransition(Ke.SCANNING);return new Promise(function(U,Y){var W=y?g.videoConstraints:N.createVideoConstraints(e);if(!W){M.cancel(),Y("videoConstraints should be defined");return}var H={};(!y||g.aspectRatio)&&(H.aspectRatio=g.aspectRatio);var ee={onRenderSurfaceReady:function(Ue,oe){N.setupUi(Ue,oe,g),N.isScanning=!0,N.foreverScan(g,r,h)}};Qw.failIfNotSupported().then(function(Ue){Ue.create(W).then(function(oe){return oe.render(l.element,H,ee).then(function(B){N.renderedCamera=B,M.execute(),U(null)}).catch(function(B){M.cancel(),Y(B)})}).catch(function(oe){M.cancel(),Y(Fr.errorGettingUserMedia(oe))})}).catch(function(Ue){M.cancel(),Y(Fr.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ke.PAUSED),this.showPausedState(),(dn(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(Ke.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Ke.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var l=document.getElementById(Kt.SHADED_REGION_ELEMENT_ID);l&&e.element.removeChild(l)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),r(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),n.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(r){return r.decodedText})},t.prototype.scanFileV2=function(e,n){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(dn(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,l){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var h=new Image;h.onload=function(){var g=h.width,C=h.height,y=document.getElementById(r.elementId),E=y.clientWidth?y.clientWidth:Kt.DEFAULT_WIDTH,b=Math.max(y.clientHeight?y.clientHeight:C,Kt.FILE_SCAN_MIN_HEIGHT),N=r.computeCanvasDrawConfig(g,C,E,b);if(n){var M=r.createCanvasElement(E,b,"qr-canvas-visible");M.style.display="inline-block",y.appendChild(M);var U=M.getContext("2d");if(!U)throw"Unable to get 2d context from canvas";U.canvas.width=E,U.canvas.height=b,U.drawImage(h,0,0,g,C,N.x,N.y,N.width,N.height)}var Y=Kt.FILE_SCAN_HIDDEN_CANVAS_PADDING,W=Math.max(h.width,N.width),H=Math.max(h.height,N.height),ee=W+2*Y,Ue=H+2*Y,oe=r.createCanvasElement(ee,Ue);y.appendChild(oe);var B=oe.getContext("2d");if(!B)throw"Unable to get 2d context from canvas";B.canvas.width=ee,B.canvas.height=Ue,B.drawImage(h,0,0,g,C,Y,Y,W,H);try{r.qrcode.decodeRobustlyAsync(oe).then(function(K){a(Bh.createFromQrcodeResult(K))}).catch(l)}catch(K){l("QR code parse error, error = ".concat(K))}},h.onerror=l,h.onabort=l,h.onstalled=l,h.onsuspend=l,h.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return Kw.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!Uh.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[Z.QR_CODE,Z.AZTEC,Z.CODABAR,Z.CODE_39,Z.CODE_93,Z.CODE_128,Z.DATA_MATRIX,Z.MAXICODE,Z.ITF,Z.EAN_13,Z.EAN_8,Z.PDF_417,Z.RSS_14,Z.RSS_EXPANDED,Z.UPC_A,Z.UPC_E,Z.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],a=0,l=e.formatsToSupport;a<l.length;a++){var h=l[a];Vw(h)?r.push(h):this.logger.warn("Invalid format: ".concat(h," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(dn(e))return!0;if(!dn(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(dn(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return dn(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,r){var a=this,l=r.qrbox;this.validateQrboxConfig(l);var h=this.toQrdimensions(e,n,l),g=function(y){if(y<Kt.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Kt.MIN_QR_BOX_SIZE,"px.")},C=function(y){return y>e&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=e),y};g(h.width),g(h.height),h.width=C(h.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,n)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return r},t.prototype.setupUi=function(e,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,r);var a=dn(r.qrbox)?{width:e,height:n}:r.qrbox;this.validateQrboxConfig(a);var l=this.toQrdimensions(e,n,a);l.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var h=r.isShadedBoxEnabled()&&l.height<=n,g={x:0,y:0,width:e,height:n},C=h?this.getShadedRegionBounds(e,n,l):g,y=this.createCanvasElement(C.width,C.height),E={willReadFrequently:!0},b=y.getContext("2d",E);b.canvas.width=C.width,b.canvas.height=C.height,this.element.append(y),h&&this.possiblyInsertShadingElement(this.element,e,n,l),this.createScannerPausedUiElement(this.element),this.qrRegion=C,this.context=b,this.canvasElement=y},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=Fr.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return e(a.text,Bh.createFromQrcodeResult(a)),r.possiblyUpdateShaders(!0),!0}).catch(function(a){r.possiblyUpdateShaders(!1);var l=Fr.codeParseError(a);return n(l,bl.createFrom(l)),!1})},t.prototype.foreverScan=function(e,n,r){var a=this;if(this.shouldScan&&this.renderedCamera){var l=this.renderedCamera.getSurface(),h=l.videoWidth/l.clientWidth,g=l.videoHeight/l.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var C=this.qrRegion.width*h,y=this.qrRegion.height*g,E=this.qrRegion.x*h,b=this.qrRegion.y*g;this.context.drawImage(l,E,b,C,y,0,0,this.qrRegion.width,this.qrRegion.height);var N=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(e,n,r)},a.getTimeoutFps(e.fps))};this.scanContext(n,r).then(function(M){!M&&e.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(n,r).finally(function(){N()})):N()}).catch(function(M){a.logger.logError("Error happend while scanning context",M),N()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",r="deviceId",a={user:!0,environment:!0},l="exact",h=function(U){if(U in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(U,"'")},g=Object.keys(e);if(g.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(g.length," keys");var C=Object.keys(e)[0];if(C!==n&&C!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(C===n){var y=e.facingMode;if(typeof y=="string"){if(h(y))return{facingMode:y}}else if(typeof y=="object")if(l in y){if(h(y["".concat(l)]))return{facingMode:{exact:y["".concat(l)]}}}else throw"'facingMode' should be string or object with"+" ".concat(l," as key.");else{var E=typeof y;throw"Invalid type of 'facingMode' = ".concat(E)}}else{var b=e.deviceId;if(typeof b=="string")return{deviceId:b};if(typeof b=="object"){if(l in b)return{deviceId:{exact:b["".concat(l)]}};throw"'deviceId' should be string or object with"+" ".concat(l," as key.")}else{var N=typeof b;throw"Invalid type of 'deviceId' = ".concat(N)}}}var M=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(M)},t.prototype.computeCanvasDrawConfig=function(e,n,r,a){if(e<=r&&n<=a){var l=(r-e)/2,h=(a-n)/2;return{x:l,y:h,width:e,height:n}}else{var g=e,C=n;return e>r&&(n=r/e*n,e=r),n>a&&(e=a/n*e,n=a),this.logger.log("Image downsampled from "+"".concat(g,"X").concat(C)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,r,a)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?Kt.BORDER_SHADER_MATCH_COLOR:Kt.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,r){var a=e,l=n,h=document.createElement("canvas");return h.style.width="".concat(a,"px"),h.style.height="".concat(l,"px"),h.style.display="none",h.id=dn(r)?"qr-canvas":r,h},t.prototype.getShadedRegionBounds=function(e,n,r){if(r.width>e||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},t.prototype.possiblyInsertShadingElement=function(e,n,r,a){if(!(n-a.width<1||r-a.height<1)){var l=document.createElement("div");l.style.position="absolute";var h=(n-a.width)/2,g=(r-a.height)/2;if(l.style.borderLeft="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderRight="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderTop="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderBottom="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),l.style.boxSizing="border-box",l.style.top="0px",l.style.bottom="0px",l.style.left="0px",l.style.right="0px",l.id="".concat(Kt.SHADED_REGION_ELEMENT_ID),n-a.width<11||r-a.height<11)this.hasBorderShaders=!1;else{var C=5,y=40;this.insertShaderBorders(l,y,C,-C,null,0,!0),this.insertShaderBorders(l,y,C,-C,null,0,!1),this.insertShaderBorders(l,y,C,null,-C,0,!0),this.insertShaderBorders(l,y,C,null,-C,0,!1),this.insertShaderBorders(l,C,y+C,-C,null,-C,!0),this.insertShaderBorders(l,C,y+C,null,-C,-C,!0),this.insertShaderBorders(l,C,y+C,-C,null,-C,!1),this.insertShaderBorders(l,C,y+C,null,-C,-C,!1),this.hasBorderShaders=!0}e.append(l)}},t.prototype.insertShaderBorders=function(e,n,r,a,l,h,g){var C=document.createElement("div");C.style.position="absolute",C.style.backgroundColor=Kt.BORDER_SHADER_DEFAULT_COLOR,C.style.width="".concat(n,"px"),C.style.height="".concat(r,"px"),a!==null&&(C.style.top="".concat(a,"px")),l!==null&&(C.style.bottom="".concat(l,"px")),g?C.style.left="".concat(h,"px"):C.style.right="".concat(h,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(C),e.appendChild(C)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}();var Gh="data:image/svg+xml;base64,",eC=Gh+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",tC=Gh+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Wh=Gh+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",nC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=";var rC=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),iC=function(){function t(){this.data=rC.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=rC.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}();var PT=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Vh.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),a=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(a);var l=document.createElement("a");l.innerText=Vh.reportIssues(),l.href="https://github.com/mebjas/html5-qrcode/issues",l.target="new",l.style.color="white",this.infoDiv.appendChild(l),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),kT=function(){function t(e,n){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=n,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Wh,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=nC,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Wh,this.infoIcon.style.opacity="0.6")},t}(),oC=function(){function t(){var e=this;this.infoDiv=new PT,this.infoIcon=new kT(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t}();var BT=function(t,e,n,r){function a(l){return l instanceof n?l:new n(function(h){h(l)})}return new(n||(n=Promise))(function(l,h){function g(E){try{y(r.next(E))}catch(b){h(b)}}function C(E){try{y(r.throw(E))}catch(b){h(b)}}function y(E){E.done?l(E.value):a(E.value).then(g,C)}y((r=r.apply(t,e||[])).next())})},VT=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(y){return function(E){return C([y,E])}}function C(y){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(r=1,a&&(l=y[0]&2?a.return:y[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,y[1])).done)return l;switch(a=0,l&&(y=[y[0]&2,l.value]),y[0]){case 0:case 1:l=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,a=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!l||y[1]>l[0]&&y[1]<l[3])){n.label=y[1];break}if(y[0]===6&&n.label<l[1]){n.label=l[1],l=y;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(y);break}l[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(E){y=[6,E],a=0}finally{r=l=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},$h=function(){function t(){}return t.hasPermissions=function(){return BT(this,void 0,void 0,function(){var e,n,r,a;return VT(this,function(l){switch(l.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=l.sent(),n=0,r=e;n<r.length;n++)if(a=r[n],a.kind==="videoinput"&&a.label)return[2,!0];return[2,!1]}})})},t}();var rr=function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,n=this.supportedScanTypes;e<n.length;e++){var r=n[e];if(t.isCameraScanType(r))return!0}return!1},t.isCameraScanType=function(e){return e===Un.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===Un.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return jt.DEFAULT_SUPPORTED_SCAN_TYPE;var n=jt.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,a=e;r<a.length;r++){var l=a[r];if(!jt.DEFAULT_SUPPORTED_SCAN_TYPE.includes(l))throw"Unsupported scan type ".concat(l)}return e},t}();var yt=function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t}();var Ht=function(){function t(){}return t.createElement=function(e,n){var r=document.createElement(e);return r.id=n,r.classList.add(yt.ALL_ELEMENT_CLASS),e==="button"&&r.setAttribute("type","button"),r},t}();var aC=function(t,e,n,r){function a(l){return l instanceof n?l:new n(function(h){h(l)})}return new(n||(n=Promise))(function(l,h){function g(E){try{y(r.next(E))}catch(b){h(b)}}function C(E){try{y(r.throw(E))}catch(b){h(b)}}function y(E){E.done?l(E.value):a(E.value).then(g,C)}y((r=r.apply(t,e||[])).next())})},cC=function(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(y){return function(E){return C([y,E])}}function C(y){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(r=1,a&&(l=y[0]&2?a.return:y[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,y[1])).done)return l;switch(a=0,l&&(y=[y[0]&2,l.value]),y[0]){case 0:case 1:l=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,a=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!l||y[1]>l[0]&&y[1]<l[3])){n.label=y[1];break}if(y[0]===6&&n.label<l[1]){n.label=l[1],l=y;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(y);break}l[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(E){y=[6,E],a=0}finally{r=l=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},sC=function(){function t(e,n,r){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=n,this.onTorchActionFailureCallback=r}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return aC(this,void 0,void 0,function(){var e,n;return cC(this,function(r){switch(r.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return n=r.sent(),this.propagateFailure(e,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,n){e===n?(this.buttonController.setText(n?Te.torchOffButton():Te.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},t.prototype.propagateFailure=function(e,n){var r=e?Te.torchOnFailedMessage():Te.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},t.prototype.reset=function(){this.isTorchOn=!1},t}(),lC=function(){function t(e,n){this.onTorchActionFailureCallback=n,this.torchButton=Ht.createElement("button",yt.TORCH_BUTTON_ID),this.torchController=new sC(e,this,n)}return t.prototype.render=function(e,n){var r=this;this.torchButton.innerText=Te.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var a=this;this.torchButton.addEventListener("click",function(l){return aC(r,void 0,void 0,function(){return cC(this,function(h){switch(h.label){case 0:return[4,a.torchController.flipState()];case 1:return h.sent(),a.torchController.isTorchEnabled()?(a.torchButton.classList.remove(yt.TORCH_BUTTON_CLASS_TORCH_OFF),a.torchButton.classList.add(yt.TORCH_BUTTON_CLASS_TORCH_ON)):(a.torchButton.classList.remove(yt.TORCH_BUTTON_CLASS_TORCH_ON),a.torchButton.classList.add(yt.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new sC(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=Te.torchOnButton(),this.torchController.reset()},t.create=function(e,n,r,a){var l=new t(n,a);return l.render(e,r),l},t}();var uC=function(){function t(e,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",e.appendChild(this.fileBasedScanRegion);var a=document.createElement("label");a.setAttribute("for",this.getFileScanInputId()),a.style.display="inline-block",this.fileBasedScanRegion.appendChild(a),this.fileSelectionButton=Ht.createElement("button",yt.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(g){a.click()}),a.append(this.fileSelectionButton),this.fileScanInput=Ht.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",a.appendChild(this.fileScanInput);var l=this;this.fileScanInput.addEventListener("change",function(g){if(!(g==null||g.target==null)){var C=g.target;if(!(C.files&&C.files.length===0)){var y=C.files,E=y[0],b=E.name;l.setImageNameToButton(b),r(E)}}});var h=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(h),this.fileBasedScanRegion.addEventListener("dragenter",function(g){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(g){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionDefaultBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(g){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(g){g.stopPropagation(),g.preventDefault(),l.fileBasedScanRegion.style.border=l.fileBasedScanRegionDefaultBorder();var C=g.dataTransfer;if(C){var y=C.files;if(!y||y.length===0)return;for(var E=!1,b=0;b<y.length;++b){var N=y.item(b);if(N){var M=/image.*/;if(N.type.match(M)){E=!0;var U=N.name;l.setImageNameToButton(U),r(N),h.innerText=Te.dragAndDropMessage();break}}}E||(h.innerText=Te.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=Te.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var n=20;if(e.length>n){var r=e.substring(0,8),a=e.length,l=e.substring(a-8,a);e="".concat(r,"....").concat(l)}var h=Te.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=h},t.prototype.setInitialValueToButton=function(){var e=Te.fileSelectionChooseImage()+" - "+Te.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,n,r){var a=new t(e,n,r);return a},t}();var dC=function(){function t(e){this.selectElement=Ht.createElement("select",yt.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var a=Te.selectCamera();n.innerText="".concat(a," (").concat(this.cameras.length,")  ")}for(var l=1,h=0,g=this.cameras;h<g.length;h++){var C=g[h],y=C.id,E=C.label==null?y:C.label;(!E||E==="")&&(E=[Te.anonymousCameraPrefix(),l++].join(" "));var b=document.createElement("option");b.value=y,b.innerText=E,this.options.push(b),this.selectElement.appendChild(b)}n.appendChild(this.selectElement),e.appendChild(n)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var n=0,r=this.options;n<r.length;n++){var a=r[n];if(a.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,n){var r=new t(n);return r.render(e),r},t}();var fC=function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ht.createElement("input",yt.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Te.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var a=this;this.rangeInput.addEventListener("input",function(){return a.onValueChange()}),this.rangeInput.addEventListener("change",function(){return a.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=Te.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,n,r,a){this.rangeInput.min=e.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=a.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,n){var r=new t;return r.render(e,n),r},t}();var fn=function(t){return t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION",t}(fn||{});function UT(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function jT(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var HT=function(){function t(e,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new rr(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Sl(this.verbose),this.persistedDataManager=new iC,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(l,h){if(e)e(l,h);else{if(r.lastMatchFound===l)return;r.lastMatchFound=l,r.setHeaderMessage(Te.lastMatch(l),fn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(l,h){n&&n(l,h)};var a=document.getElementById(this.elementId);if(!a)throw"HTML Element with id=".concat(this.elementId," not found");a.innerHTML="",this.createBasicLayout(a),this.html5Qrcode=new Mo(this.getScanRegionId(),jT(this.config,this.verbose))},t.prototype.pause=function(e){(dn(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,n=function(){var r=document.getElementById(e.elementId);r&&(r.innerHTML="",e.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,a){if(!e.html5Qrcode){r();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(l){if(!e.html5Qrcode){r();return}e.html5Qrcode.clear(),n(),r()}).catch(function(l){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",l),a(l)}):(e.html5Qrcode.clear(),n(),r())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=jt.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!jt.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=jt.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=jt.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:jt.SCAN_DEFAULT_FPS,rememberLastUsedCamera:jt.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:jt.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",e.appendChild(n),rr.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var a=document.createElement("div"),l=this.getDashboardId();a.id=l,a.style.width="100%",e.appendChild(a),this.setupInitialDashboard(a)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",e.appendChild(n);var r=new oC;r.renderInto(n);var a=document.createElement("div");a.id=this.getHeaderMessageContainerId(),a.style.display="none",a.style.textAlign="center",a.style.fontSize="14px",a.style.padding="2px 10px",a.style.margin="4px",a.style.borderTop="1px solid #f6f6f6",n.appendChild(a)},t.prototype.createSection=function(e){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",e.appendChild(n)},t.prototype.createCameraListUi=function(e,n,r){var a=this;a.showHideScanTypeSwapLink(!1),a.setHeaderMessage(Te.cameraPermissionRequesting());var l=function(){r||a.createPermissionButton(e,n)};Mo.getCameras().then(function(h){a.persistedDataManager.setHasPermission(!0),a.showHideScanTypeSwapLink(!0),a.resetHeaderMessage(),h&&h.length>0?(e.removeChild(n),a.renderCameraSelection(h)):(a.setHeaderMessage(Te.noCameraFound(),fn.STATUS_WARNING),l())}).catch(function(h){a.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:l(),a.setHeaderMessage(h,fn.STATUS_WARNING),a.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,n){var r=this,a=Ht.createElement("button",this.getCameraPermissionButtonId());a.innerText=Te.cameraPermissionTitle(),a.addEventListener("click",function(){a.disabled=!0,r.createCameraListUi(e,n,a)}),n.appendChild(a)},t.prototype.createPermissionsUi=function(e,n){var r=this;if(rr.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){$h.hasPermissions().then(function(a){a?r.createCameraListUi(e,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n))}).catch(function(a){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n)});return}this.createPermissionButton(e,n)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");e.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=rr.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var a=document.createElement("div");a.style.textAlign="center",r.appendChild(a),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,a),this.renderFileScanUi(n)},t.prototype.renderFileScanUi=function(e){var n=rr.isFileScanType(this.currentScanType),r=this,a=function(l){if(!r.html5Qrcode)throw"html5Qrcode not defined";rr.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Te.loadingImage()),r.html5Qrcode.scanFileV2(l,!0).then(function(h){r.resetHeaderMessage(),r.qrCodeSuccessCallback(h.decodedText,h)}).catch(function(h){r.setHeaderMessage(h,fn.STATUS_WARNING),r.qrCodeErrorCallback(h,bl.createFrom(h))}))};this.fileSelectionUi=uC.create(e,n,a)},t.prototype.renderCameraSelection=function(e){var n=this,r=this,a=document.getElementById(this.getDashboardSectionCameraScanRegionId());a.style.textAlign="center";var l=fC.create(a,!1),h=function(Y){var W=Y.zoomFeature();if(W.isSupported()){l.setOnCameraZoomValueChangeCallback(function(ee){W.apply(ee)});var H=1;n.config.defaultZoomValueIfSupported&&(H=n.config.defaultZoomValueIfSupported),H=jw(H,W.min(),W.max()),l.setValues(W.min(),W.max(),H,W.step()),l.show()}},g=dC.create(a,e),C=document.createElement("span"),y=Ht.createElement("button",yt.CAMERA_START_BUTTON_ID);y.innerText=Te.scanButtonStartScanningText(),C.appendChild(y);var E=Ht.createElement("button",yt.CAMERA_STOP_BUTTON_ID);E.innerText=Te.scanButtonStopScanningText(),E.style.display="none",E.disabled=!0,C.appendChild(E);var b,N=function(Y){if(!Y.torchFeature().isSupported()){b&&b.hide();return}b?b.updateTorchCapability(Y.torchFeature()):b=lC.create(C,Y.torchFeature(),{display:"none",marginLeft:"5px"},function(W){r.setHeaderMessage(W,fn.STATUS_WARNING)}),b.show()};a.appendChild(C);var M=function(Y){Y||(y.style.display="none"),y.innerText=Te.scanButtonStartScanningText(),y.style.opacity="1",y.disabled=!1,Y&&(y.style.display="inline-block")};if(y.addEventListener("click",function(Y){y.innerText=Te.scanButtonScanningStarting(),g.disable(),y.disabled=!0,y.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var W=g.getValue();r.persistedDataManager.setLastUsedCameraId(W),r.html5Qrcode.start(W,UT(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(H){E.disabled=!1,E.style.display="inline-block",M(!1);var ee=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&N(ee),n.config.showZoomSliderIfSupported===!0&&h(ee)}).catch(function(H){r.showHideScanTypeSwapLink(!0),g.enable(),M(!0),r.setHeaderMessage(H,fn.STATUS_WARNING)})}),g.hasSingleItem()&&y.click(),E.addEventListener("click",function(Y){if(!r.html5Qrcode)throw"html5Qrcode not defined";E.disabled=!0,r.html5Qrcode.stop().then(function(W){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),g.enable(),y.disabled=!1,E.style.display="none",y.style.display="inline-block",b&&(b.reset(),b.hide()),l.removeOnCameraZoomValueChangeCallback(),l.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(W){E.disabled=!1,r.setHeaderMessage(W,fn.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var U=r.persistedDataManager.getLastUsedCameraId();g.hasValue(U)?(g.setValue(U),y.click()):r.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,n=Te.textIfCameraScanSelected(),r=Te.textIfFileScanSelected(),a=document.getElementById(this.getDashboardSectionId()),l=document.createElement("div");l.style.textAlign="center";var h=Ht.createElement("span",this.getDashboardSectionSwapLinkId());h.style.textDecoration="underline",h.style.cursor="pointer",h.innerText=rr.isCameraScanType(this.currentScanType)?n:r,h.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,rr.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),h.innerText=r,e.currentScanType=Un.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),h.innerText=n,e.currentScanType=Un.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),l.appendChild(h),a.appendChild(l)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){$h.hasPermissions().then(function(r){if(r){var a=document.getElementById(n.getCameraPermissionButtonId());if(!a)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";a.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,n){n||(n=fn.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=e,r.style.display="block",n){case fn.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case fn.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case fn.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=eC,this.cameraScanImage.alt=Te.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=tC,this.fileScanImage.alt=Te.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return yt.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return yt.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t}();var zT=["qrCodeScanner"],hC=(()=>{let e=class e{constructor(){this.scannerInputID="scan-qr-code-file-input"}scanQrCode(r){return tu(this,null,function*(){let a=new Mo(this.scannerInputID);this.scanResult=yield a.scanFile(r.target.files[0])})}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=Dr({type:e,selectors:[["app-read-qr-code"]],viewQuery:function(a,l){if(a&1&&Rc(zT,5),a&2){let h;us(h=ds())&&(l.qrCodeScanner=h.first)}},standalone:!0,features:[Tr],decls:6,vars:2,consts:[["qrCodeScanner",""],["type","file","accept","image/*",3,"change","id"]],template:function(a,l){if(a&1){let h=Nc();an(0,"h1"),ii(1,"read-qr-code"),cn(),an(2,"input",1,0),Qn("change",function(C){return Ac(h),bc(l.scanQrCode(C))}),cn(),an(4,"p"),ii(5),cn()}a&2&&(so(2),lo("id",l.scannerInputID),so(3),af(l.scanResult))}});let t=e;return t})();var pC=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=Dr({type:e,selectors:[["app-root"]],standalone:!0,features:[Tr],decls:4,vars:0,consts:[[1,"main"]],template:function(a,l){a&1&&(an(0,"main",0),Sr(1,"app-generate-qr-code")(2,"app-read-qr-code")(3,"router-outlet"),cn())},dependencies:[Jf,kw,hC]});let t=e;return t})();Im(pC,ly).catch(t=>console.error(t));
